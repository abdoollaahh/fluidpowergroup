{"version":3,"file":"static/js/main.e49a1751.js","mappings":"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","sources":["src/useEnvLoader.js","components/ScrollableGradientWrapper.js","screens/WelcomeScreen.js","components/Prices/HosePrices.js","screens/HoseSelectionScreen.js","screens/FittingSelectionScreen.js","screens/End1FittingScreen.js","components/Prices/BSPPrices.js","screens/BSPFittingScreen1.js","components/Prices/JICPrices.js","screens/JICFittingScreen1.js","components/Prices/MetricPrices.js","screens/MetricFittingScreen1.js","components/Prices/ORFSPrices.js","screens/OrfsScreen1.js","screens/End2FittingScreen.js","screens/BSPFittingScreen2.js","screens/JICFittingScreen2.js","screens/MetricFittingScreen2.js","screens/OrfsScreen2.js","screens/OrientationSelectionScreen.js","screens/NextArrowButton.js","screens/CutLengthsScreen.js","screens/HoseProtectionScreen.js","screens/PressureTestingScreen.js","screens/ShippingOptionsScreen.js","context/CartContext.js","components/GlobalCartButton.js","components/PDFGenerator/index.js","components/OrderConfirmation1/OrderPDFGeneration.js","components/OrderConfirmation1/OrderSummaryDisplay.js","screens/OrderConfirmationScreen1.js","screens/ShippingDetailsScreen.js","components/PayPalButtonWrapper.js","screens/PaymentScreen.js","utils/emailService.js","screens/OrderConfirmationScreen.js","screens/TrialScreen2.js","screens/OrderDetailsScreen.js","components/ScreenWrapper.js","screens/OrderDetailsScreen1.js","components/PaymentSuccessPage.js","screens/PaymentReturnScreen.js","screens/CartScreen.js","App.js","components/PDFGenerator/WebPDFGenerator.js","src/crypto-polyfill.js","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nconst useEnvLoader = () => {\n  const [isEnvLoaded, setIsEnvLoaded] = useState(false);\n\n  useEffect(() => {\n    const loadEnvScript = () => {\n      return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.src = 'http://localhost:3001/env.js';  // Reference to your env.js\n        script.async = true;\n        script.onload = () => resolve(true);\n        script.onerror = (err) => reject(err);\n        document.head.appendChild(script);\n      });\n    };\n\n    loadEnvScript()\n      .then(() => {\n        setIsEnvLoaded(true);\n      })\n      .catch((error) => {\n        console.error('Error loading env.js:', error);\n        setIsEnvLoaded(true);  // We can still proceed even if it fails\n      });\n  }, []);\n\n  return isEnvLoaded;\n};\n\nexport default useEnvLoader;\n","// components/ScrollableGradientWrapper.js\nimport React, { useEffect, useRef } from 'react';\nimport { View, Platform } from 'react-native';\n\nconst ScrollableGradientWrapper = ({ children, style }) => {\n  const wrapperRef = useRef(null);\n  const gradientRef = useRef(null);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const checkScroll = () => {\n        if (!wrapperRef.current || !gradientRef.current) return;\n\n        const wrapper = wrapperRef.current;\n        const scrollableDistance = wrapper.scrollHeight - wrapper.clientHeight;\n        const currentScroll = wrapper.scrollTop;\n        const isScrollable = scrollableDistance > 0;\n        const isAtBottom = Math.ceil(currentScroll) >= Math.floor(scrollableDistance);\n\n        // Show/hide gradient\n        if (gradientRef.current) {\n          gradientRef.current.style.opacity = (isScrollable && !isAtBottom) ? '1' : '0';\n        }\n      };\n\n      // Create ResizeObserver to monitor content size changes\n      const resizeObserver = new ResizeObserver((entries) => {\n        checkScroll();\n      });\n\n      // Initial checks with multiple timings\n      const initialChecks = () => {\n        checkScroll();\n        setTimeout(checkScroll, 100);\n        setTimeout(checkScroll, 500);\n        setTimeout(checkScroll, 1000);\n      };\n\n      if (wrapperRef.current) {\n        // Observe size changes\n        resizeObserver.observe(wrapperRef.current);\n        \n        // Add scroll listener\n        wrapperRef.current.addEventListener('scroll', checkScroll);\n        \n        // Watch for content changes\n        const mutationObserver = new MutationObserver(initialChecks);\n        mutationObserver.observe(wrapperRef.current, {\n          childList: true,\n          subtree: true\n        });\n\n        // Initial check\n        initialChecks();\n      }\n\n      // Handle window resize\n      window.addEventListener('resize', checkScroll);\n\n      // Cleanup\n      return () => {\n        if (wrapperRef.current) {\n          wrapperRef.current.removeEventListener('scroll', checkScroll);\n        }\n        resizeObserver.disconnect();\n        window.removeEventListener('resize', checkScroll);\n      };\n    }\n  }, []);\n\n  if (Platform.OS === 'web') {\n    return (\n      <div\n        ref={wrapperRef}\n        style={{\n          height: '100vh',\n          overflowY: 'auto',\n          position: 'relative',\n          backgroundColor: 'white',\n          ...style,\n          isolation: 'isolate',\n        }}\n      >\n        <div style={{ \n          minHeight: '100%',\n          paddingBottom: '100px',\n          position: 'relative',\n          zIndex: 1\n        }}>\n          {children}\n        </div>\n        <div \n          ref={gradientRef}\n          style={{\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            height: '120px',\n            background: 'linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 30%, rgba(255, 255, 255, 1) 100%)',\n            pointerEvents: 'none',\n            zIndex: 2,\n            transition: 'opacity 0.3s ease',\n            opacity: '0'\n          }} \n        />\n      </div>\n    );\n  }\n\n  return <View style={style}>{children}</View>;\n};\n\nexport default ScrollableGradientWrapper;","import React, { useRef, useEffect, useState } from 'react';\r\nimport { View, Text, StyleSheet, Image, TouchableOpacity, Animated, SafeAreaView, Modal, Platform, Dimensions } from 'react-native';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { Linking } from 'react-native';\r\n\r\n// Assuming ScrollableGradientWrapper is correctly imported from '../components/ScrollableGradientWrapper'\r\n\r\nconst WelcomeScreen = ({ navigation }) => {\r\nconst fadeAnim = useRef(new Animated.Value(1)).current;\r\nconst [showSelectionModal, setShowSelectionModal] = useState(false);\r\nconst modalFadeAnim = useRef(new Animated.Value(0)).current;\r\nconst [selectedButton, setSelectedButton] = useState(null);\r\nconst [currentFeedbackIndex, setCurrentFeedbackIndex] = useState(0);\r\nconst handleEbayStorePress = () => {Linking.openURL('https://www.ebay.com.au/str/fluidpowergroup');};\r\nconst feedbackFadeAnim = useRef(new Animated.Value(1)).current;\r\nconst [isStartButtonHovered, setIsStartButtonHovered] = useState(false);\r\n\r\nconst handleStartSelection = () => {\r\nsetShowSelectionModal(true);\r\nAnimated.timing(modalFadeAnim, {\r\ntoValue: 1,\r\nduration: 800,\r\n// Use native driver where possible, but be mindful of layout properties if issues arise\r\nuseNativeDriver: Platform.OS !== 'web', // Generally safe for opacity\r\n}).start();\r\n};\r\n\r\n// Helper function for modal closing animation and navigation\r\nconst animateAndNavigate = (buttonKey, screenName, params = {}) => {\r\nsetSelectedButton(buttonKey);\r\nAnimated.timing(modalFadeAnim, {\r\ntoValue: 0,\r\nduration: 500, // Consistent duration for closing\r\nuseNativeDriver: Platform.OS !== 'web',\r\n}).start(() => {\r\nsetShowSelectionModal(false);\r\nsetSelectedButton(null); // Reset selection after animation completes\r\nnavigation.navigate(screenName, params);\r\n});\r\n};\r\n\r\nconst handleBuildHose = () => {\r\nanimateAndNavigate('build', 'HoseSelection', { isHoseOnly: false });\r\n};\r\n\r\nconst handleHoseOnly = () => {\r\nanimateAndNavigate('hoseOnly', 'HoseSelection', { isHoseOnly: true });\r\n};\r\n\r\nconst handleOrderFitting = () => {\r\nanimateAndNavigate('order', 'End1Fitting', {\r\nselectedHose: null,\r\nselectedHosePrice: null,\r\nisOrderFittingMode: true\r\n});\r\n};\r\n\r\n// --- New Handler for Adapters ---\r\nconst handleOrderAdapter = () => {\r\nanimateAndNavigate('adapter', 'AdapterShape'); // Navigate to the new screen\r\n};\r\n// --- End New Handler ---\r\n\r\nconst handleCloseModal = () => {\r\nAnimated.timing(modalFadeAnim, {\r\ntoValue: 0,\r\nduration: 500,\r\nuseNativeDriver: Platform.OS !== 'web',\r\n}).start(() => {\r\nsetShowSelectionModal(false);\r\nsetSelectedButton(null);\r\n});\r\n};\r\n\r\nconst feedbackComments = [\r\n{ id: 1, image: require('../assets/feedback1.png')},\r\n{ id: 2, image: require('../assets/feedback2.png')},\r\n{ id: 3, image: require('../assets/feedback3.png')},\r\n{ id: 4, image: require('../assets/feedback4.png')},\r\n{ id: 5, image: require('../assets/feedback5.png')},\r\n{ id: 6, image: require('../assets/feedback6.png')},\r\n];\r\n\r\nconst fadeIn = () => {\r\nfadeAnim.setValue(0);\r\nAnimated.timing(fadeAnim, {\r\ntoValue: 1,\r\nduration: 800,\r\nuseNativeDriver: Platform.OS !== 'web',\r\n}).start();\r\n};\r\n\r\nuseFocusEffect(\r\nReact.useCallback(() => {\r\nfadeIn();\r\n// Ensure modal is hidden and animation reset if navigating back\r\nsetShowSelectionModal(false);\r\nmodalFadeAnim.setValue(0);\r\nsetSelectedButton(null);\r\nsetIsStartButtonHovered(false);\r\nreturn () => {\r\n// Optional cleanup if needed when screen loses focus\r\n};\r\n}, [])\r\n);\r\n\r\nuseEffect(() => {\r\nconst interval = setInterval(() => {\r\nAnimated.timing(feedbackFadeAnim, {\r\ntoValue: 0,\r\nduration: 400,\r\nuseNativeDriver: true,\r\n}).start(() => {\r\nsetCurrentFeedbackIndex((prev) =>\r\nprev === feedbackComments.length - 1 ? 0 : prev + 1\r\n);\r\nAnimated.timing(feedbackFadeAnim, {\r\ntoValue: 1,\r\nduration: 400,\r\nuseNativeDriver: true,\r\n}).start();\r\n});\r\n}, 5000);\r\n\r\nreturn () => clearInterval(interval);\r\n\r\n}, [feedbackComments.length]);\r\n\r\nconst handlePhonePress = () => {\r\nLinking.openURL('tel:+61409517333');\r\n};\r\n\r\nconst handleEmailPress = () => {\r\nLinking.openURL('mailto:info@fluidpowergroup.com.au');\r\n};\r\n\r\nreturn (\r\n<View style={styles.mainContainer}>\r\n{/* Ensure ScrollableGradientWrapper is correctly implemented */}\r\n<ScrollableGradientWrapper>\r\n<SafeAreaView style={styles.container}>\r\n<View style={styles.logoContainer}>\r\n<Image\r\nsource={require('../assets/fluidpower_logo.gif')}\r\nstyle={styles.logo}\r\nresizeMode=\"contain\"\r\n/>\r\n</View>\r\n<Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n<View style={styles.titleContainer}>\r\n<Text style={styles.title}>Hydraulic Hose Builder</Text>\r\n</View>\r\n\r\n<View style={styles.messageContainer}>\r\n          <Text style={styles.messageText}>\r\n            You are just a <Text style={styles.highlightText}>FEW</Text> steps away from\r\n          </Text>\r\n          <Text style={styles.messageText}>\r\n            <Text style={styles.highlightText}>CREATING</Text> your <Text style={styles.highlightText}>OWN HYDRAULIC HOSE</Text>\r\n          </Text>\r\n        </View>\r\n\r\n        <View style={styles.imageContainer}>\r\n          <Image\r\n            source={require('../assets/welcome_hose.gif')}\r\n            style={styles.hoseImage}\r\n            resizeMode=\"contain\"\r\n          />\r\n        </View>\r\n\r\n        <View style={styles.instructionsContainer}>\r\n          <Text style={styles.instructionsText}>\r\n            Select the <Text style={styles.highlightText2}>Hose Size</Text>, <Text style={styles.highlightText2}>End Fittings</Text>\r\n          </Text>\r\n          <Text style={styles.instructionsText}>\r\n            and <Text style={styles.highlightText2}>Cut Length</Text>.\r\n          </Text>\r\n\r\n          <Text style={[styles.instructionsText, styles.spacedText]}>\r\n            We will crimp and ship it the <Text style={styles.highlightText}>SAME DAY</Text>*.\r\n          </Text>\r\n\r\n          <Text style={[styles.instructionsText, styles.spacedText]}>\r\n            You're all set!\r\n          </Text>\r\n\r\n          <Text style={[styles.instructionsText, styles.spacedText]}>\r\n            Let's get started.\r\n          </Text>\r\n        </View>\r\n\r\n        <TouchableOpacity\r\n          style={[\r\n            styles.startButton,\r\n            isStartButtonHovered && styles.startButtonHovered\r\n          ]}\r\n          onPress={handleBuildHose}\r\n          onPressIn={() => setIsStartButtonHovered(true)}\r\n          onPressOut={() => setIsStartButtonHovered(false)}\r\n          onMouseEnter={Platform.OS === 'web' ? () => setIsStartButtonHovered(true) : undefined}\r\n          onMouseLeave={Platform.OS === 'web' ? () => setIsStartButtonHovered(false) : undefined}\r\n        >\r\n          <View style={styles.glassOverlay} />\r\n          <Text style={styles.startButtonText}>START SELECTION</Text>\r\n        </TouchableOpacity>\r\n\r\n        {/* Feedback flyer \r\n         \r\n        <View style={styles.feedbackFlyerContainer}>\r\n          <Text style={styles.feedbackHeading}>Hear From Our Customers</Text>\r\n          <View style={styles.ebayStoreRow}>\r\n            <Text style={styles.ebaySourceText}>Genuine feedback from our </Text>\r\n            <TouchableOpacity onPress={handleEbayStorePress}>\r\n              <Text style={styles.ebayLinkText}>eBay Store</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={styles.feedbackSlideContainer}>\r\n            <Animated.View\r\n              style={[\r\n                styles.feedbackSlide,\r\n                { opacity: feedbackFadeAnim }\r\n              ]}\r\n            >\r\n              <Image\r\n                source={feedbackComments[currentFeedbackIndex].image}\r\n                style={styles.feedbackImage}\r\n                resizeMode=\"contain\"\r\n              />\r\n            </Animated.View>\r\n          </View>\r\n\r\n          <Text style={styles.taglineText}>Trusted Service, Now Direct To You!</Text>\r\n\r\n          <View style={styles.feedbackIndicators}>\r\n            {feedbackComments.map((_, index) => (\r\n              <View\r\n                key={index}\r\n                style={[\r\n                  styles.indicator,\r\n                  currentFeedbackIndex === index && styles.activeIndicator\r\n                ]}\r\n              />\r\n            ))}\r\n          </View>\r\n        </View>\r\n        \r\n           */}\r\n\r\n        <View style={styles.asteriskContainer}>\r\n          <Text style={styles.asteriskText}>\r\n            *<Text style={styles.highlightText}>CUT OFF</Text> time for{' '}\r\n            <Text style={styles.highlightText}>SAME DAY</Text> shipping is{' '}\r\n            <Text style={styles.highlightText}>1530</Text> hrs AEST.\r\n          </Text>\r\n\r\n          <Text style={styles.enquiryText}>\r\n            For any and all enquiries:\r\n          </Text>\r\n\r\n          <TouchableOpacity onPress={handlePhonePress}>\r\n            <Text style={styles.contactText}>\r\n              +61 409 517 333\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity onPress={handleEmailPress}>\r\n            <Text style={styles.contactText}>\r\n              email: info@fluidpowergroup.com.au\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <Text style={styles.copyrightText}>\r\n            FluidPower Group All Rights Reserved {new Date().getFullYear()}\r\n          </Text>\r\n\r\n          <Text style={styles.appCreditsText}>\r\n            app by aBC\r\n          </Text>\r\n        </View>\r\n      </Animated.View>\r\n    </SafeAreaView>\r\n  </ScrollableGradientWrapper>\r\n\r\n  {/* --- Modal Update --- */}\r\n  <Modal\r\n    transparent={true}\r\n    visible={showSelectionModal}\r\n    onRequestClose={handleCloseModal}\r\n    animationType=\"none\" // Control animation manually\r\n  >\r\n    <View style={styles.modalOverlay}>\r\n      <TouchableOpacity\r\n        style={styles.overlayBackground}\r\n        activeOpacity={1}\r\n        onPress={handleCloseModal}\r\n      />\r\n      <Animated.View style={[styles.selectionContainer, { opacity: modalFadeAnim, transform: [{ scale: modalFadeAnim }] }]}>\r\n        {/* Added scale transform for a subtle zoom effect */}\r\n        <Text style={styles.selectionTitle}>You are here to</Text>\r\n\r\n        <TouchableOpacity\r\n          style={[\r\n            styles.selectionButton,\r\n            selectedButton === 'hoseOnly' && styles.selectedButton\r\n          ]}\r\n          onPress={handleHoseOnly}\r\n        >\r\n          <Text style={styles.selectionButtonText}>Order Hose Only</Text>\r\n        </TouchableOpacity>\r\n\r\n        <TouchableOpacity\r\n          style={[\r\n            styles.selectionButton,\r\n            selectedButton === 'order' && styles.selectedButton\r\n          ]}\r\n          onPress={handleOrderFitting}\r\n        >\r\n          <Text style={styles.selectionButtonText}>Order Fitting Only</Text>\r\n        </TouchableOpacity>\r\n\r\n        {/* --- New Button --- \r\n        <TouchableOpacity\r\n          style={[\r\n            styles.selectionButton,\r\n            selectedButton === 'adapter' && styles.selectedButton // Use 'adapter' key\r\n          ]}\r\n          onPress={handleOrderAdapter} // Use the new handler\r\n        >\r\n          <Text style={styles.selectionButtonText}>Order Adapters</Text>\r\n        </TouchableOpacity>\r\n        {/* --- End New Button --- */}\r\n\r\n\r\n        <TouchableOpacity\r\n          style={[\r\n            styles.selectionButton,\r\n            selectedButton === 'build' && styles.selectedButton\r\n          ]}\r\n          onPress={handleBuildHose}\r\n        >\r\n          <Text style={styles.selectionButtonText}>Build Complete Hose</Text>\r\n        </TouchableOpacity>\r\n\r\n      </Animated.View>\r\n    </View>\r\n  </Modal>\r\n  {/* --- End Modal Update --- */}\r\n</View>\r\n\r\n);\r\n};\r\n\r\n// --- Styles (Keep existing styles, add or adjust if needed) ---\r\nconst styles = StyleSheet.create({\r\ncontainer: {\r\nflexGrow: 1, // Use flexGrow for ScrollView content\r\n// backgroundColor: '#fff', // Background is handled by ScrollableGradientWrapper potentially\r\n},\r\nmainContainer: {\r\nflex: 1,\r\nposition: 'relative',\r\n},\r\ncontentContainer: {\r\nflex: 1,\r\nalignItems: 'center',\r\npaddingBottom: 30,\r\n},\r\nlogoContainer: {\r\nalignItems: 'center',\r\njustifyContent: 'center',\r\nmarginTop: Platform.OS === 'ios' ? 0 : 20, // Adjust top margin for SafeAreaView consistency if needed\r\nmarginBottom: 10, // Reduced margin\r\n// paddingBottom: 15, // Removed padding, rely on margins\r\nwidth: '100%',\r\n},\r\nlogo: {\r\nwidth: Platform.OS === 'web' ? 350 : Dimensions.get('window').width * 0.8, // Responsive width\r\nmaxWidth: 400, // Max width\r\nheight: 180, // Adjust height proportionally or fixed\r\nresizeMode: 'contain',\r\n},\r\ntitleContainer: {\r\nalignSelf: 'center',\r\nmarginBottom: 15,\r\nbackgroundColor: '#4a4a4a',\r\nborderRadius: 25,\r\npaddingVertical: 12,\r\npaddingHorizontal: 25,\r\n},\r\ntitle: {\r\nfontSize: 24,\r\nfontWeight: 'bold',\r\ncolor: 'white',\r\ntextAlign: 'center',\r\n},\r\nmessageContainer: {\r\nalignItems: 'center',\r\nmarginVertical: 10,\r\npaddingHorizontal: 15, // Add padding for text wrapping\r\n},\r\nmessageText: {\r\nfontSize: 22, // Slightly smaller for better fit\r\ncolor: '#4a4a4a',\r\nmarginVertical: 2,\r\ntextAlign: 'center', // Center align message text\r\n},\r\nhighlightText: {\r\ncolor: '#ffc100',\r\nfontWeight: 'bold',\r\nfontSize: 20, // Keep highlight size consistent\r\n},\r\nhighlightText2: {\r\ncolor: '#4a4a4a',\r\nfontWeight: 'bold',\r\nfontSize: 22, // Match message text size\r\n},\r\nimageContainer: {\r\nmarginVertical: 15, // Reduced vertical margin\r\nalignItems: 'center',\r\n// paddingBottom: 10, // Remove extra padding\r\n},\r\nhoseImage: {\r\nwidth: Dimensions.get('window').width * 0.7, // Responsive width\r\nmaxWidth: 300, // Max width\r\nheight: 280, // Adjust height\r\nresizeMode: 'contain',\r\n},\r\ninstructionsContainer: {\r\nalignItems: 'center',\r\nmarginBottom: 20,\r\npaddingHorizontal: 20, // Add padding for text wrapping\r\n},\r\ninstructionsText: {\r\nfontSize: 22, // Match message text size\r\ncolor: '#4a4a4a',\r\nlineHeight: 30, // Adjust line height\r\ntextAlign: 'center',\r\n},\r\nspacedText: {\r\nmarginTop: 20, // Reduced spacing\r\n},\r\nstartButton: {\r\n  paddingHorizontal: 30,\r\n  paddingVertical: 15,\r\n  borderRadius: 40,\r\n  marginTop: 20,\r\n  marginBottom: 30,\r\n  minWidth: 180,\r\n  backgroundColor: 'rgba(250, 204, 21, 0.6)',\r\n  borderWidth: 1,\r\n  borderColor: 'rgba(255, 215, 0, 0.9)',\r\n  shadowColor: 'rgba(250, 204, 21, 0.4)',\r\n  shadowOffset: { width: 0, height: 6 },\r\n  shadowOpacity: 1,\r\n  shadowRadius: 20,\r\n  elevation: 8,\r\n  overflow: 'hidden',\r\n},\r\nstartButtonText: {\r\ncolor: '#4a4a4a',\r\nfontSize: 22,\r\nfontWeight: 'bold',\r\n},\r\nstartButtonHovered: {\r\n  backgroundColor: 'rgba(255, 215, 0, 0.8)',\r\n  borderColor: 'rgba(255, 235, 59, 1)',\r\n  shadowColor: 'rgba(250, 204, 21, 0.6)',\r\n  shadowOffset: { width: 0, height: 10 },\r\n  shadowOpacity: 1,\r\n  shadowRadius: 30,\r\n  transform: [{ translateY: -2 }, { scale: 1.02 }],\r\n},\r\nglassOverlay: {\r\n  position: 'absolute',\r\n  top: 1,\r\n  left: 8,\r\n  right: 8,\r\n  height: '50%',\r\n  backgroundColor: 'transparent',\r\n  borderTopLeftRadius: 40,\r\n  borderTopRightRadius: 40,\r\n  borderBottomLeftRadius: 20,\r\n  borderBottomRightRadius: 20,\r\n  opacity: 0.8,\r\n},\r\nasteriskContainer: {\r\n// Removed position relative as it wasn't strictly needed here\r\nmarginTop: 20,\r\nmarginBottom: 30,\r\nalignItems: 'center',\r\npaddingHorizontal: 20,\r\n},\r\nasteriskText: {\r\nfontSize: 16, // Slightly smaller\r\ncolor: '#4a4a4a',\r\ntextAlign: 'center',\r\n},\r\ncopyrightText: {\r\nfontSize: 14, // Slightly smaller\r\ncolor: '#4a4a4a',\r\ntextAlign: 'center',\r\nmarginTop: 20, // Consistent margin\r\nfontStyle: 'italic',\r\nopacity: 0.8,\r\n},\r\nmodalOverlay: {\r\nflex: 1,\r\njustifyContent: 'center',\r\nalignItems: 'center',\r\nbackgroundColor: 'rgba(0, 0, 0, 0.6)', // Slightly less opaque\r\n},\r\noverlayBackground: { // This can be removed if modalOverlay has background color\r\nposition: 'absolute',\r\ntop: 0,\r\nleft: 0,\r\nright: 0,\r\nbottom: 0,\r\n// backgroundColor: 'rgba(0, 0, 0, 0.7)', // Handled by modalOverlay now\r\n},\r\nselectionContainer: {\r\nwidth: '85%', // Slightly wider\r\nmaxWidth: 400, // Max width for larger screens\r\nbackgroundColor: 'rgba(74, 74, 74, 0.9)', // Use #4a4a4a with alpha\r\nborderRadius: 20, // Slightly softer corners\r\npadding: 25, // More padding\r\nalignItems: 'center',\r\nshadowColor: '#000',\r\nshadowOffset: { width: 0, height: 5 },\r\nshadowOpacity: 0.35,\r\nshadowRadius: 6,\r\nelevation: 10,\r\n},\r\nselectionTitle: {\r\nfontSize: 22, // Adjust size\r\nfontWeight: 'bold',\r\ncolor: 'white',\r\nmarginBottom: 25, // More space below title\r\ntextAlign: 'center',\r\n},\r\nselectionButton: {\r\nwidth: '100%', // Make buttons full width of container\r\nbackgroundColor: 'white',\r\npaddingHorizontal: 20, // Adjust padding\r\npaddingVertical: 15,\r\nborderRadius: 15, // Match container's softness\r\nmarginVertical: 8, // Slightly less vertical margin\r\nborderWidth: 2, // Thinner border\r\nborderColor: '#ccc', // Lighter border color\r\nshadowColor: '#000',\r\nshadowOffset: { width: 0, height: 2 },\r\nshadowOpacity: 0.2,\r\nshadowRadius: 3,\r\nelevation: 4,\r\n},\r\nselectedButton: {\r\nbackgroundColor: '#ffc100', // Gold highlight\r\nborderColor: '#ffc100', // Matching border color\r\n},\r\nselectionButtonText: {\r\nfontSize: 18, // Adjust size\r\nfontWeight: '600', // Slightly less bold\r\ncolor: '#4a4a4a',\r\ntextAlign: 'center',\r\n},\r\nenquiryText: {\r\nfontSize: 16,\r\ncolor: '#4a4a4a',\r\ntextAlign: 'center',\r\nmarginTop: 20, // More space before enquiry text\r\nmarginBottom: 10,\r\n},\r\ncontactText: {\r\nfontSize: 16,\r\ncolor: '#4a4a4a',\r\ntextAlign: 'center',\r\nmarginVertical: 5, // Reduced vertical margin\r\ntextDecorationLine: 'underline',\r\npaddingVertical: 5, // Smaller touchable area padding\r\n},\r\nappCreditsText: {\r\nfontSize: 12, // Smaller credits\r\ncolor: '#4a4a4a',\r\ntextAlign: 'center',\r\nmarginTop: 15,\r\nopacity: 0.6,\r\n},\r\nfeedbackFlyerContainer: {\r\n  backgroundColor: '#f8f9fa',\r\n  borderRadius: 20,\r\n  padding: 20,\r\n  marginVertical: 30,\r\n  width: '90%',\r\n  maxWidth: 500,\r\n  alignItems: 'center',\r\n  shadowColor: '#000',\r\n  shadowOffset: { width: 0, height: 5 },\r\n  shadowOpacity: 0.12,\r\n  shadowRadius: 10,\r\n  elevation: 8,\r\n  borderWidth: 1,\r\n  borderColor: '#e9ecef',\r\n},\r\nfeedbackHeading: {\r\n  fontSize: 24,\r\n  fontWeight: '600',\r\n  color: '#343a40',\r\n  textAlign: 'center',\r\n  marginBottom: 5,\r\n},\r\nfeedbackSlideContainer: {\r\n  width: '100%',\r\n  minHeight: 240,\r\n  overflow: 'hidden',\r\n  position: 'relative',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  marginVertical: 15,\r\n  backgroundColor: '#ffffff',\r\n  borderRadius: 15,\r\n  padding: 10,\r\n  shadowColor: '#000',\r\n  shadowOffset: { width: 0, height: 2 },\r\n  shadowOpacity: 0.05,\r\n  shadowRadius: 4,\r\n  elevation: 3,\r\n},\r\nfeedbackTitle: {\r\nfontSize: 18, // Slightly smaller title\r\nfontWeight: 'bold',\r\ncolor: '#4a4a4a',\r\nmarginBottom: 8, // Reduced margin\r\ntextAlign: 'center',\r\n},\r\nfeedbackSlide: {\r\n  width: '100%',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n},\r\nfeedbackImage: {\r\n  width: '100%',\r\n  height: 220,\r\n  resizeMode: 'contain',\r\n  borderRadius: 10,\r\n},\r\nfeedbackText: { // Style for potential future text\r\nfontSize: 14,\r\ncolor: '#555',\r\ntextAlign: 'center',\r\nfontStyle: 'italic',\r\nmarginTop: 5,\r\npaddingHorizontal: 10,\r\n},\r\nfeedbackIndicators: {\r\n  flexDirection: 'row',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  marginTop: 10,\r\n},\r\ntaglineText: {\r\n  fontSize: 17,\r\n  fontWeight: '500',\r\n  color: '#c89200',\r\n  fontStyle: 'italic',\r\n  textAlign: 'center',\r\n  marginTop: 20,\r\n  marginBottom: 15,\r\n},\r\nindicator: {\r\n  width: 9,\r\n  height: 9,\r\n  borderRadius: 4.5,\r\n  backgroundColor: '#ced4da',\r\n  marginHorizontal: 5,\r\n},\r\nactiveIndicator: {\r\n  backgroundColor: '#ffc100',\r\n  transform: [{ scale: 1.2 }],\r\n},\r\nebayStoreRow: {\r\n  flexDirection: 'row',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  marginBottom: 15,\r\n},\r\nebaySourceText: {\r\n  fontSize: 16,\r\n  color: '#6c757d',\r\n  textAlign: 'center',\r\n},\r\nebayLinkText: {\r\n  fontSize: 16,\r\n  color: '#007bff',\r\n  fontWeight: 'bold',\r\n  textDecorationLine: 'underline',\r\n  marginLeft: 4,\r\n},\r\n});\r\n\r\nexport default WelcomeScreen;","// components/Prices/HosePrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_HOSE_PRICES = {\n  \"1/4\": \"12.40\",\n  \"3/8\": \"14.50\",\n  \"1/2\": \"17.65\",\n  \"5/8\": \"19.50\",\n  \"3/4\": \"22.00\",\n  \"1\": \"28.00\"\n};\n\nexport const getHosePrices = async () => {\n  try {\n\n      const response = await fetch(`${BASE_URL}/api/get-prices`, {\n          method: 'GET',\n          headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json',\n              'x-api-key': API_CLIENT_KEY,\n          }\n      });\n\n      console.log(\" Response Status:\", response.status);\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Error response:', errorText);\n        throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n      const text = await response.text();\n\n      const data = JSON.parse(text);\n\n      return data.hosePrices || DEFAULT_HOSE_PRICES;\n  } catch (error) {\n      console.error(\" Error fetching Hose prices:\", error);\n      return DEFAULT_HOSE_PRICES;\n  }\n};","import React, { useState, useRef, useEffect, useMemo } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Dimensions, ScrollView, Image, SafeAreaView, Platform, Animated} from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport { getHosePrices } from '../components/Prices/HosePrices';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst isMobile = SCREEN_WIDTH < 700;\r\nconst MAX_COLUMN_WIDTH = 400;\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\r\n\r\nconst HoseSizeButton = ({ size, insideDiameter, specs, hosePrice, onPress, isSelected }) => (\r\n  <View style={styles.buttonContainer}>\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={styles.sizeContent}>\r\n        <Text style={styles.sizeButtonText}>{size}</Text>\r\n        <Text \r\n          style={styles.sizeDescription}\r\n          numberOfLines={1}\r\n          ellipsizeMode=\"tail\"\r\n        >\r\n          Inside Diameter: {insideDiameter}\r\n        </Text>\r\n        <View style={styles.hoseImageContainer}>\r\n          <Image\r\n            source={require('../assets/hose_cross_section.png')}\r\n            style={styles.hoseCrossSection}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Image\r\n            source={require('../assets/hose_image.png')}\r\n            style={styles.hoseImage}\r\n            resizeMode=\"contain\"\r\n          />\r\n        </View>\r\n        <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A${hosePrice}</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n    <View style={styles.specsContainer}>\r\n      {specs.map((spec, index) => (\r\n        <Text \r\n          key={index}\r\n          style={styles.specText}\r\n          numberOfLines={1}\r\n          ellipsizeMode=\"tail\"\r\n        >\r\n           {spec}\r\n        </Text>\r\n      ))}\r\n    </View>\r\n  </View>\r\n);\r\n\r\nconst HoseSelectionScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const [selectedHosePrice, setSelectedHosePrice] = useState(null);\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const { isHoseOnly } = route.params || { isHoseOnly: false };\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const hoseSizes = useMemo(() => prices ? [\r\n    { \r\n      size: '1/4\"', \r\n      insideDiameter: '1/4 Inch',\r\n      hosePrice: `  ${prices[\"1/4\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 6525psi',\r\n        'Burst Pressure: 26,100psi',\r\n        'Bend Radius: 50mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '3/8\"', \r\n      insideDiameter: '3/8 Inch',\r\n      hosePrice: `  ${prices[\"3/8\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 5438psi',\r\n        'Burst Pressure: 21,752psi',\r\n        'Bend Radius: 75mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '1/2\"', \r\n      insideDiameter: '1/2 Inch',\r\n      hosePrice: `  ${prices[\"1/2\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 4495psi',\r\n        'Burst Pressure: 17,980psi',\r\n        'Bend Radius: 100mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '5/8\"', \r\n      insideDiameter: '5/8 Inch',\r\n      hosePrice: `  ${prices[\"5/8\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 4350psi',\r\n        'Burst Pressure: 17,400psi',\r\n        'Bend Radius: 130mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '3/4\"', \r\n      insideDiameter: '3/4 Inch',\r\n      hosePrice: `  ${prices[\"3/4\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 4162psi',\r\n        'Burst Pressure: 16,675psi',\r\n        'Bend Radius: 200mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '1\"', \r\n      insideDiameter: '1 Inch',\r\n      hosePrice: `  ${prices[\"1\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 3263psi',\r\n        'Burst Pressure: 13,050psi',\r\n        'Bend Radius: 250mm'\r\n      ]\r\n    },\r\n  ] : [], [prices]);\r\n\r\n  const handleSizeSelection = (size, hosePrice) => {\r\n    setSelectedSize(size);\r\n    // Clean the price string by removing extra spaces and \"/meter\"\r\n    const cleanPrice = hosePrice.trim().split('/')[0].trim();\r\n    setSelectedHosePrice(cleanPrice);\r\n  \r\n    // Start fade-out animation\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isHoseOnly) {\r\n        // Navigate to CutLengths with exact same parameter structure as original handleHoseOnly\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: { \r\n            size: size,  // Using selectedSize instead of size to match original\r\n          },\r\n          selectedHosePrice: cleanPrice, // Using selectedHosePrice from state to match original\r\n          isHoseOnly: true\r\n        });\r\n      } else {\r\n        // Navigate to End1Fitting with exact same parameter structure as original handleNext\r\n        navigation.navigate('End1Fitting', {\r\n          selectedHose: { \r\n            size: size,  // Using selectedSize instead of size to match original\r\n          },\r\n          selectedHosePrice: cleanPrice // Using selectedHosePrice from state to match original\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Fade in animation when the component mounts\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  // Add useEffect for price loading\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getHosePrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Sequence animations\r\n        Animated.sequence([\r\n          // Fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay\r\n          Animated.delay(100),\r\n          // Fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  // Reset fade-in when screen comes into focus\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      //setSelectedSize(null);\r\n      contentFadeAnim.setValue(0);\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  // First check for loading\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Hoses ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.contentContainer, { opacity: contentFadeAnim }]}>\r\n            <ScrollView \r\n              style={styles.mainScrollView}\r\n              contentContainerStyle={styles.mainScrollViewContent}\r\n              showsVerticalScrollIndicator={true}\r\n            >\r\n              <View style={styles.titleContainer}>\r\n                <Text style={styles.title}>Select Hose Size</Text>\r\n              </View>\r\n              <View style={styles.scrollViewContent}>\r\n                {hoseSizes.map((hose, index) => (\r\n                  <HoseSizeButton\r\n                    key={index}\r\n                    size={hose.size}\r\n                    insideDiameter={hose.insideDiameter}\r\n                    specs={hose.specs}\r\n                    hosePrice={hose.hosePrice}\r\n                    onPress={() => handleSizeSelection(hose.size, hose.hosePrice)}\r\n                    isSelected={selectedSize === hose.size}\r\n                  />\r\n                ))}\r\n              </View>\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  mainScrollView: {\r\n    flex: 1,\r\n  },\r\n  mainScrollViewContent: {\r\n    flexGrow: 1,\r\n    paddingBottom: 20,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    marginTop: 10,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 25,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center',\r\n    paddingHorizontal: 15, // Restore original padding\r\n    paddingBottom: 20,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    marginBottom: 10,\r\n    width: '100%',\r\n    maxWidth: 600,\r\n    paddingHorizontal: 0, // Restore horizontal padding\r\n  },\r\n  sizeButton: {\r\n    width: isMobile ? 160 : 220, // Smaller button on mobile\r\n    height: isMobile ? 150 : 160, // Slightly smaller height on mobile\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 30,\r\n    overflow: 'hidden',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'transparent',\r\n    paddingBottom: 10,\r\n    marginBottom: 15,\r\n    marginRight: isMobile ? 2 : 30,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  sizeContent: {\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    paddingHorizontal: 0, // Add minimal padding inside content\r\n  },\r\n  innerContainer: {\r\n    alignItems: 'center',\r\n  },\r\n  selectedInnerContainer: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: isMobile ? 20 : 24, // Smaller font on mobile\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: isMobile ? 0 : 5, // Less margin on mobile\r\n  },\r\n  sizeDescription: {\r\n    fontSize: isMobile ? 12 : 14, // Smaller font on mobile\r\n    color: '#666',\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n    width: '100%', // Make description take full width\r\n    // For web environments\r\n    ...(Platform.OS === 'web' && {\r\n      whiteSpace: 'nowrap',\r\n    }),\r\n  },\r\n  hoseImageContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    // Scale down images slightly on mobile\r\n    ...(isMobile && {\r\n      transform: [{ scale: 0.9 }]\r\n    })\r\n  },\r\n  hoseCrossSection: {\r\n    width: isMobile ? 35 : 40, // Slightly smaller on mobile\r\n    height: isMobile ? 35 : 40,\r\n    marginRight: 6, // Reduce margin\r\n  },\r\n  hoseImage: {\r\n    width: isMobile ? 70 : 80, // Slightly smaller on mobile\r\n    height: isMobile ? 35 : 40,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: isMobile ? 3 : 5, // Less padding on mobile\r\n    marginTop: isMobile ? 3 : 5, // Less margin on mobile\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: isMobile ? 14 : 16, // Smaller font on mobile\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  specsContainer: {\r\n    width: isMobile ? 220 : 250, // Restore original widths\r\n    marginLeft: 10, // Keep consistent spacing\r\n  },\r\n  specText: {\r\n    fontSize: isMobile ? 12 : 14, // Smaller font on mobile\r\n    color: '#666',\r\n    marginBottom: 3,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  floatingFooter: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    backgroundColor: 'white',\r\n    borderTopWidth: 1,\r\n    borderTopColor: 'rgba(0, 0, 0, 0.1)',\r\n    // Add shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: -2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  viewportFooter: {\r\n    position: 'absolute',\r\n    bottom: Platform.OS === 'ios' ? 40 : 20,\r\n    left: 0,\r\n    right: 0,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)', // semi-transparent white background\r\n    paddingVertical: 10,\r\n    marginHorizontal: 10,\r\n    borderRadius: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n    // Add these new properties:\r\n    overflow: 'visible', // Ensures shadow isn't clipped\r\n    elevation: Platform.OS === 'android' ? 24 : 0, // Higher elevation for Android\r\n  },\r\n  footerContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  hoseOnlyButton: {\r\n    backgroundColor: '#4a4a4a',\r\n    padding: 12,\r\n    borderRadius: 20,\r\n    alignSelf: 'center',\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  hoseOnlyButtonText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default HoseSelectionScreen;","// FittingSelectionScreen.js\r\nimport React, { useState } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nconst FittingSelectionScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const { selectedHose } = route.params;\r\n  const [selectedFitting, setSelectedFitting] = useState(null);\r\n\r\n  const fittings = [\r\n    { type: 'JIC 37', shapes: ['Male Straight', 'Female Straight', '45 Female Elbow', '90 Female Elbow'] },\r\n    { type: 'BSP 60', shapes: ['Male Straight', 'Female Straight', '45 Female Elbow', '90 Female Elbow'] },\r\n    { type: 'Metric Light 24', shapes: ['Male Straight', 'Female Straight', '45 Female Elbow', '90 Female Elbow'] },\r\n    { type: 'O.R.F.S', shapes: ['Male Straight', 'Female Straight', '45 Female Elbow', '90 Female Elbow'] },\r\n  ];\r\n\r\n  const handleSelection = (fitting) => {\r\n    setSelectedFitting(fitting);\r\n    // Add animation logic here if desired\r\n    setTimeout(() => {\r\n      navigation.navigate('Summary', { selectedHose, selectedFitting });\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <ScrollView contentContainerStyle={styles.container}>\r\n      <Text style={styles.title}>Select Fitting Type</Text>\r\n      <Text style={styles.subtitle}>For Hose Size: {selectedHose.size}</Text>\r\n      {fittings.map((fitting) => (\r\n        <View key={fitting.type}>\r\n          <Text style={styles.fittingType}>{fitting.type}</Text>\r\n          {fitting.shapes.map((shape) => (\r\n            <TouchableOpacity\r\n              key={shape}\r\n              style={[styles.fittingOption, selectedFitting === `${fitting.type} - ${shape}` && styles.selectedOption]}\r\n              onPress={() => handleSelection(`${fitting.type} - ${shape}`)}\r\n            >\r\n              <Text style={styles.fittingShape}>{shape}</Text>\r\n            </TouchableOpacity>\r\n          ))}\r\n        </View>\r\n      ))}\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flexGrow: 1,\r\n    padding: 20,\r\n    backgroundColor: '#fff',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n  },\r\n  fittingType: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    marginTop: 20,\r\n    marginBottom: 10,\r\n  },\r\n  fittingOption: {\r\n    borderWidth: 1,\r\n    borderColor: '#FFA500',\r\n    borderRadius: 10,\r\n    padding: 15,\r\n    marginBottom: 10,\r\n  },\r\n  selectedOption: {\r\n    backgroundColor: '#FFF7E6',\r\n  },\r\n  fittingShape: {\r\n    fontSize: 16,\r\n  },\r\n});\r\n\r\nexport default FittingSelectionScreen;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, \r\n         Dimensions, Platform, Animated, Modal, TouchableWithoutFeedback } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400;\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\r\n\r\n// isWebDesktop function remains the same\r\nexport const isWebDesktop = () => {\r\n  const isWeb = Platform.OS === 'web';\r\n  try {\r\n    const isLikelyDesktop = isWeb && Dimensions.get('window').width > 768;\r\n    return isLikelyDesktop;\r\n  } catch (error) {\r\n    return false;\r\n  }\r\n};\r\n\r\n// FittingTypeButton component\r\nconst FittingTypeButton = ({ type, description, onPress, isSelected, onHelpPress }) => (\r\n  <TouchableOpacity \r\n    style={[styles.fittingButton, isSelected && styles.selectedFittingButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.fittingContent}>\r\n      <Text style={styles.fittingButtonText}>{type}</Text>\r\n      <Text style={styles.fittingDescription}>{description}</Text>\r\n    </View>\r\n    <TouchableOpacity \r\n      style={styles.helpIcon} \r\n      onPress={onHelpPress}\r\n      activeOpacity={0.6}\r\n      hitSlop={{ top: 10, bottom: 10, left: 10, right: 10 }}\r\n    >\r\n      <View style={styles.helpIconBackground}>\r\n        <Text style={styles.helpIconText}>?</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst End1FittingScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedFitting, setSelectedFitting] = useState(null);\r\n  const { selectedHose, selectedHosePrice, isOrderFittingMode } = route.params || {};\r\n  const [showSizeModal, setShowSizeModal] = useState(false);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const sizeFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false);\r\n  const [currentHelpImage, setCurrentHelpImage] = useState(null);\r\n  const [showDiagramOverlay, setShowDiagramOverlay] = useState(false);\r\n  const helpModalFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const diagramModalFadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const fittingTypes = [\r\n    { type: 'BSP 60', description: 'British Standard Pipe', helpImage: require('../assets/bsp_help.png') },\r\n    { type: 'JIC 37', description: 'Joint Industrial Council', helpImage: require('../assets/jic_help.png') },\r\n    { type: 'METRIC LIGHT 24', description: 'Cone O-Ring', helpImage: require('../assets/metric_help.png') },\r\n    { type: 'O.R.F.S', description: 'O-Ring Flat Seal', helpImage: require('../assets/orfs_help.png') },\r\n  ];\r\n\r\n  const hoseSizes = [\"1/4\\\"\", \"3/8\\\"\", \"1/2\\\"\", \"5/8\\\"\", \"3/4\\\"\", \"1\\\"\"];\r\n\r\n  useEffect(() => {\r\n    // Fade in animation when the component mounts\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS !== 'web', // Fix: changed from 'native' to !== 'web'\r\n    }).start();\r\n  }, []);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      // Reset the selection and fade in when the screen comes into focus\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS !== 'web', // Fix: changed from 'native' to !== 'web'\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  // Define handleFittingSelection function\r\n  const handleFittingSelection = (type) => {\r\n    setSelectedFitting(type);\r\n    \r\n    if (isOrderFittingMode) {\r\n      // Show size selection modal for OrderFitting mode\r\n      setShowSizeModal(true);\r\n      sizeFadeAnim.setValue(0);\r\n      Animated.timing(sizeFadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: Platform.OS !== 'web',\r\n      }).start();\r\n      return;\r\n    }\r\n    \r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start(() => {\r\n      const baseParams = {\r\n        selectedFitting: { type },\r\n        isOrderFittingMode,\r\n        selectedHose,\r\n        selectedHosePrice\r\n      };\r\n\r\n      // Switch statement uses baseParams directly\r\n      switch (type) {\r\n        case 'BSP 60':\r\n          navigation.navigate('BSPFittingScreen1', baseParams);\r\n          break;\r\n        case 'JIC 37':\r\n          navigation.navigate('JICFittingScreen1', baseParams);\r\n          break;\r\n        case 'METRIC LIGHT 24':\r\n          navigation.navigate('MetricFittingScreen1', baseParams);\r\n          break;\r\n        case 'O.R.F.S':\r\n          navigation.navigate('OrfsScreen1', baseParams);\r\n          break;\r\n        default:\r\n          console.log('Selected Hose:', selectedHose);\r\n          console.log('Selected Fitting:', type);\r\n      }\r\n    });\r\n  };\r\n\r\n  // Define handleSizeSelection function\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    \r\n    // Navigate to the appropriate screen with both fitting and size selection\r\n    const baseParams = {\r\n      selectedFitting: { type: selectedFitting },\r\n      isOrderFittingMode: true,\r\n      selectedHose: { size },\r\n      selectedHosePrice: '0'\r\n    };\r\n\r\n    Animated.timing(sizeFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start(() => {\r\n      setShowSizeModal(false);\r\n      switch (selectedFitting) {\r\n        case 'BSP 60':\r\n          navigation.navigate('BSPFittingScreen1', baseParams);\r\n          break;\r\n        case 'JIC 37':\r\n          navigation.navigate('JICFittingScreen1', baseParams);\r\n          break;\r\n        case 'METRIC LIGHT 24':\r\n          navigation.navigate('MetricFittingScreen1', baseParams);\r\n          break;\r\n        case 'O.R.F.S':\r\n          navigation.navigate('OrfsScreen1', baseParams);\r\n          break;\r\n      }\r\n    });\r\n  };\r\n\r\n  // Define handleCloseSizeModal function\r\n  const handleCloseSizeModal = () => {\r\n    Animated.timing(sizeFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start(() => {\r\n      setShowSizeModal(false);\r\n      setSelectedSize(null);\r\n      setSelectedFitting(null);\r\n    });\r\n  };\r\n  \r\n  // FIX: Updated handleHelpPress function to properly handle the image\r\n  const handleHelpPress = (helpImage) => {\r\n    \r\n    // Ensure we're using the correct image\r\n    setCurrentHelpImage(helpImage);\r\n    setShowHelpOverlay(true);\r\n    helpModalFadeAnim.setValue(0);\r\n    Animated.timing(helpModalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start();\r\n  };\r\n\r\n  const closeHelpOverlay = () => {\r\n    Animated.timing(helpModalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start(() => {\r\n      setShowHelpOverlay(false);\r\n    });\r\n  };\r\n\r\n  {/*const handleDiagramPress = () => {\r\n    setShowDiagramOverlay(true);\r\n    diagramModalFadeAnim.setValue(0);\r\n    Animated.timing(diagramModalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start();\r\n  };*/}\r\n    \r\n  {/*const closeDiagramOverlay = () => {\r\n    Animated.timing(diagramModalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start(() => {\r\n      setShowDiagramOverlay(false);\r\n    });\r\n  };*/}\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button - Outside scroll wrapper */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n  \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Select Thread Type</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n  \r\n            {/* Conditional rendering for diagram with spacing compensation */}\r\n            {isOrderFittingMode ? (\r\n              <View style={styles.diagramSpacing} />\r\n            ) : (\r\n              <Image\r\n                source={require('../assets/end1_thread_diagram.gif')}\r\n                style={styles.diagram}\r\n                resizeMode=\"contain\"\r\n              />\r\n            )}\r\n            \r\n            <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\r\n              {fittingTypes.map((fitting, index) => (\r\n                <FittingTypeButton\r\n                  key={index}\r\n                  type={fitting.type}\r\n                  description={fitting.description}\r\n                  onPress={() => handleFittingSelection(fitting.type)}\r\n                  isSelected={selectedFitting === fitting.type}\r\n                  onHelpPress={() => handleHelpPress(fitting.helpImage)}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n  \r\n      {/* FIX: Updated help modal to properly display the image */}\r\n      <Modal\r\n        transparent={true}\r\n        visible={showHelpOverlay}\r\n        onRequestClose={closeHelpOverlay}\r\n        animationType=\"none\" // Control animation manually\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <TouchableOpacity\r\n            style={styles.overlayBackground}\r\n            activeOpacity={1}\r\n            onPress={closeHelpOverlay}\r\n          />\r\n          <Animated.View style={[\r\n            styles.helpImageContainer,\r\n            {\r\n              opacity: helpModalFadeAnim,\r\n              transform: [{ scale: helpModalFadeAnim }]\r\n            }\r\n          ]}>\r\n            <TouchableOpacity\r\n              style={styles.closeModalButton}\r\n              onPress={closeHelpOverlay}\r\n            >\r\n              <Text style={styles.closeModalButtonText}></Text>\r\n            </TouchableOpacity>\r\n            <Text style={styles.modalTitle}>Fitting Information</Text>\r\n            \r\n            {/* FIX: Updated image rendering approach */}\r\n            {currentHelpImage && (\r\n              <View style={styles.imageWrapper}>\r\n                <Image\r\n                  source={currentHelpImage}\r\n                  style={styles.helpImage}\r\n                  resizeMode=\"contain\"\r\n                  onError={(e) => console.error(\"Image load error:\", e.nativeEvent.error)}\r\n                />\r\n              </View>\r\n            )}\r\n          </Animated.View>\r\n        </View>\r\n      </Modal>\r\n\r\n     {/* \r\n     {/* Diagram overlay modal *\r\n      <Modal\r\n        transparent={true}\r\n        visible={showDiagramOverlay}\r\n        onRequestClose={closeDiagramOverlay}\r\n        animationType=\"none\"\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <TouchableOpacity\r\n            style={styles.overlayBackground}\r\n            activeOpacity={1}\r\n            onPress={closeDiagramOverlay}\r\n          />\r\n          <Animated.View style={[\r\n            styles.diagramImageContainer, \r\n            { \r\n              opacity: diagramModalFadeAnim, \r\n              transform: [{ scale: diagramModalFadeAnim }] \r\n            }\r\n          ]}>\r\n            <TouchableOpacity\r\n              style={styles.closeModalButton}\r\n              onPress={closeDiagramOverlay}\r\n            >\r\n              <Text style={styles.closeModalButtonText}></Text>\r\n            </TouchableOpacity>\r\n            <Text style={styles.modalTitle}>Thread Diagram</Text>\r\n            <Image\r\n              source={require('../assets/end1_thread_diagram.gif')}\r\n              style={styles.enlargedDiagram}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </Animated.View>\r\n        </View>\r\n      </Modal> */}\r\n\r\n      {/* Size selection modal */}\r\n      <Modal\r\n        transparent={true}\r\n        visible={showSizeModal}\r\n        onRequestClose={handleCloseSizeModal}\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <TouchableOpacity \r\n            style={styles.overlayBackground}\r\n            activeOpacity={1}\r\n            onPress={handleCloseSizeModal}\r\n          />\r\n          <Animated.View style={[\r\n            styles.selectionContainer, \r\n            { \r\n              opacity: sizeFadeAnim, \r\n              transform: [{ scale: sizeFadeAnim }] \r\n            }\r\n          ]}>\r\n            <TouchableOpacity \r\n              style={styles.closeButton}\r\n              onPress={handleCloseSizeModal}\r\n            >\r\n              <Text style={styles.closeButtonText}></Text>\r\n            </TouchableOpacity>\r\n            \r\n            <Text style={styles.selectionTitle}>\r\n              Select the Hose Size you're ordering the Fittings for:\r\n            </Text>\r\n            \r\n            {hoseSizes.map((size, index) => (\r\n              <TouchableOpacity\r\n                key={index}\r\n                style={[\r\n                  styles.selectionButton,\r\n                  selectedSize === size && styles.selectedButton\r\n                ]}\r\n                onPress={() => handleSizeSelection(size)}\r\n              >\r\n                <Text style={styles.selectionButtonText}>{size}</Text>\r\n              </TouchableOpacity>\r\n            ))}\r\n          </Animated.View>\r\n        </View>\r\n      </Modal>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  // Main container and general styles\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  \r\n  // Title styles\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignSelf: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    marginTop: 30,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 25,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  \r\n  // Diagram styles\r\n  diagram: {\r\n    width: '100%',\r\n    height: 300,\r\n    marginVertical: 20,\r\n  },\r\n  diagramSpacing: {\r\n    height: 80,\r\n    marginVertical: 20,\r\n  },\r\n  \r\n  // ScrollView styles\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n    paddingBottom: 20,\r\n  },\r\n  \r\n  // Fitting button styles\r\n  fittingButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    overflow: 'hidden',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedFittingButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  fittingContent: {\r\n    padding: 15,\r\n    paddingRight: 44,\r\n  },\r\n  fittingButtonText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n  },\r\n  fittingDescription: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  \r\n  // Help icon styles\r\n  helpIcon: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    width: 44,\r\n    height: 44,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  helpIconText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    lineHeight: 24,\r\n  },\r\n  helpIconBackground: {\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  \r\n  // Modal overlay styles\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n  },\r\n  \r\n  // Updated help image container and image styles for better desktop responsiveness\r\n  helpImageContainer: {\r\n    width: isWebDesktop() ? '70%' : '90%',\r\n    maxWidth: isWebDesktop() ? 1200 : 400,\r\n    minWidth: isWebDesktop() ? 800 : 'auto',\r\n    backgroundColor: 'rgba(74, 74, 74, 0.95)',\r\n    borderRadius: 20,\r\n    padding: isWebDesktop() ? 40 : 20,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 8 },\r\n    shadowOpacity: 0.4,\r\n    shadowRadius: 10,\r\n    elevation: 15,\r\n    position: 'relative',\r\n  },\r\n  imageWrapper: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: isWebDesktop() ? 20 : 10,\r\n  },\r\n  helpImage: {\r\n    width: '100%',\r\n    height: isWebDesktop() ? 700 : 300,\r\n    backgroundColor: '#f0f0f0', // Light background to see if image is loading\r\n    borderRadius: 10,\r\n  },\r\n  \r\n  // Close button styles\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: -20,\r\n    right: -20,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#ffc100',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  closeButtonText: {\r\n    color: '#4a4a4a',\r\n    fontSize: 35,\r\n    textAlign: 'center',\r\n    alignSelf: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  \r\n  // Click to enlarge text\r\n  clickToEnlargeText: {\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n    fontSize: 18,\r\n    marginTop: 5,\r\n    fontWeight: 'bold',\r\n    marginBottom: 20,\r\n  },\r\n  \r\n  // Diagram image container\r\n  diagramImageContainer: {\r\n    width: isWebDesktop() ? '90%' : '92%',\r\n    maxWidth: isWebDesktop() ? 1200 : 450,\r\n    backgroundColor: 'rgba(74, 74, 74, 0.9)',\r\n    borderRadius: 20,\r\n    paddingHorizontal: isWebDesktop() ? 30 : 15,\r\n    paddingTop: isWebDesktop() ? 25 : 12,\r\n    paddingBottom: isWebDesktop() ? 25 : 12,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.35,\r\n    shadowRadius: 6,\r\n    elevation: 10,\r\n    position: 'relative',\r\n  },\r\n  \r\n  // Close modal button\r\n  closeModalButton: {\r\n    position: 'absolute',\r\n    top: isWebDesktop() ? 20 : 10,\r\n    right: isWebDesktop() ? 20 : 10,\r\n    width: isWebDesktop() ? 50 : 40,\r\n    height: isWebDesktop() ? 50 : 40,\r\n    borderRadius: isWebDesktop() ? 25 : 20,\r\n    backgroundColor: '#ffc100',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n  },\r\n  closeModalButtonText: {\r\n    color: '#4a4a4a',\r\n    fontSize: isWebDesktop() ? 36 : 30,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    lineHeight: isWebDesktop() ? 40 : 34,\r\n    includeFontPadding: false,\r\n    textAlignVertical: 'center',\r\n    paddingBottom: Platform.OS === 'ios' ? 4 : (isWebDesktop() ? 4 : 0),\r\n    paddingTop: isWebDesktop() ? 2 : 0,\r\n    paddingLeft: isWebDesktop() ? 1 : 0,\r\n  },\r\n  \r\n  // Modal title\r\n  modalTitle: {\r\n    fontSize: isWebDesktop() ? 32 : 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    marginBottom: isWebDesktop() ? 20 : 10,\r\n    marginTop: isWebDesktop() ? 15 : 5,\r\n    textAlign: 'center',\r\n  },\r\n  \r\n  // Enlarged diagram\r\n  enlargedDiagram: {\r\n    width: '100%',\r\n    height: isWebDesktop() ? 800 : 400,\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n    borderRadius: 10,\r\n  },\r\n  \r\n  // Selection container\r\n  selectionContainer: {\r\n    width: '85%',\r\n    maxWidth: 400,\r\n    backgroundColor: 'rgba(74, 74, 74, 0.9)',\r\n    borderRadius: 20,\r\n    padding: 25,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.35,\r\n    shadowRadius: 6,\r\n    elevation: 10,\r\n  },\r\n  selectionTitle: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    marginBottom: 25,\r\n    textAlign: 'center',\r\n  },\r\n  selectionButton: {\r\n    width: '100%', \r\n    backgroundColor: 'white',\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 15,\r\n    borderRadius: 15,\r\n    marginVertical: 8,\r\n    borderWidth: 2,\r\n    borderColor: '#ccc',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.2,\r\n    shadowRadius: 3,\r\n    elevation: 4,\r\n  },\r\n  selectedButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#ffc100',\r\n  },\r\n  selectionButtonText: {\r\n    fontSize: 18,\r\n    fontWeight: '600',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  \r\n  // Floating back button\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default End1FittingScreen;","// components/Prices/BSPPrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL; // Add fallback URL\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_BSP_PRICES = {\n    \"1/8\": \"6.10\",\n    \"1/4\": \"7.28\",\n    \"3/8\": \"11.18\",\n    \"1/2\": \"14.25\",\n    \"3/4\": \"16.25\",\n    \"1\": \"18.48\"\n};\n\nexport const getBSPPrices = async () => {\n    try {\n        // Use full URL instead of relative path\n        const response = await fetch(`${BASE_URL}/api/get-prices`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'x-api-key': API_CLIENT_KEY\n            }\n        });\n        \n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('Error response:', errorText);\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const text = await response.text();\n        \n        const data = JSON.parse(text);\n        return data.bspPrices || DEFAULT_BSP_PRICES;\n    } catch (error) {\n        console.error('Error fetching BSP prices:', error);\n        return DEFAULT_BSP_PRICES;\n    }\n};","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getBSPPrices } from '../components/Prices/BSPPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 0.8).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n  \r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst BSPFittingScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'BSP Male Straight Tapered', image: require('../assets/bsp_male_straight_tapered.png') },\r\n    { name: 'BSP Male Straight Parallel', image: require('../assets/bsp_male_straight_parallel.png') },\r\n    { name: 'BSP Female Straight', image: require('../assets/bsp_female_straight.png') },\r\n    { name: 'BSP Female 45', image: require('../assets/bsp_female_45.png') },\r\n    { name: 'BSP Female 90', image: require('../assets/bsp_female_90.png') },\r\n    { name: 'BSP Banjo', image: require('../assets/bsp_banjo.png') }\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '1/8\" - 28', basePrice: `${prices[\"1/8\"]}` },\r\n    { size: '1/4\" - 19', basePrice: `${prices[\"1/4\"]}` },\r\n    { size: '3/8\" - 19', basePrice: `${prices[\"3/8\"]}` },\r\n    { size: '1/2\" - 14', basePrice: `${prices[\"1/2\"]}` },\r\n    { size: '3/4\" - 14', basePrice: `${prices[\"3/4\"]}` },\r\n    { size: '1\" - 11', basePrice: `${prices[\"1\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['1/8\"', '1/4\"', '3/8\"'],\r\n    '3/8\"': ['1/4\"', '3/8\"', '1/2\"'],\r\n    '1/2\"': ['3/8\"', '1/2\"', '3/4\"'],\r\n    '5/8\"': ['1/2\"', '3/4\"'],\r\n    '3/4\"': ['3/4\"', '1\"'],\r\n    '1\"': ['1\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (!selectedHose || !selectedHose.size) {\r\n      // If no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  // Add this useEffect for price loading\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getBSPPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n\r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n          style={styles.floatingBackButton}\r\n          onPress={() => navigation.goBack()}\r\n        >\r\n          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n        </TouchableOpacity>\r\n        \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n            \r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          basePrice={size.basePrice}\r\n                          isOrderFittingMode={isOrderFittingMode}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>BSP 60 (British Standard Pipe)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, //Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default BSPFittingScreen1;","// components/Prices/JICPrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_JIC_PRICES = {\n    \"7/16\": \"7.00\",\n    \"9/16\": \"8.90\",\n    \"3/4\": \"9.10\",\n    \"7/8\": \"11.50\",\n    \"1-1/16\": \"13.50\",\n    \"1-3/16\": \"16.75\"\n};\n\nexport const getJICPrices = async () => {\n    try {\n\n        const response = await fetch(`${BASE_URL}/api/get-prices`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'x-api-key': API_CLIENT_KEY\n            }\n        });\n        \n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('Error response:', errorText);\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const text = await response.text();\n        \n        const data = JSON.parse(text);\n        return data.jicPrices || DEFAULT_JIC_PRICES;\n    } catch (error) {\n        console.error('Error fetching JIC prices:', error);\n        return DEFAULT_JIC_PRICES;\n    }\n};","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Animated, Platform } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getJICPrices } from '../components/Prices/JICPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 0.8).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n  \r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst JICFittingScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'JIC Male Straight', image: require('../assets/jic_male_straight.png') },\r\n    { name: 'JIC Female Straight', image: require('../assets/jic_female_straight.png') },\r\n    { name: 'JIC Female 45', image: require('../assets/jic_female_45.png') },\r\n    { name: 'JIC Female 90', image: require('../assets/jic_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '7/16\" - 20', basePrice: `${prices[\"7/16\"]}` },\r\n    { size: '9/16\" - 18', basePrice: `${prices[\"9/16\"]}` },\r\n    { size: '3/4\" - 16', basePrice: `${prices[\"3/4\"]}` },\r\n    { size: '7/8\" - 14', basePrice: `${prices[\"7/8\"]}` },\r\n    { size: '1-1/16\" - 12', basePrice: `${prices[\"1-1/16\"]}` },\r\n    { size: '1-3/16\" - 12', basePrice: `${prices[\"1-3/16\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the JIC compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['7/16\"', '9/16\"', '3/4\"'],\r\n    '3/8\"': ['9/16\"', '3/4\"', '7/8\"'],\r\n    '1/2\"': ['3/4\"', '7/8\"', '1-1/16\"'],\r\n    '5/8\"': ['7/8\"', '1-1/16\"'],\r\n    '3/4\"': ['7/8\"', '1-1/16\"', '1-3/16\"'],\r\n    '1\"': ['1-1/16\"', '1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (!selectedHose || !selectedHose.size) {\r\n      // If no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getJICPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          basePrice={size.basePrice}\r\n                          isOrderFittingMode={isOrderFittingMode}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>JIC 37 (Joint Industrial Council)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default JICFittingScreen1;","// components/Prices/MetricPrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_METRIC_PRICES = {\n    \"M12\": \"7.50\",\n    \"M14\": \"8.40\",\n    \"M16\": \"8.60\",\n    \"M18\": \"10.50\",\n    \"M22\": \"14.65\",\n    \"M26\": \"18.50\",\n    \"M30\": \"22.50\",\n    \"M36\": \"28.50\"\n};\n\nexport const getMetricPrices = async () => {\n    try {\n\n        const response = await fetch(`${BASE_URL}/api/get-prices`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'x-api-key': API_CLIENT_KEY\n            }\n        });\n        \n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('Error response:', errorText);\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const text = await response.text();\n        \n        const data = JSON.parse(text);\n        return data.metricPrices || DEFAULT_METRIC_PRICES;\n    } catch (error) {\n        console.error('Error fetching Metric prices:', error);\n        return DEFAULT_METRIC_PRICES;\n    }\n};","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getMetricPrices } from '../components/Prices/MetricPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\nconst isMobile = screenWidth < 800;\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 0.8).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n  \r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst MetricFittingScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'METRIC LIGHT Male Straight', image: require('../assets/metric_light_male_straight.png') },\r\n    { name: 'METRIC LIGHT Female Straight', image: require('../assets/metric_light_female_straight.png') },\r\n    { name: 'METRIC LIGHT Female 45', image: require('../assets/metric_light_female_45.png') },\r\n    { name: 'METRIC LIGHT Female 90', image: require('../assets/metric_light_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: 'M12 - 1.5', basePrice: `${prices[\"M12\"]}` },\r\n    { size: 'M14 - 1.5', basePrice: `${prices[\"M14\"]}` },\r\n    { size: 'M16 - 1.5', basePrice: `${prices[\"M16\"]}` },\r\n    { size: 'M18 - 1.5', basePrice: `${prices[\"M18\"]}` },\r\n    { size: 'M22 - 1.5', basePrice: `${prices[\"M22\"]}` },\r\n    { size: 'M26 - 1.5', basePrice: `${prices[\"M26\"]}` },\r\n    { size: 'M30 - 2', basePrice: `${prices[\"M30\"]}` },\r\n    { size: 'M36 - 2', basePrice: `${prices[\"M36\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the Metric compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['M12', 'M14', 'M16', 'M18'],\r\n    '3/8\"': ['M18', 'M22'],\r\n    '1/2\"': ['M22', 'M26'],\r\n    '5/8\"': ['M26', 'M30'],\r\n    '3/4\"': ['M30', 'M36'],\r\n    '1\"': ['M36']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (!selectedHose || !selectedHose.size) {\r\n      // If no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getMetricPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Thread Pitch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          basePrice={size.basePrice}\r\n                          isOrderFittingMode={isOrderFittingMode}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n        \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>METRIC LIGHT 24 (O-Ring Cone)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, //Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default MetricFittingScreen1;","// components/Prices/ORFSPrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_ORFS_PRICES = {\n    \"9/16\": \"7.70\",\n    \"11/16\": \"8.85\",\n    \"13/16\": \"10.25\",\n    \"1\": \"16.95\",\n    \"1-3/16\": \"24.50\"\n};\n\nexport const getORFSPrices = async () => {\n    try {\n\n        const response = await fetch(`${BASE_URL}/api/get-prices`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'x-api-key': API_CLIENT_KEY\n            }\n        });\n        \n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('Error response:', errorText);\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const text = await response.text();\n        \n        const data = JSON.parse(text);\n        return data.orfsPrices || DEFAULT_ORFS_PRICES;\n    } catch (error) {\n        console.error('Error fetching ORFS prices:', error);\n        return DEFAULT_ORFS_PRICES;\n    }\n};","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getORFSPrices } from '../components/Prices/ORFSPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 0.8).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n  \r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst OrfsScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'ORFS Male Straight', image: require('../assets/orfs_male_straight.png') },\r\n    { name: 'ORFS Female Straight', image: require('../assets/orfs_female_straight.png') },\r\n    { name: 'ORFS Female 45', image: require('../assets/orfs_female_45.png') },\r\n    { name: 'ORFS Female 90', image: require('../assets/orfs_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '9/16\" - 18', basePrice: `${prices[\"9/16\"]}` },\r\n    { size: '11/16\" - 16', basePrice: `${prices[\"11/16\"]}` },\r\n    { size: '13/16\" - 16', basePrice: `${prices[\"13/16\"]}` },\r\n    { size: '1\" - 14', basePrice: `${prices[\"1\"]}` },\r\n    { size: '1-3/16\" - 12', basePrice: `${prices[\"1-3/16\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the ORFS compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['9/16\"', '11/16\"'],\r\n    '3/8\"': ['11/16\"', '13/16\"'],\r\n    '1/2\"': ['13/16\"', '1\"'],\r\n    '5/8\"': ['1\"', '1-3/16\"'],\r\n    '3/4\"': ['1\"', '1-3/16\"'],\r\n    '1\"': ['1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (!selectedHose || !selectedHose.size) {\r\n      // If no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getORFSPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          basePrice={size.basePrice}\r\n                          isOrderFittingMode={isOrderFittingMode}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>O.R.F.S (O-Ring Flat Seal)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default OrfsScreen1;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated, Modal, TouchableWithoutFeedback } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400;\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\r\n\r\nexport const isWebDesktop = () => {\r\n  // Check if we're on web\r\n  const isWeb = Platform.OS === 'web';\r\n  \r\n  // Check if the device is likely a desktop (wider than 768px)\r\n  try {\r\n    const isLikelyDesktop = isWeb && Dimensions.get('window').width > 768;\r\n    return isLikelyDesktop;\r\n  } catch (error) {\r\n    // Default to false if dimensions can't be determined\r\n    return false;\r\n  }\r\n};\r\n\r\nconst FittingTypeButton = ({ type, description, onPress, isSelected, onHelpPress }) => (\r\n  <TouchableOpacity \r\n    style={[styles.fittingButton, isSelected && styles.selectedFittingButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.fittingContent}>\r\n      <Text style={styles.fittingButtonText}>{type}</Text>\r\n      <Text style={styles.fittingDescription}>{description}</Text>\r\n    </View>\r\n    <TouchableOpacity \r\n      style={styles.helpIcon} \r\n      onPress={onHelpPress}\r\n      activeOpacity={0.6}\r\n      hitSlop={{ top: 10, bottom: 10, left: 10, right: 10 }}\r\n    >\r\n      <View style={styles.helpIconBackground}>\r\n        <Text style={styles.helpIconText}>?</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst End2FittingScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedEnd2Fitting, setSelectedEnd2Fitting] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price } = route.params || {};\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false);\r\n  const [currentHelpImage, setCurrentHelpImage] = useState(null);\r\n  const helpFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showDiagramOverlay, setShowDiagramOverlay] = useState(false);\r\n  const diagramFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const helpModalFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const diagramModalFadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const fittingTypes = [\r\n    { type: 'BSP 60', description: 'British Standard Pipe', helpImage: require('../assets/bsp_help.png') },\r\n    { type: 'JIC 37', description: 'Joint Industrial Council', helpImage: require('../assets/jic_help.png') },\r\n    { type: 'METRIC LIGHT 24', description: 'Cone O-Ring', helpImage: require('../assets/metric_help.png') },\r\n    { type: 'O.R.F.S', description: 'O-Ring Flat Seal', helpImage: require('../assets/orfs_help.png') },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      //setSelectedEnd2Fitting(null);\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const handleFittingSelection = (type) => {\r\n    setSelectedEnd2Fitting(type);\r\n    \r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      switch (type) {\r\n        case 'BSP 60':\r\n          navigation.navigate('BSPFittingScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        case 'JIC 37':\r\n          navigation.navigate('JICFittingScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        case 'METRIC LIGHT 24':\r\n          navigation.navigate('MetricFittingScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        case 'O.R.F.S':\r\n          navigation.navigate('OrfsScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        default:\r\n          console.log('Selected Hose:', selectedHose);\r\n          console.log('Selected Fitting:', type);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleHelpPress = (helpImage) => {\r\n    setCurrentHelpImage(helpImage);\r\n    setShowHelpOverlay(true);\r\n    helpModalFadeAnim.setValue(0);\r\n    Animated.timing(helpModalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n  \r\n  const closeHelpOverlay = () => {\r\n    Animated.timing(helpModalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowHelpOverlay(false);\r\n    });\r\n  };\r\n  {/*}\r\n  const handleDiagramPress = () => {\r\n    setShowDiagramOverlay(true);\r\n    diagramModalFadeAnim.setValue(0);\r\n    Animated.timing(diagramModalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n  \r\n  const closeDiagramOverlay = () => {\r\n    Animated.timing(diagramModalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowDiagramOverlay(false);\r\n    });\r\n  };*/}\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button - Outside scroll wrapper */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n  \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            \r\n            <Image\r\n              source={require('../assets/end2_thread_diagram.gif')}\r\n              style={styles.diagram}\r\n              resizeMode=\"contain\"\r\n            />\r\n            \r\n            <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\r\n              {fittingTypes.map((fitting, index) => (\r\n                <FittingTypeButton\r\n                  key={index}\r\n                  type={fitting.type}\r\n                  description={fitting.description}\r\n                  onPress={() => handleFittingSelection(fitting.type)}\r\n                  isSelected={selectedEnd2Fitting === fitting.type}\r\n                  onHelpPress={() => handleHelpPress(fitting.helpImage)}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n  \r\n      {/* Keep Modal outside ScrollableGradientWrapper */}\r\n      <Modal\r\n        transparent={true}\r\n        visible={showHelpOverlay}\r\n        onRequestClose={closeHelpOverlay}\r\n        animationType=\"none\" // Control animation manually\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <TouchableOpacity\r\n            style={styles.overlayBackground}\r\n            activeOpacity={1}\r\n            onPress={closeHelpOverlay}\r\n          />\r\n          <Animated.View style={[\r\n            styles.helpImageContainer, \r\n            { \r\n              opacity: helpModalFadeAnim, \r\n              transform: [{ scale: helpModalFadeAnim }] \r\n            }\r\n          ]}>\r\n            <TouchableOpacity\r\n              style={styles.closeModalButton}\r\n              onPress={closeHelpOverlay}\r\n            >\r\n              <Text style={styles.closeModalButtonText}></Text>\r\n            </TouchableOpacity>\r\n            <Text style={styles.modalTitle}>Fitting Information</Text>\r\n            <Image\r\n              source={currentHelpImage}\r\n              style={styles.helpImage}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </Animated.View>\r\n        </View>\r\n      </Modal>\r\n\r\n     {/* <Modal\r\n        transparent={true}\r\n        visible={showDiagramOverlay}\r\n        onRequestClose={closeDiagramOverlay}\r\n        animationType=\"none\" // Control animation manually\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <TouchableOpacity\r\n            style={styles.overlayBackground}\r\n            activeOpacity={1}\r\n            onPress={closeDiagramOverlay}\r\n          />\r\n          <Animated.View style={[\r\n            styles.diagramImageContainer, \r\n            { \r\n              opacity: diagramModalFadeAnim, \r\n              transform: [{ scale: diagramModalFadeAnim }] \r\n            }\r\n          ]}>\r\n            <TouchableOpacity\r\n              style={styles.closeModalButton}\r\n              onPress={closeDiagramOverlay}\r\n            >\r\n              <Text style={styles.closeModalButtonText}></Text>\r\n            </TouchableOpacity>\r\n            <Text style={styles.modalTitle}>Thread Diagram</Text>\r\n            <Image\r\n              source={require('../assets/end2_thread_diagram.gif')}\r\n              style={styles.enlargedDiagram}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </Animated.View>\r\n        </View>\r\n      </Modal> */}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignSelf: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    marginTop: 30,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 25,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  diagram: {\r\n    width: '100%',\r\n    height: 300,\r\n    marginVertical: 20,\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n    paddingBottom: 20,\r\n  },\r\n  fittingButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    overflow: 'hidden',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedFittingButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  fittingContent: {\r\n    padding: 15,\r\n    paddingRight: 44,\r\n  },\r\n  fittingButtonText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n  },\r\n  fittingDescription: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  helpIcon: {\r\n    position: 'absolute',\r\n    top: 0,  // Changed from 5\r\n    right: 0, // Changed from 5\r\n    width: 44, // Increased from 24 - Apple's recommended minimum touch target size\r\n    height: 44, // Increased from 24\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  helpIconText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    width: 24,  // Keep visual size the same\r\n    height: 24, // Keep visual size the same\r\n    borderRadius: 12,\r\n    textAlign: 'center',\r\n    lineHeight: 24, // Center text vertically\r\n  },\r\n  helpIconBackground: {\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  clickToEnlargeText: {\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n    fontSize: 18,\r\n    marginTop: 5,\r\n    fontWeight: 'Bold',\r\n    marginBottom: 20,\r\n  },\r\n  diagramImageContainer: {\r\n    width: isWebDesktop() ? '90%' : '92%',\r\n    maxWidth: isWebDesktop() ? 1200 : 450,\r\n    backgroundColor: 'rgba(74, 74, 74, 0.9)',\r\n    borderRadius: 20,\r\n    paddingHorizontal: isWebDesktop() ? 30 : 15,\r\n    paddingTop: isWebDesktop() ? 25 : 12,\r\n    paddingBottom: isWebDesktop() ? 25 : 12,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.35,\r\n    shadowRadius: 6,\r\n    elevation: 10,\r\n    position: 'relative',\r\n  },\r\n  closeModalButton: {\r\n    position: 'absolute',\r\n    top: isWebDesktop() ? 20 : 10,\r\n    right: isWebDesktop() ? 20 : 10,\r\n    width: isWebDesktop() ? 50 : 40,\r\n    height: isWebDesktop() ? 50 : 40,\r\n    borderRadius: isWebDesktop() ? 25 : 20,\r\n    backgroundColor: '#ffc100',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n  },\r\n  closeModalButtonText: {\r\n    color: '#4a4a4a',\r\n    fontSize: isWebDesktop() ? 36 : 30,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    lineHeight: isWebDesktop() ? 40 : 34,\r\n    includeFontPadding: false,\r\n    textAlignVertical: 'center',\r\n    paddingBottom: Platform.OS === 'ios' ? 4 : (isWebDesktop ? 4 : 0),\r\n    paddingTop: isWebDesktop ? 2 : 0,\r\n    paddingLeft: isWebDesktop ? 1 : 0,\r\n  },\r\n  modalTitle: {\r\n    fontSize: isWebDesktop() ? 32 : 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    marginBottom: isWebDesktop() ? 20 : 6,\r\n    marginTop: isWebDesktop() ? 15 : 5,\r\n    textAlign: 'center',\r\n  },\r\n  enlargedDiagram: {\r\n    width: '100%',\r\n    height: isWebDesktop() ? 800 : 400,\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n    borderRadius: 10,\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n  },\r\n  helpImageContainer: {\r\n    width: isWebDesktop() ? '90%' : '92%',\r\n    maxWidth: isWebDesktop() ? 1200 : 450,\r\n    backgroundColor: 'rgba(74, 74, 74, 0.9)',\r\n    borderRadius: 20,\r\n    paddingHorizontal: isWebDesktop() ? 30 : 15,\r\n    paddingTop: isWebDesktop() ? 25 : 12,\r\n    paddingBottom: isWebDesktop() ? 25 : 12,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.35,\r\n    shadowRadius: 6,\r\n    elevation: 10,\r\n    position: 'relative',\r\n  },\r\n  helpImage: {\r\n    width: '100%',\r\n    height: isWebDesktop() ? 800 : 400,\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n    borderRadius: 10,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: -20,\r\n    right: -20,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#4a4a4a',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  closeButtonText: {\r\n    color: 'white',\r\n    fontSize: 35,\r\n    textAlign: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default End2FittingScreen;","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getBSPPrices } from '../components/Prices/BSPPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n\r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {price} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst BSPFittingScreen2 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const {selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params || {};\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'BSP Male Straight Tapered', image: require('../assets/bsp_male_straight_tapered.png') },\r\n    { name: 'BSP Male Straight Parallel', image: require('../assets/bsp_male_straight_parallel.png') },\r\n    { name: 'BSP Female Straight', image: require('../assets/bsp_female_straight.png') },\r\n    { name: 'BSP Female 45', image: require('../assets/bsp_female_45.png') },\r\n    { name: 'BSP Female 90', image: require('../assets/bsp_female_90.png') },\r\n    { name: 'BSP Banjo', image: require('../assets/bsp_banjo.png') }\r\n  ];\r\n\r\n  // Define all available sizes & therir prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '1/8\" - 28', basePrice: `${prices[\"1/8\"]}` },\r\n    { size: '1/4\" - 19', basePrice: `${prices[\"1/4\"]}` },\r\n    { size: '3/8\" - 19', basePrice: `${prices[\"3/8\"]}` },\r\n    { size: '1/2\" - 14', basePrice: `${prices[\"1/2\"]}` },\r\n    { size: '3/4\" - 14', basePrice: `${prices[\"3/4\"]}` },\r\n    { size: '1\" - 11', basePrice: `${prices[\"1\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the compatibility matrix\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['1/8\"', '1/4\"', '3/8\"'],\r\n    '3/8\"': ['1/4\"', '3/8\"', '1/2\"'],\r\n    '1/2\"': ['3/8\"', '1/2\"', '3/4\"'],\r\n    '5/8\"': ['1/2\"', '3/4\"'],\r\n    '3/4\"': ['3/4\"', '1\"'],\r\n    '1\"': ['1\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getBSPPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces and converting to number\r\n      const priceNumeric = parseFloat(selectedSizeObj.basePrice);\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    \r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice, \r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest prices for BSP Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.basePrice}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>BSP 60 (British Standard Pipe)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1, // Fixed typo from 'fkex: 1'\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  }, \r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default BSPFittingScreen2;","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Animated, Platform } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getJICPrices } from '../components/Prices/JICPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n\r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst JICFittingScreen2 = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params || {};\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'JIC Male Straight', image: require('../assets/jic_male_straight.png') },\r\n    { name: 'JIC Female Straight', image: require('../assets/jic_female_straight.png') },\r\n    { name: 'JIC Female 45', image: require('../assets/jic_female_45.png') },\r\n    { name: 'JIC Female 90', image: require('../assets/jic_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '7/16\" - 20', basePrice: `${prices[\"7/16\"]}` },\r\n    { size: '9/16\" - 18', basePrice: `${prices[\"9/16\"]}` },\r\n    { size: '3/4\" - 16', basePrice: `${prices[\"3/4\"]}` },\r\n    { size: '7/8\" - 14', basePrice: `${prices[\"7/8\"]}` },\r\n    { size: '1-1/16\" - 12', basePrice: `${prices[\"1-1/16\"]}` },\r\n    { size: '1-3/16\" - 12', basePrice: `${prices[\"1-3/16\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the JIC compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['7/16\"', '9/16\"', '3/4\"'],\r\n    '3/8\"': ['9/16\"', '3/4\"', '7/8\"'],\r\n    '1/2\"': ['3/4\"', '7/8\"', '1-1/16\"'],\r\n    '5/8\"': ['7/8\"', '1-1/16\"'],\r\n    '3/4\"': ['7/8\"', '1-1/16\"', '1-3/16\"'],\r\n    '1\"': ['1-1/16\"', '1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getJICPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces\r\n      const priceNumeric = parseFloat(selectedSizeObj.basePrice.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n   \r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice, \r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest prices for JIC Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.basePrice}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>JIC 37 (Joint Industrial Council)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default JICFittingScreen2;","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getMetricPrices } from '../components/Prices/MetricPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\nconst isMobile = screenWidth < 800;\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\n// Modified SizeButton component\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n\r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst MetricFittingScreen2 = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params || {};\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'METRIC LIGHT Male Straight', image: require('../assets/metric_light_male_straight.png') },\r\n    { name: 'METRIC LIGHT Female Straight', image: require('../assets/metric_light_female_straight.png') },\r\n    { name: 'METRIC LIGHT Female 45', image: require('../assets/metric_light_female_45.png') },\r\n    { name: 'METRIC LIGHT Female 90', image: require('../assets/metric_light_female_90.png') },\r\n  ];\r\n\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: 'M12 - 1.5', basePrice: `${prices[\"M12\"]}` },\r\n    { size: 'M14 - 1.5', basePrice: `${prices[\"M14\"]}` },\r\n    { size: 'M16 - 1.5', basePrice: `${prices[\"M16\"]}` },\r\n    { size: 'M18 - 1.5', basePrice: `${prices[\"M18\"]}` },\r\n    { size: 'M22 - 1.5', basePrice: `${prices[\"M22\"]}` },\r\n    { size: 'M26 - 1.5', basePrice: `${prices[\"M26\"]}` },\r\n    { size: 'M30 - 2', basePrice: `${prices[\"M30\"]}` },\r\n    { size: 'M36 - 2', basePrice: `${prices[\"M36\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['M12', 'M14', 'M16', 'M18'],\r\n    '3/8\"': ['M18', 'M22'],\r\n    '1/2\"': ['M22', 'M26'],\r\n    '5/8\"': ['M26', 'M30'],\r\n    '3/4\"': ['M30', 'M36'],\r\n    '1\"': ['M36']\r\n  };\r\n\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    return allSizes.filter(sizeObj => compatibleSizes.includes(sizeObj.size.split(' ')[0]));\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n      return () => contentFadeAnim.setValue(0);\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      try {\r\n        const fetchedPrices = await getMetricPrices();\r\n        setPrices(fetchedPrices);\r\n        Animated.sequence([\r\n          Animated.timing(loadingFadeAnim, { toValue: 0, duration: 200, useNativeDriver: Platform.OS === 'native' }),\r\n          Animated.delay(100),\r\n          Animated.timing(contentFadeAnim, { toValue: 1, duration: 200, useNativeDriver: Platform.OS === 'native' })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null);\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      const priceNumeric = parseFloat(selectedSizeObj.basePrice.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n\r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting, end2Shape: shape, end2Size: size, end2Price: price,\r\n        });\r\n      } else {\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting, end2Shape: shape, end2Size: size, end2Price: price,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[styles.mainContainer, styles.loadingContainer, { opacity: loadingFadeAnim }]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image source={require('../assets/fluidpower_logo.gif')} style={styles.loadingLogo} resizeMode=\"contain\" />\r\n          <Text style={styles.loadingText}>Fetching lowest price for Metric Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      <TouchableOpacity style={styles.floatingBackButton} onPress={() => navigation.goBack()}>\r\n      <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image source={require('../assets/fluidpower_logo.gif')} style={styles.logo} resizeMode=\"contain\" />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Thread Pitch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.basePrice}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>METRIC LIGHT 24 (O-Ring Cone)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n  \r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, //Adjsut this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n},\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n      width: BUTTON_WIDTH,\r\n      alignItems: 'center',\r\n      marginTop: 10,\r\n      marginBottom: 15,\r\n      padding: 15,\r\n      backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n      width: '50%',\r\n      height: 150,\r\n      marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n      alignSelf: 'center',\r\n      marginBottom: 30,\r\n      backgroundColor: '#ffc100',\r\n      borderWidth: 4,\r\n      borderColor: '#4a4a4a',\r\n      borderRadius: 25,\r\n      paddingVertical: 8,\r\n      paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n      fontSize: 16,\r\n      fontWeight: 'bold',\r\n      color: '#4a4a4a',\r\n      textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default MetricFittingScreen2;","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getORFSPrices } from '../components/Prices/ORFSPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n\r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst OrfsScreen2 = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'ORFS Male Straight', image: require('../assets/orfs_male_straight.png') },\r\n    { name: 'ORFS Female Straight', image: require('../assets/orfs_female_straight.png') },\r\n    { name: 'ORFS Female 45', image: require('../assets/orfs_female_45.png') },\r\n    { name: 'ORFS Female 90', image: require('../assets/orfs_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '9/16\" - 18', basePrice: `${prices[\"9/16\"]}` },\r\n    { size: '11/16\" - 16', basePrice: `${prices[\"11/16\"]}` },\r\n    { size: '13/16\" - 16', basePrice: `${prices[\"13/16\"]}` },\r\n    { size: '1\" - 14', basePrice: `${prices[\"1\"]}` },\r\n    { size: '1-3/16\" - 12', basePrice: `${prices[\"1-3/16\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the ORFS compatibility matrix\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['9/16\"', '11/16\"'],\r\n    '3/8\"': ['11/16\"', '13/16\"'],\r\n    '1/2\"': ['13/16\"', '1\"'],\r\n    '5/8\"': ['1\"', '1-3/16\"'],\r\n    '3/4\"': ['1\"', '1-3/16\"'],\r\n    '1\"': ['1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getORFSPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces\r\n      const priceNumeric = parseFloat(selectedSizeObj.basePrice.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price for ORFS Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.basePrice}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>O.R.F.S (O-Ring Flat Seal)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default OrfsScreen2;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, Modal, StyleSheet, TouchableOpacity, TouchableWithoutFeedback, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst isMobile = SCREEN_WIDTH < 700;\r\n\r\nexport const isWebDesktop = () => {\r\n  // Check if we're on web\r\n  const isWeb = Platform.OS === 'web';\r\n  \r\n  // Check if the device is likely a desktop (wider than 768px)\r\n  try {\r\n    const isLikelyDesktop = isWeb && Dimensions.get('window').width > 768;\r\n    return isLikelyDesktop;\r\n  } catch (error) {\r\n    // Default to false if dimensions can't be determined\r\n    return false;\r\n  }\r\n};\r\n\r\nconst AngleButton = ({ angle, image, onPress, isSelected, onHelpPress }) => (\r\n  <TouchableOpacity \r\n    style={[styles.angleButton, isSelected && styles.selectedAngleButton]} \r\n    onPress={onPress}\r\n  >\r\n    <Image source={image} style={styles.angleImage} resizeMode=\"contain\" />\r\n    <Text style={styles.angleText}>{angle}</Text>\r\n    <TouchableOpacity \r\n      style={styles.helpIcon} \r\n      onPress={onHelpPress}\r\n      hitSlop={{ top: 10, right: 10, bottom: 10, left: 10 }} // Additional hit area\r\n    >\r\n      <View style={styles.helpIconVisual}>\r\n        <Text style={styles.helpIconText}>?</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst NotSureButton = ({ onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[\r\n      styles.notSureButton, \r\n      isSelected && styles.selectedAngleButton\r\n    ]} \r\n    onPress={onPress}\r\n  >\r\n    <Text style={styles.notSureText}>NOT SURE</Text>\r\n    <Text style={styles.notSureSubtext1}>Click Here if you're Unsure and</Text>\r\n    <Text style={styles.notSureSubtext2}>we'll contact you to understand your Requirements</Text>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst OrientationSelectionScreen = ({ route }) => { \r\n  const navigation = useNavigation();\r\n  const [selectedAngle, setSelectedAngle] = useState(null);\r\n  const { selectedHose, selectedHosePrice,  selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting, end2Shape, end2Size, end2Price  } = route.params;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false);\r\n  const [currentHelpImage, setCurrentHelpImage] = useState(null);\r\n  const helpFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showDiagramOverlay, setShowDiagramOverlay] = useState(false);\r\n  const diagramFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const helpModalFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const diagramModalFadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const angles = [\r\n    { angle: '0', image: require('../assets/0_degrees.png'), helpImage: require('../assets/0_degrees_help.png') },\r\n    { angle: '45', image: require('../assets/45_degrees.png'), helpImage: require('../assets/45_degrees_help.png') },\r\n    { angle: '90', image: require('../assets/90_degrees.png'), helpImage: require('../assets/90_degrees_help.png') },\r\n    { angle: '135', image: require('../assets/135_degrees.png'), helpImage: require('../assets/135_degrees_help.png') },\r\n    { angle: '180', image: require('../assets/180_degrees.png'), helpImage: require('../assets/180_degrees_help.png') },\r\n    { angle: '225', image: require('../assets/225_degrees.png'), helpImage: require('../assets/225_degrees_help.png') },\r\n    { angle: '270', image: require('../assets/270_degrees.png'), helpImage: require('../assets/270_degrees_help.png') },\r\n    { angle: '315', image: require('../assets/315_degrees.png'), helpImage: require('../assets/315_degrees_help.png') },\r\n    { angle: 'NOT SURE', image: null }\r\n  ];\r\n\r\n\r\n\r\n  const handleAngleSelection = (angle) => {\r\n    setSelectedAngle(angle);\r\n    // Start fade-out animation\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      // Navigate to next screen after fade-out completes\r\n      navigation.navigate('CutLengths', { \r\n        selectedHose,\r\n        selectedHosePrice, \r\n        selectedFitting,\r\n        end1Shape, \r\n        end1Size,\r\n        end1Price,\r\n        selectedEnd2Fitting,\r\n        end2Shape,\r\n        end2Size,\r\n        end2Price,\r\n        selectedAngle: angle\r\n      });\r\n    });\r\n  };\r\n\r\n  const handleHelpPress = (helpImage) => {\r\n    setCurrentHelpImage(helpImage);\r\n    setShowHelpOverlay(true);\r\n    helpModalFadeAnim.setValue(0);\r\n    Animated.timing(helpModalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n  \r\n  const closeHelpOverlay = () => {\r\n    Animated.timing(helpModalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowHelpOverlay(false);\r\n    });\r\n  };\r\n  \r\n  const handleDiagramPress = () => {\r\n    setShowDiagramOverlay(true);\r\n    diagramModalFadeAnim.setValue(0);\r\n    Animated.timing(diagramModalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n  \r\n  const closeDiagramOverlay = () => {\r\n    Animated.timing(diagramModalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowDiagramOverlay(false);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Fade in animation when the component mounts\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  // Reset fade-in when screen comes into focus\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      //setSelectedAngle(null);\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>      \r\n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <Text style={styles.titleText}>Select ORIENTATION</Text>\r\n            </View>\r\n            <View style={styles.subtitleContainer}>\r\n              <Text style={styles.subtitleText}>*No Extra Charges*</Text>\r\n            </View>\r\n            <TouchableOpacity onPress={handleDiagramPress}>\r\n                <Image\r\n                    source={require('../assets/line_of_sight.png')}\r\n                    style={styles.diagram}\r\n                    resizeMode=\"contain\"\r\n                />\r\n                <Text style={styles.clickToEnlargeText}>Click photo to enlarge</Text>\r\n            </TouchableOpacity>\r\n            <ScrollView \r\n                style={styles.scrollView} \r\n                contentContainerStyle={styles.scrollViewContent}\r\n                centerContent={true}\r\n              >\r\n                <View style={styles.angleButtonsContainer}>\r\n                  {angles.slice(0, 8).map((angleData, index) => (\r\n                    <View key={index} style={styles.angleButtonWrapper}>\r\n                      <AngleButton\r\n                        angle={angleData.angle}\r\n                        image={angleData.image}\r\n                        onPress={() => handleAngleSelection(angleData.angle)}\r\n                        isSelected={selectedAngle === angleData.angle}\r\n                        onHelpPress={() => angleData.helpImage && handleHelpPress(angleData.helpImage)}\r\n                      />\r\n                    </View>\r\n                  ))}\r\n                  <NotSureButton\r\n                    onPress={() => handleAngleSelection('NOT SURE')}\r\n                    isSelected={selectedAngle === 'NOT SURE'}\r\n                  />\r\n                </View>\r\n              </ScrollView>\r\n          </Animated.View>\r\n\r\n          <Modal\r\n            transparent={true}\r\n            visible={showDiagramOverlay}\r\n            onRequestClose={closeDiagramOverlay}\r\n            animationType=\"none\" // Control animation manually\r\n          >\r\n            <View style={styles.modalOverlay}>\r\n              <TouchableOpacity\r\n                style={styles.overlayBackground}\r\n                activeOpacity={1}\r\n                onPress={closeDiagramOverlay}\r\n              />\r\n              <Animated.View style={[\r\n                styles.diagramImageContainer, \r\n                { \r\n                  opacity: diagramModalFadeAnim, \r\n                  transform: [{ scale: diagramModalFadeAnim }] \r\n                }\r\n              ]}>\r\n                <TouchableOpacity\r\n                  style={styles.closeModalButton}\r\n                  onPress={closeDiagramOverlay}\r\n                >\r\n                  <Text style={styles.closeModalButtonText}></Text>\r\n                </TouchableOpacity>\r\n                <Text style={styles.modalTitle}>Thread Diagram</Text>\r\n                <Image\r\n                  source={require('../assets/line_of_sight.png')}\r\n                  style={styles.enlargedDiagram}\r\n                  resizeMode=\"contain\"\r\n                />\r\n              </Animated.View>\r\n            </View>\r\n          </Modal>\r\n\r\n            <Modal\r\n              transparent={true}\r\n              visible={showHelpOverlay}\r\n              onRequestClose={closeHelpOverlay}\r\n              animationType=\"none\" // Control animation manually\r\n            >\r\n              <View style={styles.modalOverlay}>\r\n                <TouchableOpacity\r\n                  style={styles.overlayBackground}\r\n                  activeOpacity={1}\r\n                  onPress={closeHelpOverlay}\r\n                />\r\n                <Animated.View style={[\r\n                  styles.helpImageContainer, \r\n                  { \r\n                    opacity: helpModalFadeAnim, \r\n                    transform: [{ scale: helpModalFadeAnim }] \r\n                  }\r\n                ]}>\r\n                  <TouchableOpacity\r\n                    style={styles.closeModalButton}\r\n                    onPress={closeHelpOverlay}\r\n                  >\r\n                    <Text style={styles.closeModalButtonText}></Text>\r\n                  </TouchableOpacity>\r\n                  <Text style={styles.modalTitle}>Fitting Orientation Information</Text>\r\n                  <Image\r\n                    source={currentHelpImage}\r\n                    style={styles.helpImage}\r\n                    resizeMode=\"contain\"\r\n                  />\r\n                </Animated.View>\r\n              </View>\r\n            </Modal>\r\n\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 5,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  subtitleContainer: {\r\n  alignItems: 'center',\r\n  marginTop: 20,\r\n  },\r\n  subtitleText: {\r\n  fontSize: 24,\r\n  fontWeight: 'bold',\r\n  color: '#ffc100',\r\n  textAlign: 'center',\r\n  },\r\n  logo: {\r\n    width: '100%',\r\n    height: undefined,\r\n    aspectRatio: 2, // Adjust based on your logo's aspect ratio\r\n    resizeMode: 'contain',\r\n    maxWidth: 400,\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    flexGrow: 1,\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    paddingVertical: 0,\r\n    paddingBottom: isMobile ? 200 : 170,\r\n    minHeight: '100%',\r\n  },\r\n  angleButtonsContainer: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-evenly',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    maxWidth: 800,\r\n    alignSelf: 'center',\r\n    paddingHorizontal: 15,\r\n    marginTop: 0,\r\n  },\r\n  angleButtonWrapper: {\r\n    width: isMobile ? '45%' : '23%', // Change from 23% to 45% for mobile (2 columns)\r\n    aspectRatio: 1,\r\n    paddingVertical: isMobile ? 10 : 18,\r\n    paddingHorizontal: isMobile ? 5 : 8,\r\n    marginBottom: isMobile ? 20 : 0,\r\n  },\r\n  notSureButton: {\r\n    width: isMobile ? '92%' : '48%', // Wider for mobile\r\n    aspectRatio: isMobile ? 3 : 2, // More rectangular on mobile\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    overflow: 'hidden',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#fff',\r\n    marginTop: 20,\r\n    marginBottom: isMobile ? 40 : 20,\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  notSureText: {\r\n    fontSize: isMobile ? 20 : 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    marginBottom: 5,\r\n  },\r\n  notSureSubtext1: {\r\n    fontSize: 16,\r\n    color: 'black',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  notSureSubtext2: {\r\n    fontSize: 16,\r\n    color: 'black',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  diagram: {\r\n    width: '100%',\r\n    height: undefined,\r\n    aspectRatio: 16 / 9, // Adjust this ratio based on your image's dimensions\r\n    maxWidth: 600,\r\n    alignSelf: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  angleButton: {\r\n    width: '100%',\r\n    height: '100%',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    overflow: 'hidden',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n    backgroundColor: '#fff',\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedAngleButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  angleImage: {\r\n    marginTop: 8,\r\n    width: isMobile ? '75%' : '65%',\r\n    height: isMobile ? '75%' : '65%',\r\n    resizeMode: 'contain',\r\n  },\r\n  angleText: {\r\n    fontSize: isMobile ? 14 : 16,\r\n    fontWeight: 'bold',\r\n    marginTop: 5,\r\n    marginBottom: 2,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  helpIcon: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    width: 44,\r\n    height: 44,\r\n    //borderRadius: 12,\r\n    //backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1,\r\n  },\r\n  helpIconVisual: {\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  helpIconText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.6)', // Match WelcomeScreen's overlay opacity\r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n  },\r\n  helpImageContainer: {\r\n    width: isWebDesktop() ? '90%' : '92%',\r\n    maxWidth: isWebDesktop() ? 1200 : 450,\r\n    backgroundColor: 'rgba(74, 74, 74, 0.9)',\r\n    borderRadius: 20,\r\n    paddingHorizontal: isWebDesktop() ? 30 : 15,\r\n    paddingTop: isWebDesktop() ? 25 : 12,\r\n    paddingBottom: isWebDesktop() ? 25 : 12,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.35,\r\n    shadowRadius: 6,\r\n    elevation: 10,\r\n    position: 'relative',\r\n  },\r\n  helpImage: {\r\n    width: '100%',\r\n    height: isWebDesktop() ? 800 : 400,\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n    borderRadius: 10,\r\n  },\r\n  clickToEnlargeText: {\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n    fontSize: 18,\r\n    marginTop: 5,\r\n    fontWeight: 'Bold',\r\n    marginBottom: 20,\r\n},\r\ndiagramImageContainer: {\r\n  width: isWebDesktop() ? '90%' : '92%',\r\n  maxWidth: isWebDesktop() ? 1200 : 450,\r\n  backgroundColor: 'rgba(74, 74, 74, 0.9)',\r\n  borderRadius: 20,\r\n  paddingHorizontal: isWebDesktop() ? 30 : 15,\r\n  paddingTop: isWebDesktop() ? 25 : 12,\r\n  paddingBottom: isWebDesktop() ? 25 : 12,\r\n  alignItems: 'center',\r\n  shadowColor: '#000',\r\n  shadowOffset: { width: 0, height: 5 },\r\n  shadowOpacity: 0.35,\r\n  shadowRadius: 6,\r\n  elevation: 10,\r\n  position: 'relative',\r\n},\r\ncloseModalButton: {\r\n  position: 'absolute',\r\n  top: isWebDesktop() ? 20 : 10,\r\n  right: isWebDesktop() ? 20 : 10,\r\n  width: isWebDesktop() ? 50 : 40,\r\n  height: isWebDesktop() ? 50 : 40,\r\n  borderRadius: isWebDesktop() ? 25 : 20,\r\n  backgroundColor: '#ffc100',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  zIndex: 1000,\r\n},\r\ncloseModalButtonText: {\r\n  color: '#4a4a4a',\r\n  fontSize: isWebDesktop() ? 36 : 30,\r\n  fontWeight: 'bold',\r\n  textAlign: 'center',\r\n  lineHeight: isWebDesktop() ? 40 : 34,\r\n  includeFontPadding: false,\r\n  textAlignVertical: 'center',\r\n  paddingBottom: Platform.OS === 'ios' ? 4 : (isWebDesktop ? 4 : 0),\r\n  paddingTop: isWebDesktop ? 2 : 0,\r\n  paddingLeft: isWebDesktop ? 1 : 0,\r\n},\r\nmodalTitle: {\r\n  fontSize: isWebDesktop() ? 32 : 24,\r\n  fontWeight: 'bold',\r\n  color: 'white',\r\n  marginBottom: isWebDesktop() ? 20 : 6,\r\n  marginTop: isWebDesktop() ? 15 : 5,\r\n  textAlign: 'center',\r\n},\r\nenlargedDiagram: {\r\n  width: '100%',\r\n  height: isWebDesktop() ? 800 : 400,\r\n  marginTop: 0,\r\n  marginBottom: 0,\r\n  borderRadius: 10,\r\n},\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: -20,\r\n    right: -20,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#4a4a4a',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  closeButtonText: {\r\n    color: 'white',\r\n    fontSize: 35,\r\n    textAlign: 'center',\r\n    alignSelf: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default OrientationSelectionScreen;","import React from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\r\n\r\nconst NextArrowButton = ({ onPress, isActive }) => {\r\n  return (\r\n    <TouchableOpacity onPress={onPress} activeOpacity={0.7}>\r\n      <View style={[styles.button, isActive && styles.buttonActive]}>\r\n        <Text style={[styles.text, isActive && styles.textActive]}>NEXT</Text>\r\n        <View style={[styles.arrow, isActive && styles.arrowActive]} />\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  button: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    backgroundColor: 'white',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 20,\r\n    paddingRight: 40, // Space for arrow\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  text: {\r\n    color: 'black',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n  },\r\n  arrow: {\r\n    width: 0,\r\n    height: 0,\r\n    marginLeft: 10,\r\n    borderTopWidth: 10,\r\n    borderBottomWidth: 10,\r\n    borderLeftWidth: 15,\r\n    borderTopColor: 'transparent',\r\n    borderBottomColor: 'transparent',\r\n    borderLeftColor: 'black',\r\n  },\r\n  buttonActive: {\r\n    backgroundColor: '#4a4a4a',\r\n  },\r\n  textActive: {\r\n    color: 'white',\r\n  },\r\n  arrowActive: {\r\n    borderLeftColor: 'white',\r\n  },\r\n});\r\n\r\nexport default NextArrowButton;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { View, Text, StyleSheet, SafeAreaView, Image, Dimensions, Platform, TextInput, ScrollView, Animated, TouchableOpacity } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport NextArrowButton from './NextArrowButton';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\n\r\nconst CutLengthsScreen = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const { selectedHose, selectedHosePrice, isHoseOnly, selectedFitting, end1Shape, end1Size, end1Price, isOrderFittingMode , selectedEnd2Fitting, end2Shape, end2Size, end2Price, selectedAngle } = route.params || {};\r\n\r\n  const [quantity, setQuantity] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [cutLengths, setCutLengths] = useState(isHoseOnly ? [{ length: '', unit: 'mm' }] : []);\r\n  const [showCutLengths, setShowCutLengths] = useState(isHoseOnly);\r\n  const [allLengthsFilled, setAllLengthsFilled] = useState(false);\r\n  const [lastInputIndex, setLastInputIndex] = useState(-1);\r\n  const [cutLengthErrors, setCutLengthErrors] = useState([]);\r\n  const quantityInputRef = useRef(null);\r\n  const inputRefs = useRef([]);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [cutLengthPrice, setCutLengthPrice] = useState(0);\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [hasSubmitted, setHasSubmitted] = useState(false);\r\n  const [initialValidationDone, setInitialValidationDone] = useState(false);\r\n  const [devModeActive, setDevModeActive] = useState(false);\r\n  const [easterEggMessage, setEasterEggMessage] = useState('');\r\n  const [showEasterEgg, setShowEasterEgg] = useState(false);\r\n\r\n  const SelectedHoseDisplay = ({ size, price }) => (\r\n    <View style={styles.selectedHoseContainer}>\r\n      <Text style={styles.selectedHoseHeader}>Selected Hose Size</Text>\r\n      <Text style={styles.selectedHoseSize}>{size}</Text>\r\n      <View style={styles.selectedHosePriceContainer}>\r\n        <Text style={styles.selectedHosePrice}>A$ {price}/meter</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  const DynamicPriceDisplay = ({ totalPrice, isHoseOnly }) => (\r\n    <View style={styles.selectedHoseContainer}>\r\n      <Text style={styles.selectedHoseHeader}>\r\n        {isOrderFittingMode ? 'Total Fitting Price' : \r\n         isHoseOnly ? 'Hose Only Price' : 'Total Hose and Fitting Price'}\r\n      </Text>\r\n      <View style={styles.selectedHosePriceContainer}>\r\n        <Text style={styles.selectedHosePrice}>A$ {totalPrice.toFixed(2)}</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  const isIOSBrowser = () => {\r\n    return (\r\n      Platform.OS === 'ios' ||\r\n      (Platform.OS === 'web' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)\r\n    );\r\n  };\r\n\r\n  const isIOS = () => {\r\n    return (\r\n      Platform.OS === 'ios' ||\r\n      (Platform.OS === 'web' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Short timeout to ensure the input is rendered\r\n    const timer = setTimeout(() => {\r\n      if (isHoseOnly && inputRefs.current[0]) {\r\n        inputRefs.current[0].focus();\r\n      } else if (!isHoseOnly && quantityInputRef.current) {\r\n        quantityInputRef.current.focus();\r\n      }\r\n    }, 100);\r\n  \r\n    return () => clearTimeout(timer);\r\n  }, [isHoseOnly]);\r\n  \r\nuseEffect(() => {\r\n  if (!isHoseOnly && showCutLengths) {\r\n    const num = parseInt(quantity, 10);\r\n    const maxQuantity = isOrderFittingMode ? 100 : 20;  // Match the max quantity logic\r\n    if (!isNaN(num) && num > 0 && num <= maxQuantity) {  // Updated condition\r\n      setCutLengths(Array(num).fill({ length: '', unit: 'mm' }));\r\n      setCutLengthErrors(Array(num).fill(''));\r\n      inputRefs.current = inputRefs.current.slice(0, num);\r\n      setTimeout(() => {\r\n        if (inputRefs.current[0]) {\r\n          inputRefs.current[0].focus();\r\n        }\r\n      }, 100);\r\n    } else {\r\n      setCutLengths([]);\r\n      setCutLengthErrors([]);\r\n    }\r\n  }\r\n}, [quantity, showCutLengths, isHoseOnly, isOrderFittingMode]);\r\n\r\n  useEffect(() => {\r\n    const allFilled = cutLengths.length > 0 && cutLengths.every(cut => cut.length !== '');\r\n    \r\n    // Only handle error clearing if initial validation hasn't been done yet\r\n    if (!initialValidationDone) {\r\n      if (cutLengths.length > 1) {\r\n        if (lastInputIndex === cutLengths.length - 1) {\r\n          const emptyFields = cutLengths.map((cut, index) => cut.length === '' ? index : -1)\r\n                                      .filter(index => index !== -1);\r\n          \r\n          if (emptyFields.length > 0) {\r\n            const newErrors = [...cutLengthErrors];\r\n            emptyFields.forEach(index => {\r\n              newErrors[index] = 'Please enter value in the empty fields';\r\n            });\r\n            setCutLengthErrors(newErrors);\r\n            setAllLengthsFilled(false);\r\n          } else {\r\n            const allNumeric = cutLengths.every(cut => /^\\d+$/.test(cut.length));\r\n            if (allNumeric) {\r\n              setCutLengthErrors(Array(cutLengths.length).fill(''));\r\n            }\r\n            setAllLengthsFilled(true && showCutLengths);\r\n          }\r\n        }\r\n      } else {\r\n        setAllLengthsFilled(allFilled && showCutLengths);\r\n      }\r\n    }\r\n  }, [cutLengths, showCutLengths, lastInputIndex, initialValidationDone]);\r\n\r\n  useEffect(() => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      // Only reset the animation\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      // We'll keep this to ensure the keyboard appears when needed\r\n      if (!quantity && quantityInputRef.current) {\r\n        const timer = setTimeout(() => {\r\n          quantityInputRef.current.focus();\r\n        }, 100);\r\n        return () => clearTimeout(timer);\r\n      }\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const validateQuantity = (value) => {\r\n    // Reset states for both modes\r\n    setShowCutLengths(false);\r\n    setHasSubmitted(false);\r\n    \r\n    if (value === '') {\r\n      setQuantity(value);\r\n      setTotalPrice(0);\r\n      setError(''); // Clear any existing errors\r\n      return;\r\n    }\r\n\r\n    // Hidden developer feature for Fittings mode\r\n    if (value === '696' && isOrderFittingMode) {\r\n      setQuantity('1');\r\n      setError('');\r\n      setDevModeActive(true);\r\n      \r\n      // Set Easter egg message instead of alert\r\n      setEasterEggMessage(' Secret Fitting Discount Unlocked! As the developer, you get the special price. Enjoy your discount, boss! ');\r\n      setShowEasterEgg(true);\r\n      \r\n      // Auto-hide the message after 5 seconds\r\n      setTimeout(() => {\r\n        setShowEasterEgg(false);\r\n      }, 5000);\r\n      \r\n      return;\r\n    }\r\n    \r\n    // Immediately show error for non-numeric input\r\n    if (!/^\\d+$/.test(value)) {\r\n      setError('Please enter numbers only');\r\n      setTotalPrice(0);\r\n      return;\r\n    }\r\n    \r\n    // If we get here, we have a valid number\r\n    const num = parseInt(value, 10);\r\n    setError(''); // Clear any existing errors\r\n    setQuantity(value);\r\n    \r\n    // For Fitting Mode: Calculate price immediately\r\n    if (isOrderFittingMode) {\r\n      const fittingPrice = parseFloat(end1Price || 0);\r\n      const totalPrice = fittingPrice * num;\r\n      setTotalPrice(totalPrice);\r\n      setCutLengthPrice(totalPrice);\r\n    }\r\n  };\r\n  \r\n  const handleQuantitySubmit = () => {\r\n    // Validate quantity limits on submit\r\n    const num = parseInt(quantity, 10);\r\n    const maxQuantity = isOrderFittingMode ? 100 : 20;\r\n  \r\n    if (quantity === '') {\r\n      setError('Please enter a quantity');\r\n      return;\r\n    }\r\n    \r\n    // Add minimum quantity validation\r\n    if (num < 1) {\r\n      setError('Minimum quantity is 1');\r\n      return;\r\n    }\r\n    \r\n    if (num > maxQuantity) {\r\n      setError(`Maximum quantity is ${isOrderFittingMode ? '100' : '20'}`);\r\n      return;\r\n    }\r\n  \r\n    // If we get here, there are no errors\r\n    setError('');\r\n  \r\n    // Proceed based on mode\r\n    if (isOrderFittingMode) {\r\n      setHasSubmitted(true);\r\n      calculatePrice([]); // Ensure price is calculated\r\n    } else {\r\n      setShowCutLengths(true);\r\n      setTimeout(() => {\r\n        if (inputRefs.current[0]) {\r\n          inputRefs.current[0].focus();\r\n        }\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const updateCutLength = (index, length) => {\r\n    const updatedLengths = [...cutLengths];\r\n    const updatedErrors = [...cutLengthErrors];\r\n\r\n      // Hidden developer feature check\r\n      if (length === '20162025') {\r\n        updatedLengths[index] = { ...updatedLengths[index], length: '100' }; // Set a valid length\r\n        updatedErrors[index] = '';\r\n        setCutLengths(updatedLengths);\r\n        setCutLengthErrors(updatedErrors);\r\n        setDevModeActive(true);\r\n        \r\n        // Set Easter egg message instead of alert\r\n        setEasterEggMessage(' Developer Mode Activated! Welcome to the secret lair... all hoses lead to magic! ');\r\n        setShowEasterEgg(true);\r\n        \r\n        // Auto-hide the message after 5 seconds\r\n        setTimeout(() => {\r\n          setShowEasterEgg(false);\r\n        }, 5000);\r\n        \r\n        if (!initialValidationDone && index === cutLengths.length - 1) {\r\n          setInitialValidationDone(true);\r\n        }\r\n        setHasSubmitted(true);\r\n        return;\r\n      }\r\n  \r\n    // Update the length regardless of content\r\n    updatedLengths[index] = { ...updatedLengths[index], length };\r\n  \r\n    // Special handling for Hose Only mode\r\n    if (isHoseOnly) {\r\n      // Only check numeric validation\r\n      if (!/^\\d+$/.test(length) && length !== '') {\r\n        updatedErrors[index] = 'Please enter numbers only';\r\n      } else if (hasSubmitted) {\r\n        // Only show minimum length error if user has submitted before\r\n        const lengthValue = parseInt(length, 10);\r\n        if (lengthValue < 50) {\r\n          updatedErrors[index] = 'Minimum length is 50mm';\r\n        } else {\r\n          updatedErrors[index] = '';\r\n        }\r\n      } else {\r\n        updatedErrors[index] = '';\r\n      }\r\n      \r\n      setCutLengths(updatedLengths);\r\n      setCutLengthErrors(updatedErrors);\r\n      calculatePrice(updatedLengths);\r\n      return;\r\n    }\r\n  \r\n      // Normal mode validation\r\n    if (!isHoseOnly && !isOrderFittingMode) {\r\n      if (!/^\\d+$/.test(length) && length !== '') {\r\n        // Non-numeric input validation\r\n        updatedErrors[index] = 'Please enter numbers only';\r\n        setHasSubmitted(false);\r\n      } else if (length === '') {\r\n        // Empty field validation\r\n        updatedErrors[index] = 'Please enter value in the empty fields';\r\n        setHasSubmitted(false);\r\n      } else if (/^\\d+$/.test(length)) {\r\n        const numLength = parseInt(length, 10);\r\n        \r\n        // After initial validation, always check minimum length\r\n        if (initialValidationDone) {\r\n          if (numLength < 50) {\r\n            updatedErrors[index] = 'Minimum length is 50mm';\r\n            setHasSubmitted(false);\r\n          } else {\r\n            updatedErrors[index] = '';\r\n            \r\n            // Check all other fields\r\n            const allFieldsValid = updatedLengths.every((cut, idx) => {\r\n              if (!cut.length) return false;\r\n              if (!/^\\d+$/.test(cut.length)) return false;\r\n              const len = parseInt(cut.length, 10);\r\n              return len >= 50;\r\n            });\r\n\r\n            // Update errors for all fields\r\n            updatedLengths.forEach((cut, idx) => {\r\n              if (!cut.length) {\r\n                updatedErrors[idx] = 'Please enter value in the empty fields';\r\n              } else if (!/^\\d+$/.test(cut.length)) {\r\n                updatedErrors[idx] = 'Please enter numbers only';\r\n              } else {\r\n                const len = parseInt(cut.length, 10);\r\n                if (len < 50) {\r\n                  updatedErrors[idx] = 'Minimum length is 50mm';\r\n                }\r\n              }\r\n            });\r\n\r\n            // Only set hasSubmitted to true if all fields are valid\r\n            if (allFieldsValid) {\r\n              setHasSubmitted(true);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Always calculate price for valid numeric inputs\r\n    if (/^\\d+$/.test(length)) {\r\n      calculatePrice(updatedLengths);\r\n    }\r\n\r\n    setCutLengths(updatedLengths);\r\n    setCutLengthErrors(updatedErrors);\r\n  };\r\n\r\nconst handleNext = () => {\r\n  // Animation config to reuse\r\n  const animationConfig = {\r\n    toValue: 0,\r\n    duration: 800,\r\n    useNativeDriver: Platform.OS === 'native',\r\n  };\r\n\r\n  // Fitting Only mode\r\n  if (isOrderFittingMode && quantity !== '' && !error && hasSubmitted) {\r\n    Animated.timing(fadeAnim, animationConfig).start(() => {\r\n      navigation.navigate('OrderConfirmation1', {\r\n        quantity: parseInt(quantity, 10),\r\n        selectedFitting: route.params.selectedFitting,\r\n        end1Shape: route.params.end1Shape,\r\n        end1Size: route.params.end1Size,\r\n        end1Price: route.params.end1Price,\r\n        cutLengthPrice,\r\n        isDevMode: devModeActive,\r\n        selectedHose: null,\r\n        selectedHosePrice: null,\r\n        selectedEnd2Fitting: null,\r\n        end2Shape: null,\r\n        end2Size: null,\r\n        end2Price: null,\r\n        selectedAngle: null,\r\n        isHoseOnly: false,\r\n        isOrderFittingMode: true\r\n      });\r\n    });\r\n  } \r\n  // Hose Only mode\r\n  else if (isHoseOnly && cutLengths[0].length && !cutLengthErrors[0] && hasSubmitted) {\r\n    Animated.timing(fadeAnim, animationConfig).start(() => {\r\n      navigation.navigate('HoseProtection', {\r\n        cutLengths,\r\n        cutLengthPrice,\r\n        isDevMode: devModeActive,\r\n        selectedHose,\r\n        selectedHosePrice,\r\n        selectedFitting,\r\n        end1Shape,\r\n        end1Size,\r\n        end1Price,\r\n        selectedEnd2Fitting,\r\n        end2Shape,\r\n        end2Size,\r\n        end2Price,\r\n        selectedAngle,\r\n        isHoseOnly: true\r\n      });\r\n    });\r\n  }\r\n  // Normal mode\r\n  else if (!isOrderFittingMode && !isHoseOnly && allLengthsFilled && hasSubmitted) {\r\n\r\n    const qty = parseInt(quantity, 10);\r\n    const totalEnd1Price = parseFloat(end1Price || 0) * qty;\r\n    const totalEnd2Price = parseFloat(end2Price || 0) * qty;\r\n\r\n    Animated.timing(fadeAnim, animationConfig).start(() => {\r\n      navigation.navigate('HoseProtection', {\r\n        quantity: parseInt(quantity, 10),\r\n        cutLengths,\r\n        cutLengthPrice,\r\n        isDevMode: devModeActive,\r\n        selectedHose,\r\n        selectedHosePrice,\r\n        selectedFitting,\r\n        end1Shape,\r\n        end1Size,\r\n        end1Price: totalEnd1Price,\r\n        selectedEnd2Fitting,\r\n        end2Shape,\r\n        end2Size,\r\n        end2Price: totalEnd2Price,\r\n        selectedAngle,\r\n        isHoseOnly: false\r\n      });\r\n    });\r\n  }\r\n};\r\n\r\nconst calculatePrice = (lengths) => {\r\n\r\n  // Check if we're in developer mode (any length is '20162025')\r\n  const isDevMode = lengths.some(cut => cut.length === '20162025');\r\n  if (isDevMode) {\r\n  }\r\n\r\n  if (isOrderFittingMode) {\r\n    // For fitting mode, price is simply end1Price * quantity\r\n    const fittingPrice = parseFloat(end1Price || 0);\r\n    const qty = parseInt(quantity, 10);\r\n    const totalPrice = fittingPrice * qty;\r\n    \r\n    setTotalPrice(totalPrice);\r\n    setCutLengthPrice(totalPrice);\r\n  } else {\r\n    // Original price calculation for hose mode\r\n    const totalLengthInMeters = lengths.reduce((sum, cut) => {\r\n      const lengthInMillimeters = parseInt(cut.length || '0', 10);\r\n      return sum + (lengthInMillimeters / 1000);\r\n    }, 0);\r\n    \r\n    const pricePerMeter = parseFloat(selectedHosePrice);\r\n    const hosePrice = totalLengthInMeters * pricePerMeter;\r\n    \r\n    let calculatedPrice;\r\n    if (isHoseOnly) {\r\n      calculatedPrice = hosePrice;\r\n    } else {\r\n      // Normal mode - multiply fittings by quantity\r\n      const qty = parseInt(quantity, 10);\r\n      const fittingsPrice = (parseFloat(end1Price || 0) + parseFloat(end2Price || 0)) * qty;\r\n      calculatedPrice = hosePrice + fittingsPrice;\r\n    }\r\n    \r\n    setTotalPrice(calculatedPrice);\r\n    setCutLengthPrice(calculatedPrice);\r\n  }\r\n};\r\n\r\nconst handleInputSubmit = (index) => {\r\n  const currentValue = cutLengths[index].length;\r\n  \r\n  // iOS-specific handling for \"Done\" button\r\n  if (Platform.OS === 'ios') {\r\n    // Validate and handle the input regardless of focus management\r\n    validateAndProcessInput(index, currentValue);\r\n    return;\r\n  }\r\n  \r\n  // Original logic for non-iOS platforms\r\n  if (!currentValue || !/^\\d+$/.test(currentValue)) {\r\n    return;\r\n  }\r\n\r\n  if (index < cutLengths.length - 1) {\r\n    inputRefs.current[index + 1].focus();\r\n    calculatePrice(cutLengths);\r\n  } else {\r\n    // Check minimum length for normal mode only when on last input\r\n    if (!isHoseOnly && !isOrderFittingMode) {\r\n      const newErrors = [...cutLengthErrors];\r\n      let hasErrors = false;\r\n      \r\n      // Check all cut lengths at once\r\n      cutLengths.forEach((cut, idx) => {\r\n        const length = parseInt(cut.length, 10);\r\n        if (length < 50) {\r\n          newErrors[idx] = 'Minimum length is 50mm';\r\n          hasErrors = true;\r\n        } else {\r\n          newErrors[idx] = ''; // Clear any existing errors for valid lengths\r\n        }\r\n      });\r\n\r\n      setCutLengthErrors(newErrors);\r\n      setInitialValidationDone(true); // Set the flag when first validation is done\r\n      if (hasErrors) {\r\n        setHasSubmitted(false);\r\n        return;\r\n      }\r\n    }\r\n    \r\n    setHasSubmitted(true);\r\n    calculatePrice(cutLengths);\r\n  }\r\n  \r\n  const allFilled = cutLengths.every(cut => cut.length !== '' && /^\\d+$/.test(cut.length));\r\n  setAllLengthsFilled(allFilled);\r\n  \r\n  setLastInputIndex(index);\r\n};\r\n\r\n// Add this new function right after the handleInputSubmit function\r\nconst validateAndProcessInput = (index, currentValue) => {\r\n  if (!currentValue || !/^\\d+$/.test(currentValue)) {\r\n    return false;\r\n  }\r\n  \r\n  const length = parseInt(currentValue, 10);\r\n  \r\n  if (isHoseOnly) {\r\n    if (length < 50) {\r\n      setCutLengthErrors(['Minimum length is 50mm']);\r\n      return false;\r\n    } else {\r\n      setCutLengthErrors(['']);\r\n      setHasSubmitted(true);\r\n      calculatePrice(cutLengths);\r\n      return true;\r\n    }\r\n  } else if (!isOrderFittingMode) {\r\n    const newErrors = [...cutLengthErrors];\r\n    let hasErrors = false;\r\n    \r\n    cutLengths.forEach((cut, idx) => {\r\n      if (!cut.length) {\r\n        newErrors[idx] = 'Please enter value in the empty fields';\r\n        hasErrors = true;\r\n      } else if (!/^\\d+$/.test(cut.length)) {\r\n        newErrors[idx] = 'Please enter numbers only';\r\n        hasErrors = true;\r\n      } else {\r\n        const len = parseInt(cut.length, 10);\r\n        if (len < 50) {\r\n          newErrors[idx] = 'Minimum length is 50mm';\r\n          hasErrors = true;\r\n        } else {\r\n          newErrors[idx] = '';\r\n        }\r\n      }\r\n    });\r\n    \r\n    setCutLengthErrors(newErrors);\r\n    setInitialValidationDone(true);\r\n    \r\n    if (hasErrors) {\r\n      setHasSubmitted(false);\r\n      return false;\r\n    }\r\n    \r\n    setHasSubmitted(true);\r\n    calculatePrice(cutLengths);\r\n    return true;\r\n  }\r\n  \r\n  return true;\r\n}\r\n\r\n  const handleKeyPress = (e, index) => {\r\n    if (e.nativeEvent.key === 'Tab') {\r\n      e.preventDefault();\r\n      handleInputSubmit(index);\r\n    }\r\n  };\r\n\r\n  const renderCutLengthRows = () => {\r\n    if (!showCutLengths) return null;\r\n  \r\n    if (isHoseOnly) {\r\n      // Single cut length input for Hose Only mode\r\n      return (\r\n        <View>\r\n          <View style={styles.cutLengthRow}>\r\n            <View style={styles.cutLengthInputContainer}>\r\n              <TextInput\r\n                ref={el => inputRefs.current[0] = el}\r\n                style={[\r\n                  styles.cutLengthInput,\r\n                  cutLengthErrors[0] ? styles.inputError : null\r\n                ]}\r\n                value={cutLengths[0].length}\r\n                placeholder=\"Enter length in millimeters\"\r\n                placeholderTextColor=\"#999999\"\r\n                onChangeText={(text) => updateCutLength(0, text)}\r\n                onSubmitEditing={() => handleInputSubmit(0)}\r\n                keyboardType=\"numeric\"\r\n                returnKeyType=\"done\"\r\n                blurOnSubmit={true}  // Changed from Platform.OS === 'ios'\r\n                onEndEditing={() => handleInputSubmit(0)}  // Changed - removed conditional\r\n                onBlur={() => handleInputSubmit(0)}  // Added this line for iOS browsers\r\n                enterKeyHint=\"done\"\r\n                inputMode=\"numeric\"\r\n                autoComplete=\"off\"\r\n              />\r\n              <Text style={styles.unitText}>mm</Text>\r\n            </View>\r\n          </View>\r\n          {cutLengthErrors[0] ? <Text style={styles.errorText}>{cutLengthErrors[0]}</Text> : null}\r\n        </View>\r\n      );\r\n    }\r\n  \r\n    // Original multiple cut lengths rendering for normal mode\r\n    return (\r\n      <View>\r\n        {cutLengths.map((cut, index) => (\r\n          <View key={index}>\r\n            <View style={styles.cutLengthRow}>\r\n              <View style={styles.rowLabelContainer}>\r\n                <View style={styles.rowNumberContainer}>\r\n                  <Text style={styles.rowNumber}>{index + 1}.</Text>\r\n                </View>\r\n                <Text style={styles.cutLengthText}>Cut Length</Text>\r\n              </View>\r\n              <View style={styles.cutLengthInputContainer}>\r\n              <TextInput\r\n                ref={el => inputRefs.current[index] = el}\r\n                style={[\r\n                  styles.cutLengthInput,\r\n                  cutLengthErrors[index] ? styles.inputError : null\r\n                ]}\r\n                value={cut.length}\r\n                placeholder=\"Enter length in millimeters\"\r\n                placeholderTextColor=\"#999999\"\r\n                onChangeText={(text) => updateCutLength(index, text)}\r\n                onSubmitEditing={() => handleInputSubmit(index)}\r\n                onKeyPress={(e) => handleKeyPress(e, index)}\r\n                keyboardType=\"numeric\"\r\n                returnKeyType={index === cutLengths.length - 1 ? \"done\" : \"next\"}\r\n                blurOnSubmit={true}  // Changed from conditional\r\n                onEndEditing={() => handleInputSubmit(index)}  // Changed - removed conditional\r\n                onBlur={() => handleInputSubmit(index)}  // Added this line for iOS browsers\r\n                enterKeyHint={index === cutLengths.length - 1 ? \"done\" : \"next\"}\r\n                inputMode=\"numeric\"\r\n                autoComplete=\"off\"\r\n              />\r\n                <Text style={styles.unitText}>{cut.unit}</Text>\r\n              </View>\r\n            </View>\r\n            {cutLengthErrors[index] ? <Text style={styles.errorText}>{cutLengthErrors[index]}</Text> : null}\r\n          </View>\r\n        ))}\r\n      </View>\r\n    );\r\n  };\r\n\r\n\r\n  return (\r\n    <View style={styles.mainContainer}> \r\n      {/* Easter Egg Message */}\r\n      {showEasterEgg && (\r\n        <View style={styles.easterEggContainer}>\r\n          <Text style={styles.easterEggText}>{easterEggMessage}</Text>\r\n        </View>\r\n      )}\r\n  \r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n  \r\n          <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\r\n            <ScrollView contentContainerStyle={styles.scrollContent}>\r\n              <View style={styles.contentContainer}>\r\n                {isOrderFittingMode ? (\r\n                  // Render only for fitting mode\r\n                  <>\r\n                    <View style={styles.titleContainer}>\r\n                      <Text style={styles.titleText}>Number of Fittings</Text>\r\n                    </View>\r\n                    <View style={styles.quantityRow}>\r\n                      <View style={styles.quantityContainer}>\r\n                        <Text style={styles.titleText}>QTY</Text>\r\n                      </View>\r\n                      <TextInput\r\n                        ref={quantityInputRef}\r\n                        style={styles.quantityInput}\r\n                        value={quantity}\r\n                        onChangeText={validateQuantity}\r\n                        onSubmitEditing={handleQuantitySubmit}\r\n                        onEndEditing={handleQuantitySubmit}\r\n                        onBlur={handleQuantitySubmit}\r\n                        blurOnSubmit={true}\r\n                        keyboardType=\"numeric\"\r\n                        maxLength={3}\r\n                        returnKeyType=\"done\"\r\n                        enterKeyHint=\"done\"\r\n                        inputMode=\"numeric\"\r\n                        autoComplete=\"off\"\r\n                      />\r\n                    </View>\r\n                    {error ? (\r\n                      <View style={styles.errorContainer}>\r\n                        <Text style={styles.errorText}>{error}</Text>\r\n                      </View>\r\n                    ) : null}\r\n                    {totalPrice > 0 && (\r\n                      <View style={styles.pricingContainer}>\r\n                        <DynamicPriceDisplay \r\n                          totalPrice={totalPrice}\r\n                          isHoseOnly={isHoseOnly}\r\n                        />\r\n                      </View>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  // Existing render for non-fitting modes\r\n                  <>\r\n                    {selectedHose && selectedHosePrice && (\r\n                      <SelectedHoseDisplay \r\n                        size={selectedHose.size}\r\n                        price={selectedHosePrice}\r\n                      />\r\n                    )}\r\n  \r\n                    {!isHoseOnly && (\r\n                      <>\r\n                        <View style={styles.titleContainer}>\r\n                          <Text style={styles.titleText}>No. of Hoses REQUIRED</Text>\r\n                        </View>\r\n                        <View style={styles.quantityRow}>\r\n                          <View style={styles.quantityContainer}>\r\n                            <Text style={styles.titleText}>QTY</Text>\r\n                          </View>\r\n                          <TextInput\r\n                            ref={quantityInputRef}\r\n                            style={styles.quantityInput}\r\n                            value={quantity}\r\n                            onChangeText={validateQuantity}\r\n                            onSubmitEditing={handleQuantitySubmit}\r\n                            onEndEditing={handleQuantitySubmit}\r\n                            onBlur={handleQuantitySubmit}\r\n                            blurOnSubmit={true}\r\n                            keyboardType=\"numeric\"\r\n                            maxLength={3}\r\n                            returnKeyType=\"done\"\r\n                            enterKeyHint=\"done\"\r\n                            inputMode=\"numeric\"\r\n                            autoComplete=\"off\"\r\n                          />\r\n                        </View>\r\n                        {/* Add error message display here */}\r\n                        {error ? (\r\n                          <View style={styles.errorContainer}>\r\n                            <Text style={styles.errorText}>{error}</Text>\r\n                          </View>\r\n                        ) : null}\r\n                      </>\r\n                    )}\r\n                    \r\n                    <View style={styles.subtitleContainer}>\r\n                      <Text style={styles.titleText}>\r\n                        {isHoseOnly ? 'Hose Cut LENGTH' : 'Hose Cut LENGTHS'}\r\n                      </Text>\r\n                    </View>\r\n                    \r\n                    <Image\r\n                      source={require('../assets/hose_cut_length.png')}\r\n                      style={styles.diagram}\r\n                      resizeMode=\"contain\"\r\n                    />\r\n                    \r\n                    <View style={styles.cutLengthsContainer}>\r\n                      {renderCutLengthRows()}\r\n                    </View>\r\n  \r\n                    {totalPrice > 0 && (\r\n                      <View style={styles.pricingContainer}>\r\n                        <DynamicPriceDisplay \r\n                          totalPrice={totalPrice}\r\n                          isHoseOnly={isHoseOnly}\r\n                        />\r\n                      </View>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </View>\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n  \r\n      {/* iOS Validation Button */}\r\n      {isIOSBrowser() && !hasSubmitted && (\r\n        <View style={styles.iosValidationContainer}>\r\n          <TouchableOpacity\r\n            style={styles.iosValidationButton}\r\n            onPress={() => {\r\n              if (isOrderFittingMode && quantity) {\r\n                handleQuantitySubmit();\r\n              } else if (isHoseOnly && cutLengths[0]?.length) {\r\n                handleInputSubmit(0);\r\n              } else if (!isHoseOnly && !isOrderFittingMode) {\r\n                // For normal mode with multiple lengths\r\n                const allValid = cutLengths.every((cut, idx) => {\r\n                  if (cut.length) {\r\n                    return handleInputSubmit(idx);\r\n                  }\r\n                  return false;\r\n                });\r\n              }\r\n            }}\r\n          >\r\n          </TouchableOpacity>\r\n        </View>\r\n      )}\r\n    \r\n      {/* Define the condition for showing next button once */}\r\n      {(() => {\r\n        const shouldShowNextButton = (\r\n          (isOrderFittingMode && quantity !== '' && !error && hasSubmitted) || // Fitting Only mode\r\n          (isHoseOnly && cutLengths[0]?.length && \r\n          /^\\d+$/.test(cutLengths[0]?.length) && \r\n          parseInt(cutLengths[0]?.length) >= 50 && hasSubmitted) || // Hose Only mode\r\n          (!isOrderFittingMode && !isHoseOnly && // Normal mode\r\n          initialValidationDone && \r\n          cutLengths.every(cut => {\r\n            if (!cut.length) return false;\r\n            if (!/^\\d+$/.test(cut.length)) return false;\r\n            return parseInt(cut.length, 10) >= 50;\r\n          }) && \r\n          hasSubmitted)\r\n        );\r\n  \r\n        // Return a fragment with conditional content\r\n        return (\r\n          <>\r\n            {/* Platform-specific next button rendering */}\r\n            {shouldShowNextButton && (\r\n              <View style={styles.iosNextButtonContainer}>\r\n                <NextArrowButton onPress={handleNext} isActive={true} />\r\n              </View>\r\n            )}\r\n          </>\r\n        );\r\n      })()}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollContent: {\r\n    flexGrow: 1,\r\n    alignItems: 'center',\r\n    backgroundColor: 'transparent',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n    backgroundColor: 'white',\r\n  },\r\n  contentContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: '100%',\r\n    height: undefined,\r\n    aspectRatio: 2,\r\n    resizeMode: 'contain',\r\n    maxWidth: 400,\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginTop: 15,\r\n    marginBottom: 5,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  selectedHoseContainer: {\r\n    alignItems: 'center',\r\n    marginVertical: 15,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 12,\r\n    width: '80%',\r\n    maxWidth: 300,\r\n    backgroundColor: 'white',\r\n  },\r\n  selectedHoseHeader: {\r\n    fontSize: 18,\r\n    color: '#4a4a4a',\r\n    marginBottom: 4,\r\n  },\r\n  selectedHoseSize: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: 8,\r\n  },\r\n  selectedHosePriceContainer: {\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 12,\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 15,\r\n  },\r\n  selectedHosePrice: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  quantityRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n  },\r\n  quantityContainer: {\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  quantityInput: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    width: 120,\r\n    height: 60,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  errorContainer: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    marginTop: 5,\r\n  },\r\n  errorText: {\r\n    color: 'red',\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n  },\r\n  inputError: {\r\n    borderColor: 'red',\r\n  },\r\n  subtitleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 5,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n    marginTop: 20,\r\n  },\r\n  diagram: {\r\n    width: '80%',\r\n    height: undefined,\r\n    aspectRatio: 16 / 12,\r\n    maxWidth: 300,\r\n    alignSelf: 'center',\r\n  },\r\n  cutLengthsContainer: {\r\n    width: '100%',\r\n    maxWidth: 500,\r\n    alignItems: 'center',\r\n    marginTop: 20,\r\n  },\r\n  cutLengthRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 10,\r\n    width: '100%',\r\n  },\r\n  cutLengthText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  rowLabelContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    flex: 1,\r\n  },\r\n  rowNumberContainer: {\r\n    width: 40, // Adjust this width as needed\r\n    alignItems: 'flex-end',\r\n    marginRight: 5,\r\n  },\r\n  rowNumber: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    marginRight: 10,\r\n  },\r\n  cutLengthInputContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  cutLengthInput: {\r\n    fontSize: 18,\r\n    fontWeight: 'normal',\r\n    textAlign: 'left',\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 8,\r\n    width: 230,  // Increased width to accommodate placeholder\r\n    height: 45,\r\n    marginRight: 5,\r\n    marginLeft: 30,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: '#F5F5F5',\r\n  },\r\n  unitText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    width: 40,\r\n    marginLeft: 5,\r\n  },\r\n  pricingContainer: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  easterEggContainer: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 120 : 80,\r\n    left: 0,\r\n    right: 0,\r\n    backgroundColor: '#ffc100',\r\n    padding: 15,\r\n    margin: 20,\r\n    borderRadius: 10,\r\n    borderWidth: 3,\r\n    borderColor: '#4a4a4a',\r\n    zIndex: 2000,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 4,\r\n    },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 5,\r\n    elevation: 8,\r\n  },\r\n  easterEggText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  iosNextButtonContainer: {\r\n    position: 'absolute',\r\n    bottom: 100,\r\n    right: 20,\r\n    marginRight: 20,\r\n    zIndex: 1500,\r\n  },\r\n  /*iosValidationContainer: {\r\n    alignItems: 'center',\r\n    marginTop: 15,\r\n    marginBottom: 20,\r\n  },\r\n  iosValidationButton: {\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 25,\r\n    borderRadius: 25,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  iosValidationButtonText: {\r\n    color: 'white',\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n  iosNextPromptContainer: {\r\n    position: 'absolute',\r\n    bottom: 170,\r\n    right: 20,\r\n    backgroundColor: 'rgba(255, 193, 0, 0.9)',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    maxWidth: 200,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    zIndex: 1400,\r\n  },\r\n  iosNextPromptText: {\r\n    color: '#4a4a4a',\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  }*/\r\n  viewportFooter: {\r\n    position: 'absolute',\r\n    bottom: Platform.OS === 'ios' ? 40 : 20,\r\n    right: 20,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)', // semi-transparent white background\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  footerContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  footerRight: {\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nexport default CutLengthsScreen;","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated, } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8); // Button width, capped at 320\n\nconst ProtectionTypeButton = ({ type, image, onPress, isSelected, priceText }) => (\n  <TouchableOpacity \n    style={[\n      styles.protectionButton, \n      isSelected && styles.selectedProtectionButton\n    ]} \n    onPress={onPress}\n  >\n    <View style={styles.protectionContent}>\n      {image ? (\n        <>\n          <Text style={styles.protectionButtonText}>{type}</Text>\n          <View style={styles.contentRow}>\n            <View style={styles.imageContainer}>\n              <Image source={image} style={styles.protectionImage} resizeMode=\"contain\" />\n            </View>\n            <View style={styles.priceContainer}>\n              <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\n                <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\n                  {priceText}\n                </Text>\n              </View>\n            </View>\n          </View>\n        </>\n      ) : (\n        <View style={styles.noImageContentCentered}>\n          <Text style={styles.protectionButtonText}>{type}</Text>\n        </View>\n      )}\n    </View>\n  </TouchableOpacity>\n);\n\nconst PriceDisplay = ({ price, isHoseOnly, hasProtection, titleFade, priceFade }) => (\n    <View style={styles.pricingCard}>\n      <Animated.Text style={[styles.pricingHeader, { opacity: titleFade }]}>\n        {hasProtection ? 'Hose Price with Protection' : (isHoseOnly ? 'Hose Only Price' : 'Total Hose and Fitting Price')}\n      </Animated.Text>\n      <View style={styles.pricingValueContainer}>\n        <Animated.Text style={[styles.pricingValue, { opacity: priceFade }]}>\n          A$ {price.toFixed(2)}\n        </Animated.Text>\n      </View>\n    </View>\n  );\n\n  const HoseProtectionScreen = () => {\n    const navigation = useNavigation();\n    const route = useRoute();\n    const [selectedProtection, setSelectedProtection] = useState(null);\n    const [initialPrice, setInitialPrice] = useState(0);\n    const [protectionPrice, setProtectionPrice] = useState(0);\n    const priceFade = useRef(new Animated.Value(1)).current;\n    const fadeAnim = useRef(new Animated.Value(0)).current;\n    const titleFade = useRef(new Animated.Value(1)).current;\n    \n    const { \n      selectedHose, \n      selectedHosePrice,\n      selectedFitting, \n      end1Shape, \n      end1Size,\n      end1Price, \n      selectedEnd2Fitting, \n      end2Shape, \n      end2Size,\n      end2Price, \n      selectedAngle, \n      quantity, \n      cutLengths,\n      cutLengthPrice,\n      isDevMode: devModeActive,\n      isHoseOnly\n    } = route.params || {};\n  \n    // Move protectionTypes outside of useEffect\n    const protectionTypes = [\n      { type: 'NOT REQUIRED', image: null },\n      { type: 'Nylon Hose Sleeve', image: require('../assets/nylon_sleeve.png') },\n      { type: 'Plastic Spiral Cover', image: require('../assets/plastic_spiral.png') },\n      { type: 'Metal Spiral Wrap', image: require('../assets/metal_spiral.png') },\n    ];\n\n    useEffect(() => {\n      if (cutLengthPrice) {\n        setInitialPrice(cutLengthPrice);\n        setProtectionPrice(cutLengthPrice);\n      }\n    }, [cutLengthPrice]);\n  \n    // Third useEffect for fade animation\n    useEffect(() => {\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start();\n    }, []);\n  \n    useFocusEffect(\n      React.useCallback(() => {\n       // setSelectedProtection(null);\n        fadeAnim.setValue(0);\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 800,\n          useNativeDriver: Platform.OS === 'native',\n        }).start();\n  \n        return () => {\n          // Optional cleanup if needed\n        };\n      }, [fadeAnim])\n    );\n\n    const PROTECTION_PRICE_MULTIPLIERS = {\n      'Nylon Hose Sleeve': 1.30,  // 30% increase\n      'Plastic Spiral Cover': 1.40, // 40% increase\n      'Metal Spiral Wrap': 1.50,   // 50% increase\n      'NOT REQUIRED': 1.0  // No increase\n    };\n  \n    const handleProtectionSelection = (type) => {\n      setSelectedProtection(type);\n      \n      if (type === 'NOT REQUIRED') {\n        // Simple navigation with current price\n        Animated.timing(fadeAnim, {\n          toValue: 0,\n          duration: 800,\n          useNativeDriver: Platform.OS === 'native',\n        }).start(() => {\n          navigateToNext(type, initialPrice);\n        });\n      } else {\n        // Parallel animation for title and price\n        Animated.sequence([\n          Animated.parallel([\n            // Fade out both title and price\n            Animated.timing(titleFade, {\n              toValue: 0,\n              duration: 500,\n              useNativeDriver: Platform.OS === 'native',\n            }),\n            Animated.timing(priceFade, {\n              toValue: 0,\n              duration: 500,\n              useNativeDriver: Platform.OS === 'native',\n            })\n          ]),\n          Animated.timing(new Animated.Value(0), {\n            toValue: 1,\n            duration: 100,\n            useNativeDriver: Platform.OS === 'native',\n          }),\n        ]).start(() => {\n          // Update price state after fade out\n          const multiplier = PROTECTION_PRICE_MULTIPLIERS[type];\n          const newPrice = initialPrice * multiplier;\n          setProtectionPrice(newPrice);\n          \n          // Fade in both title and price\n          Animated.parallel([\n            Animated.timing(titleFade, {\n              toValue: 1,\n              duration: 500,\n              useNativeDriver: Platform.OS === 'native',\n            }),\n            Animated.timing(priceFade, {\n              toValue: 1,\n              duration: 500,\n              useNativeDriver: Platform.OS === 'native',\n            })\n          ]).start(() => {\n            // Start navigation animation after price update\n            setTimeout(() => {\n              Animated.timing(fadeAnim, {\n                toValue: 0,\n                duration: 800,\n                useNativeDriver: Platform.OS === 'native',\n              }).start(() => {\n                navigateToNext(type, newPrice);\n              });\n            }, 1000);\n          });\n        });\n      }\n    };\n    \n    // Update the navigateToNext function to include protection cost calculation\n    const navigateToNext = (type, price) => {\n      const nextScreen = isHoseOnly ? 'OrderConfirmation1' : 'PressureTesting';\n      navigation.navigate(nextScreen, {\n        selectedProtection: type,\n        selectedHose,\n        selectedHosePrice,\n        selectedFitting,\n        end1Shape,\n        end1Size,\n        end1Price,\n        selectedEnd2Fitting,\n        end2Shape,\n        end2Size,\n        end2Price, \n        selectedAngle,\n        cutLengths,\n        quantity,\n        isHoseOnly,\n        isDevMode: devModeActive,\n        cutLengthPrice: initialPrice, // Pass the original cut length price\n        basePrice: initialPrice,\n        hoseProtectionPrice: price,\n        protectionCost: type === 'NOT REQUIRED' ? 0 : (price - initialPrice),\n        \n      });\n    };\n  \n    return (\n      <View style={styles.mainContainer}>\n        {/* Floating Back Button */}\n        <TouchableOpacity \n          style={styles.floatingBackButton}\n          onPress={() => navigation.goBack()}\n        >\n          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n            <Path \n              d=\"M19 12H5M12 19L5 12L12 5\" \n              stroke=\"#4a4a4a\" \n              strokeWidth=\"2.5\" \n              strokeLinecap=\"round\" \n              strokeLinejoin=\"round\"\n            />\n          </Svg>\n        </TouchableOpacity>\n        \n        <ScrollableGradientWrapper>\n          <SafeAreaView style={styles.container}>\n            <View style={styles.logoContainer}>\n              <Image\n                source={require('../assets/fluidpower_logo.gif')}\n                style={styles.logo}\n                resizeMode=\"contain\"\n              />\n            </View>\n            \n            <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n              <View style={styles.titleContainer}>\n                <View style={styles.titleWrapper}>\n                  <Text style={styles.titleText}>Hose PROTECTION</Text>\n                  <Text style={styles.titleText}>(Optional)</Text>\n                </View>\n              </View>\n    \n              <View style={styles.subtitleContainer}>\n                <Text style={styles.subtitleText}>Get your Hose Protected</Text>\n                <Text style={styles.subtitleText}>Safety and Long Life</Text>\n              </View>\n\n              <View style={styles.subtitleContainer2}>\n                <Text style={styles.subtitleText2}>*Hose Protection Prices Applied</Text>\n                <Text style={styles.subtitleText2}>On Hose Lengths Only</Text>\n              </View>\n    \n              <View style={styles.scrollViewContent}>\n              {protectionTypes.map((protection, index) => (\n                <ProtectionTypeButton\n                  key={index}\n                  type={protection.type}\n                  image={protection.image}\n                  onPress={() => handleProtectionSelection(protection.type)}\n                  isSelected={selectedProtection === protection.type}\n                  priceText={\n                    protection.type === 'NOT REQUIRED' ? '' :\n                    `A$ ${(initialPrice * (PROTECTION_PRICE_MULTIPLIERS[protection.type] - 1)).toFixed(2)}`\n                  }\n                />\n              ))}\n    \n                <View style={styles.pricingSection}>\n                  <PriceDisplay \n                    price={selectedProtection && selectedProtection !== 'NOT REQUIRED' ? protectionPrice : initialPrice}\n                    isHoseOnly={isHoseOnly}\n                    hasProtection={selectedProtection && selectedProtection !== 'NOT REQUIRED'}\n                    titleFade={titleFade}\n                    priceFade={priceFade}\n                  />\n                </View>\n              </View>\n            </Animated.View>\n          </SafeAreaView>\n        </ScrollableGradientWrapper>\n      </View>\n    );\n   };\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  mainScrollView: {\n    flex: 1,\n  },\n  mainScrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: 20,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: 400,\n    height: 200,\n    resizeMode: 'contain',\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  subtitleContainer: {\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  subtitleText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#ffc100',\n    textAlign: 'center',\n  },\n  subtitleContainer2: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  subtitleText2: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n  },\n  protectionButton: {\n    marginBottom: 20,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    overflow: 'hidden',\n    width: BUTTON_WIDTH,\n    height: 140, // Reduced height\n    backgroundColor: '#fff',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  selectedProtectionButton: {\n    backgroundColor: '#ffc100',\n  },\n  protectionButtonText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  protectionContent: {\n    flex: 1,\n    padding: 15,\n    alignItems: 'center',\n  },\n  selectedProtectionButton: {\n    backgroundColor: '#ffc100',\n  },\n  noImageButton: {\n    height: 80, // Smaller height for no-image button\n  },\n  contentRow: {\n    flexDirection: 'row',\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    paddingTop: 5,\n  },\n  noImageContent: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 10,\n  },\n  imageContainer: {\n    flex: 1,\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    paddingLeft: 20,\n  },\n  priceContainer: {\n    flex: 1,\n    alignItems: 'flex-end',\n    justifyContent: 'center',\n    paddingRight: 20,\n  },\n  noImageContentCentered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  protectionImage: {\n    width: 100,\n    height: 50,\n    marginTop: 10,\n  },\n  noImagePlaceholder: {\n    width: 100,\n    height: 100,\n  },\n  noImageSubtext: {\n    fontSize: 18,\n    color: '#666',\n    marginTop: 10,\n  },\n  leftColumn: {\n    flex: 2, // Takes up 2/3 of the space\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  rightColumn: {\n    flex: 1, // Takes up 1/3 of the space\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingLeft: 10,\n  },\n  priceSummaryContainer: {\n    backgroundColor: '#fff',\n    borderRadius: 15,\n    padding: 15,\n    marginHorizontal: 20,\n    marginTop: 20,\n    alignItems: 'center',\n  },\n  priceRow: {\n    flexDirection: 'column', // Stack label and value vertically\n    alignItems: 'center', // Center horizontally\n    marginBottom: 10,\n  },\n  priceLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n    textAlign: 'center',\n  },\n  priceValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#ffc100',\n    textAlign: 'center',\n  },\n  protectionCost: {\n    fontSize: 14,\n    color: '#666',\n    fontStyle: 'italic',\n    textAlign: 'center',\n  },\n  pricingSection: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  pricingCard: {\n    backgroundColor: '#fff',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    padding: 12,\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 300,\n    alignSelf: 'center',\n  },\n  marginBottom20: {\n    marginBottom: 20,\n  },\n  pricingHeader: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  pricingValueContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 12,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n  },\n  pricingValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  priceBorder: {\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n    backgroundColor: '#ffc100',\n    minWidth: 80,\n    alignItems: 'center',\n  },\n  priceText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },  \n  selectedPriceBorder: {\n    backgroundColor: 'transparent',\n  },\n  selectedPriceText: {\n    color: '#333',\n  },\n  protectionContent: {\n    flex: 1,\n    padding: 15,\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  protectionImage: {\n    width: 100,\n    height: 80, // Adjusted to accommodate price\n    marginVertical: 5,\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n    backgroundColor: 'transparent',\n  },\n  footerLeft: {\n    flex: 1,\n  },\n  footerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  footerRight: {\n    flex: 1,\n    alignItems: 'flex-end',\n  },\n  placeholderButton: {\n    width: 50,\n    height: 50,\n  },\n});\n\nexport default HoseProtectionScreen;","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\n\n// Price Display Component\nconst PriceDisplay = ({ price, hasTestingSelected, titleFade, priceFade }) => (\n  <View style={styles.pricingCard}>\n    <Animated.Text style={[styles.pricingHeader, { opacity: titleFade }]}>\n      {hasTestingSelected ? 'Price with Pressure Testing' : 'Total Hose and Fitting Price'}\n    </Animated.Text>\n    <View style={styles.pricingValueContainer}>\n      <Animated.Text style={[styles.pricingValue, { opacity: priceFade }]}>\n        A$ {price.toFixed(2)}\n      </Animated.Text>\n    </View>\n  </View>\n);\n\nconst PressureButton = ({ type, onPress, isSelected }) => (\n  <TouchableOpacity \n    style={[styles.pressureButton, isSelected && styles.selectedPressureButton]} \n    onPress={onPress}\n  >\n    <Text style={styles.pressureButtonText}>{type}</Text>\n  </TouchableOpacity>\n);\n\nconst PressureTestingScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [selectedPressure, setSelectedPressure] = useState(null);\n  const [initialPrice, setInitialPrice] = useState(0);\n  const [pressureTestPrice, setPressureTestPrice] = useState(0);\n  const priceFade = useRef(new Animated.Value(1)).current;\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const titleFade = useRef(new Animated.Value(1)).current;\n\n  const { \n    selectedHose,\n    selectedHosePrice,\n    selectedFitting, \n    end1Shape, \n    end1Size,\n    end1Price, \n    selectedEnd2Fitting, \n    end2Shape, \n    end2Size,\n    end2Price, \n    selectedAngle,\n    quantity,\n    cutLengths,\n    selectedProtection,\n    cutLengthPrice,\n    isDevMode: devModeActive,\n    basePrice,\n    hoseProtectionPrice,\n    protectionCost\n  } = route.params || {};\n\n  const pressureOptions = [\n    'Not Required',\n    '8000psi'\n  ];\n\n  // Set initial price\n  useEffect(() => {\n    if (hoseProtectionPrice) {\n      setInitialPrice(hoseProtectionPrice);  // Show price from Hose Protection\n      setPressureTestPrice(hoseProtectionPrice);\n    }\n  }, [hoseProtectionPrice]);\n\n  useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start();\n  }, []);\n\n  useFocusEffect(\n    React.useCallback(() => {\n      fadeAnim.setValue(0);\n      const timer = setTimeout(() => {\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 400,\n          useNativeDriver: Platform.OS === 'native',\n        }).start();\n      }, 50);\n\n      return () => clearTimeout(timer);\n    }, [fadeAnim])\n  );\n\n  const handlePressureSelection = (pressure) => {\n    setSelectedPressure(pressure);\n    \n    if (pressure === 'Not Required') {\n      // Simple navigation with current price from Hose Protection\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start(() => {\n        navigateToNext(pressure, initialPrice);\n      });\n    } else {\n      // Parallel animation for title and price\n      Animated.sequence([\n        Animated.parallel([\n          // Fade out both title and price\n          Animated.timing(titleFade, {\n            toValue: 0,\n            duration: 500,\n            useNativeDriver: Platform.OS === 'native',\n          }),\n          Animated.timing(priceFade, {\n            toValue: 0,\n            duration: 500,\n            useNativeDriver: Platform.OS === 'native',\n          })\n        ]),\n        Animated.timing(new Animated.Value(0), {\n          toValue: 1,\n          duration: 100,\n          useNativeDriver: Platform.OS === 'native',\n        }),\n      ]).start(() => {\n        // Calculate pressure test cost based on quantity\n        const pressureTestCostPerHose = 10;\n        const numberOfHoses = quantity ? parseInt(quantity) : 1; // Use quantity if available\n        const totalPressureTestCost = pressureTestCostPerHose * numberOfHoses;\n        \n        // Add this to the price from Hose Protection\n        const newPrice = hoseProtectionPrice + totalPressureTestCost;\n        setPressureTestPrice(newPrice);\n        \n        // Fade in both title and price\n        Animated.parallel([\n          Animated.timing(titleFade, {\n            toValue: 1,\n            duration: 500,\n            useNativeDriver: Platform.OS === 'native',\n          }),\n          Animated.timing(priceFade, {\n            toValue: 1,\n            duration: 500,\n            useNativeDriver: Platform.OS === 'native',\n          })\n        ]).start(() => {\n          // Start navigation animation after price update\n          setTimeout(() => {\n            Animated.timing(fadeAnim, {\n              toValue: 0,\n              duration: 800,\n              useNativeDriver: Platform.OS === 'native',\n            }).start(() => {\n              navigateToNext(pressure, newPrice);\n            });\n          }, 1000);\n        });\n      });\n    }\n  };\n\n  const navigateToNext = (pressure, price) => {\n    const numberOfHoses = quantity ? parseInt(quantity) : 1;\n    const pressureTestTotalCost = pressure === 'Not Required' ? 0 : (10 * numberOfHoses);\n    \n    navigation.navigate('OrderConfirmation1', {\n      selectedPressure: pressure,\n      selectedProtection,\n      selectedHose,\n      selectedHosePrice,\n      selectedFitting,\n      end1Shape,\n      end1Size,\n      end1Price,\n      selectedEnd2Fitting,\n      end2Shape,\n      end2Size,\n      end2Price,\n      selectedAngle,\n      quantity,\n      cutLengths,\n      cutLengthPrice,\n      isDevMode: devModeActive,\n      basePrice,\n      hoseProtectionPrice: price,  // Pass the new total price\n      protectionCost,\n      pressureTestPrice: pressureTestTotalCost  // Pass the total pressure test cost\n    });\n  };\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Back Button */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n      </TouchableOpacity>\n      <ScrollableGradientWrapper>\n        <SafeAreaView style={styles.container}>\n        <View style={styles.logoContainer}>\n          <Image\n            source={require('../assets/fluidpower_logo.gif')}\n            style={styles.logo}\n            resizeMode=\"contain\"\n          />\n        </View>\n        <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n          <View style={styles.titleContainer}>\n            <View style={styles.titleWrapper}>\n              <Text style={styles.titleText}>Pressure TESTING</Text>\n              <Text style={styles.titleText}>(Optional)</Text>\n            </View>\n          </View>\n          <Image\n            source={require('../assets/pressure_testing_diagram.png')}\n            style={styles.diagram}\n            resizeMode=\"contain\"\n          />\n          <View style={styles.subtitleContainer}>\n            <Text style={styles.subtitleText}>\n              Get your Hose Pressure Tested\n            </Text>\n\n            <Text style={styles.subtitleText}>\n            for an additional A$ 10.00 per Hose\n            </Text>\n          </View>\n          <View style={styles.buttonsContainer}>\n            {pressureOptions.map((pressure, index) => (\n              <PressureButton\n                key={index}\n                type={pressure}\n                onPress={() => handlePressureSelection(pressure)}\n                isSelected={selectedPressure === pressure}\n              />\n            ))}\n          </View>\n\n          <View style={styles.pricingSection}>\n            <PriceDisplay \n              price={selectedPressure && selectedPressure !== 'Not Required' ? pressureTestPrice : initialPrice}\n              hasTestingSelected={selectedPressure && selectedPressure !== 'Not Required'}\n              titleFade={titleFade}\n              priceFade={priceFade}\n            />\n          </View>\n        </Animated.View>\n        </SafeAreaView>\n      </ScrollableGradientWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: 400,\n    height: 200,\n    resizeMode: 'contain',\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 10,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  diagram: {\n    width: '100%',\n    height: 180,\n    marginVertical: 5,\n  },\n  subtitleContainer: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  subtitleText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#ffc100',\n    textAlign: 'center',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n  },\n  pressureButton: {\n    marginBottom: 10,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    overflow: 'hidden',\n    width: BUTTON_WIDTH,\n    height: 100,\n    alignSelf: 'center',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 30,\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  selectedPressureButton: {\n    backgroundColor: '#ffc100',\n  },\n  pressureButtonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  pricingSection: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  pricingCard: {\n    backgroundColor: '#fff',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    padding: 12,\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 300,\n    alignSelf: 'center',\n  },\n  pricingHeader: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  pricingValueContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 12,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n  },\n  pricingValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n    backgroundColor: 'transparent',\n  },\n  footerLeft: {\n    flex: 1,\n  },\n  footerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  footerRight: {\n    flex: 1,\n    alignItems: 'flex-end',\n  },\n  placeholderButton: {\n    width: 50,\n    height: 50,\n  },\n});\n\nexport default PressureTestingScreen;","import React, { useRef, useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\n\n// Shipping Button Component\nconst ShippingButton = ({ type, price, onPress, isSelected }) => (\n  <TouchableOpacity \n    style={[\n      styles.shippingButton,\n      isSelected && styles.selectedShippingButton\n    ]}\n    onPress={onPress}\n  >\n    <View style={styles.shippingContent}>\n      <Text style={styles.shippingButtonText}>{type}</Text>\n      <View style={[styles.pricingValueContainer, isSelected && styles.selectedPricingValueContainer]}>\n        <Text style={styles.priceText}>\n          {price === 'FREE' ? 'FREE' : `A$ ${price}`}\n        </Text>\n      </View>\n    </View>\n  </TouchableOpacity>\n);\n\n// Price Display Component\nconst PriceDisplay = ({ price, hasProtection, withShipping, titleFade, priceFade }) => (\n  <View style={styles.pricingCard}>\n    <Animated.Text style={[styles.pricingHeader, { opacity: titleFade }]}>\n      {withShipping ? 'Price with Express Shipping' : \n       (hasProtection ? 'Hose Price with Protection' : 'Hose Only Price')}\n    </Animated.Text>\n    <View style={styles.pricingValueContainer}>\n      <Animated.Text style={[styles.pricingValue, { opacity: priceFade }]}>\n        A$ {price.toFixed(2)}\n      </Animated.Text>\n    </View>\n  </View>\n);\n\nconst ShippingOptionsScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [selectedService, setSelectedService] = useState(null);\n  const [basePrice, setBasePrice] = useState(0);\n  const [shippingPrice, setShippingPrice] = useState(0);\n  const priceFade = useRef(new Animated.Value(1)).current;\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const titleFade = useRef(new Animated.Value(1)).current;\n  const [easterEggMessage, setEasterEggMessage] = useState('');\n  const [showEasterEgg, setShowEasterEgg] = useState(false);\n\n  const { \n    selectedHose,\n    selectedHosePrice, \n    selectedFitting, \n    end1Shape, \n    end1Size,\n    end1Price, \n    selectedEnd2Fitting, \n    end2Shape, \n    end2Size,\n    end2Price,\n    selectedAngle, \n    quantity, \n    cutLengths,\n    isDevMode: devModeActive,\n    selectedProtection,\n    basePrice: receivedBasePrice,\n    totalPrice: receivedTotalPrice,\n    protectionCost,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    cutLengthPrice,  // Added this\n    totalBeforeShipping  // Added this\n  } = route.params || {};\n\n  useEffect(() => {\n    if (devModeActive) {\n      // Override prices for dev mode\n      setBasePrice(0.2);\n      setShippingPrice(0.2);\n      \n      // Show Easter egg message\n      setEasterEggMessage(' Developer Super Discount Activated! All shipping is magic... enjoy your $0.20 price! ');\n      setShowEasterEgg(true);\n      \n      // Auto-hide the message after 5 seconds\n      setTimeout(() => {\n        setShowEasterEgg(false);\n      }, 5000);\n    } else if (totalBeforeShipping) {\n      setBasePrice(totalBeforeShipping);\n      setShippingPrice(totalBeforeShipping);\n    } else if (hoseProtectionPrice) {\n      setBasePrice(hoseProtectionPrice);\n      setShippingPrice(hoseProtectionPrice);\n    } else if (cutLengthPrice) {\n      setBasePrice(cutLengthPrice);\n      setShippingPrice(cutLengthPrice);\n    }\n  }, [totalBeforeShipping, hoseProtectionPrice, cutLengthPrice, devModeActive]);\n\n  useEffect(() => {\n    if (totalBeforeShipping) {\n      setBasePrice(totalBeforeShipping);\n      setShippingPrice(totalBeforeShipping);\n    } else if (hoseProtectionPrice) {\n      setBasePrice(hoseProtectionPrice);\n      setShippingPrice(hoseProtectionPrice);\n    } else if (cutLengthPrice) {\n      setBasePrice(cutLengthPrice);\n      setShippingPrice(cutLengthPrice);\n    }\n  }, [totalBeforeShipping, hoseProtectionPrice, cutLengthPrice]);\n\n  useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start();\n  }, []);\n\n  useFocusEffect(\n    React.useCallback(() => {\n      //setSelectedService(null);\n      fadeAnim.setValue(0);\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start();\n    }, [fadeAnim])\n  );\n\n  const handleServiceSelection = (service) => {\n    setSelectedService(service);\n  \n    // Express shipping with animation\n    Animated.sequence([\n      Animated.parallel([\n        Animated.timing(titleFade, {\n          toValue: 0,\n          duration: 500,\n          useNativeDriver: Platform.OS === 'native',\n        }),\n        Animated.timing(priceFade, {\n          toValue: 0,\n          duration: 500,\n          useNativeDriver: Platform.OS === 'native',\n        })\n      ]),\n      Animated.timing(new Animated.Value(0), {\n        toValue: 1,\n        duration: 100,\n        useNativeDriver: Platform.OS === 'native',\n      }),\n    ]).start(() => {\n      // Always set to 0.2 in dev mode, otherwise normal calculation\n      const shippingCost = devModeActive ? 0 : 12.85;\n      const newPrice = devModeActive ? 0.2 : basePrice + shippingCost;\n      setShippingPrice(newPrice);\n      \n      Animated.parallel([\n        Animated.timing(titleFade, {\n          toValue: 1,\n          duration: 500,\n          useNativeDriver: Platform.OS === 'native',\n        }),\n        Animated.timing(priceFade, {\n          toValue: 1,\n          duration: 500,\n          useNativeDriver: Platform.OS === 'native',\n        })\n      ]).start(() => {\n        setTimeout(() => {\n          Animated.timing(fadeAnim, {\n            toValue: 0,\n            duration: 800,\n            useNativeDriver: Platform.OS === 'native',\n          }).start(() => {\n            navigateToNext(service, newPrice);\n          });\n        }, 1000);\n      });\n    });\n  };\n\n  const navigateToNext = (service, finalPrice) => {\n    const devPrice = devModeActive ? 0.2 : finalPrice;\n\n\n    navigation.navigate('OrderConfirmation1', {\n      selectedService: service,\n      cutLengths,\n      selectedHose,\n      selectedHosePrice,\n      selectedFitting,\n      end1Shape,\n      end1Size,\n      end1Price,\n      selectedEnd2Fitting,\n      end2Shape,\n      end2Size,\n      end2Price,\n      selectedAngle,\n      quantity,\n      selectedProtection,\n      isDevMode: devModeActive,\n      hoseProtectionPrice,\n      selectedPressure,\n      pressureTestPrice,\n      basePrice: receivedBasePrice,\n      totalBeforeShipping: devModeActive ? 0.2 : (totalBeforeShipping || hoseProtectionPrice || cutLengthPrice),\n      cutLengthPrice: devModeActive ? 0.2 : cutLengthPrice,\n      shippingCost: devModeActive ? 0 : 12.85,\n      totalPriceWithShipping: devPrice,\n      protectionCost: devModeActive ? 0 : protectionCost,\n    });\n  };\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Keep Floating Back Button outside scroll wrapper */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n      </TouchableOpacity>\n\n        {/* Easter Egg Message */}\n        {showEasterEgg && (\n          <View style={styles.easterEggContainer}>\n            <Text style={styles.easterEggText}>{easterEggMessage}</Text>\n          </View>\n        )}\n  \n      <ScrollableGradientWrapper>\n        <SafeAreaView style={styles.container}>\n          <View style={styles.logoContainer}>\n            <Image\n              source={require('../assets/fluidpower_logo.gif')}\n              style={styles.logo}\n              resizeMode=\"contain\"\n            />\n          </View>\n          \n          <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n            <View style={styles.titleContainer}>\n              <View style={styles.titleWrapper}>\n                <Text style={styles.titleText}>Select Shipping OPTION</Text>\n              </View>\n            </View>\n  \n            <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\n              <ShippingButton\n                type=\"EXPRESS\"\n                price=\"12.85\"\n                onPress={() => handleServiceSelection('EXPRESS')}\n                isSelected={selectedService === 'EXPRESS'}\n              />\n\n              <View style={styles.pricingSection}>\n                <PriceDisplay \n                  price={selectedService === 'EXPRESS' ? shippingPrice : basePrice}\n                  hasProtection={selectedProtection && selectedProtection !== 'NOT REQUIRED'}\n                  withShipping={selectedService === 'EXPRESS'}\n                  titleFade={titleFade}\n                  priceFade={priceFade}\n                />\n              </View>\n            </ScrollView>\n          </Animated.View>\n        </SafeAreaView>\n      </ScrollableGradientWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 30,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n  },\n  shippingButton: {\n    width: BUTTON_WIDTH,\n    height: 150,\n    marginBottom: 20,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 20,\n    backgroundColor: 'transparent',\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  selectedShippingButton: {\n    backgroundColor: '#ffc100',\n  },\n  shippingContent: {\n    flex: 1,\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  shippingButtonText: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  pricingSection: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  pricingCard: {\n    backgroundColor: '#fff',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    padding: 12,\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 300,\n    alignSelf: 'center',\n  },\n  pricingHeader: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  pricingValueContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 12,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n  },\n  selectedPricingValueContainer: {\n    backgroundColor: 'transparent',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  pricingValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  easterEggContainer: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 120 : 80,\n    left: 0,\n    right: 0,\n    backgroundColor: '#ffc100',\n    padding: 15,\n    margin: 20,\n    borderRadius: 10,\n    borderWidth: 3,\n    borderColor: '#4a4a4a',\n    zIndex: 2000,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 4,\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 5,\n    elevation: 8,\n  },\n  easterEggText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n});\n\nexport default ShippingOptionsScreen;","import React, { createContext, useState, useContext, useEffect } from 'react';\n\n// ============================================================================\n// CART CONTEXT WITH LOCALSTORAGE INTEGRATION\n// ============================================================================\n// This cart context integrates with the website's localStorage to provide\n// a unified cart experience across PWA and Next.js website.\n// \n// localStorage Keys:\n// - 'shopping-cart': Main cart data { open, items, timestamp }\n// - 'cart-timestamp': Separate timestamp for expiration checks\n//\n// Cart items from PWA are tagged with type: 'pwa_order'\n// ============================================================================\n\nconst CartContext = createContext({\n  cartItems: [],\n  isCartVisible: false,\n  addToCart: () => {},\n  removeFromCart: () => {},\n  clearCart: () => {},\n  getCartTotal: () => 0,\n  getCartItemCount: () => 0,\n});\n\nexport const useCart = () => useContext(CartContext);\n\n// Constants\nconst CART_KEY = 'shopping-cart';\nconst TIMESTAMP_KEY = 'cart-timestamp';\nconst CART_EXPIRY_MS = 3600000; // 1 hour in milliseconds\n\nexport const CartProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useState([]);\n  const [isCartVisible, setIsCartVisible] = useState(false);\n  const isSyncingFromStorage = React.useRef(false);\n  \n  // ============================================================================\n  // INITIALIZATION: Load cart from localStorage on mount\n  // ============================================================================\n  // ============================================================================\n// INITIALIZATION: Load cart from localStorage on mount\n// ============================================================================\nuseEffect(() => {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  console.log('CartContext: Initializing from localStorage...');\n  \n  try {\n    const storedCart = localStorage.getItem(CART_KEY);\n    const storedTimestamp = localStorage.getItem(TIMESTAMP_KEY);\n    \n    if (!storedCart || !storedTimestamp) {\n      console.log('CartContext: No existing cart found');\n      sessionStorage.setItem('pwa-cart-initialized', 'true');\n      return;\n    }\n\n    const cartData = JSON.parse(storedCart);\n    const timestamp = parseInt(storedTimestamp, 10);\n    const now = Date.now();\n    const age = now - timestamp;\n\n    console.log('CartContext: Found cart in localStorage', {\n      itemCount: cartData.items?.length || 0,\n      age: `${Math.round(age / 1000)}s`,\n      expired: age > CART_EXPIRY_MS\n    });\n\n    if (age > CART_EXPIRY_MS) {\n      console.log('CartContext: Cart expired, clearing');\n      localStorage.removeItem(CART_KEY);\n      localStorage.removeItem(TIMESTAMP_KEY);\n      sessionStorage.setItem('pwa-cart-initialized', 'true');\n      return;\n    }\n\n    //  FIX: Load ALL items from localStorage, not just PWA items\n    // This preserves website items when PWA first launches\n    if (cartData.items && Array.isArray(cartData.items)) {\n      if (cartData.items.length > 0) {\n        console.log('CartContext: Loading ALL items (website + PWA):', cartData.items.length, 'items');\n        \n        //  CRITICAL: Mark that we're syncing to prevent save loop\n        isSyncingFromStorage.current = true;\n        \n        //  Load ALL items, regardless of their type (website or PWA)\n        setCartItems(cartData.items);\n        setIsCartVisible(true);\n        \n        console.log('CartContext: Items loaded:', {\n          pwaItems: cartData.items.filter(item => item.type === 'pwa_order').length,\n          websiteItems: cartData.items.filter(item => item.type !== 'pwa_order').length\n        });\n      } else {\n        console.log('CartContext: Cart is empty');\n      }\n    }\n\n    sessionStorage.setItem('pwa-cart-initialized', 'true');\n\n  } catch (error) {\n    console.error('CartContext: Error loading from localStorage:', error);\n    try {\n      localStorage.removeItem(CART_KEY);\n      localStorage.removeItem(TIMESTAMP_KEY);\n    } catch (clearError) {\n      console.error('CartContext: Error clearing corrupted data:', clearError);\n    }\n    sessionStorage.setItem('pwa-cart-initialized', 'true');\n  }\n}, []);\n\n  // ============================================================================\n  // PERSISTENCE: Save cart to localStorage whenever it changes\n  // ============================================================================\n  useEffect(() => {\n    if (typeof window === 'undefined') {\n      return;\n    }\n  \n    const hasInitialized = sessionStorage.getItem('pwa-cart-initialized');\n    \n    if (!hasInitialized) {\n      console.log('CartContext: Not initialized yet, skipping save');\n      return;\n    }\n  \n    if (isSyncingFromStorage.current) {\n      console.log('CartContext: Syncing from storage - skipping save');\n      isSyncingFromStorage.current = false;\n      return;\n    }\n  \n    console.log('CartContext: Saving cart to localStorage...', {\n      itemCount: cartItems.length,\n      pwaItems: cartItems.filter(item => item.type === 'pwa_order').length,\n      websiteItems: cartItems.filter(item => item.type !== 'pwa_order').length\n    });\n  \n    try {\n      if (cartItems.length === 0) {\n        console.log('CartContext: Cart empty, removing from localStorage');\n        localStorage.removeItem(CART_KEY);\n        localStorage.removeItem(TIMESTAMP_KEY);\n      } else {\n        const cartData = {\n          open: false,\n          items: cartItems,  //  Save ALL items (website + PWA)\n          timestamp: Date.now()\n        };\n  \n        localStorage.setItem(CART_KEY, JSON.stringify(cartData));\n        localStorage.setItem(TIMESTAMP_KEY, Date.now().toString());\n        \n        console.log('CartContext:  Saved', cartItems.length, 'items to localStorage');\n      }\n    } catch (error) {\n      if (error.name === 'QuotaExceededError') {\n        console.error('CartContext: localStorage quota exceeded!');\n        alert('Cart storage is full. Please clear your browser cache.');\n      } else {\n        console.error('CartContext: Error saving to localStorage:', error);\n      }\n    }\n  }, [cartItems]);\n\n  // ============================================================================\n  // SYNC WITH WEBSITE: Event-driven sync (no polling)\n  // ============================================================================\n  useEffect(() => {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    // Listen for website cart changes\n    const handleWebsiteCartChange = (event) => {\n      try {\n        const { items } = event.detail;\n        const storageItems = items || [];\n        const currentItems = cartItems;\n\n        const storageItemCount = storageItems.length;\n        const currentItemCount = currentItems.length;\n\n        if (storageItemCount !== currentItemCount) {\n          console.log(`CartContext: Website cart changed: ${currentItemCount}  ${storageItemCount}`);\n          isSyncingFromStorage.current = true;\n          setCartItems(storageItems);\n        } else if (storageItemCount > 0) {\n          const currentIds = currentItems.map(item => item.cartId).sort().join(',');\n          const storageIds = storageItems.map(item => item.cartId).sort().join(',');\n          \n          if (currentIds !== storageIds) {\n            console.log('CartContext: Items changed (same count)');\n            isSyncingFromStorage.current = true;\n            setCartItems(storageItems);\n          }\n        }\n      } catch (error) {\n        console.error('CartContext: Error handling website cart change:', error);\n      }\n    };\n\n    window.addEventListener('website-cart-changed', handleWebsiteCartChange);\n\n    return () => {\n      window.removeEventListener('website-cart-changed', handleWebsiteCartChange);\n    };\n  }, [cartItems]);\n\n  // ============================================================================\n  // VISIBILITY EFFECT\n  // ============================================================================\n  useEffect(() => {\n    const shouldBeVisible = cartItems.length > 0;\n    if (shouldBeVisible !== isCartVisible) {\n      setIsCartVisible(shouldBeVisible);\n    }\n  }, [cartItems.length, isCartVisible]);\n  \n  // ============================================================================\n  // CART OPERATIONS\n  // ============================================================================\n  \n  const addToCart = (item) => {\n    console.log('CartContext: Adding item to cart:', item);\n    \n    setCartItems(prevItems => {\n      const newItem = {\n        ...item,\n        cartId: item.cartId || Date.now(),\n        type: item.type || 'pwa_order'\n      };\n      \n      const newItems = [...prevItems, newItem];\n\n      window.dispatchEvent(new CustomEvent('pwa-cart-item-added', {\n        detail: { item: newItem }\n      }));\n\n      return newItems;\n    });\n  };\n  \n  const removeFromCart = (cartId) => {\n    console.log('CartContext: Removing item:', cartId);\n    \n    setCartItems(prevItems => {\n      return prevItems.filter(item => item.cartId !== cartId);\n    });\n  };\n  \n  const clearCart = () => {\n    console.log('CartContext: Clearing cart');\n    setCartItems([]);\n  };\n  \n  const getCartTotal = () => {\n    return cartItems.reduce((total, item) => {\n      return total + (item.totalPrice || 0);\n    }, 0);\n  };\n\n  const getCartItemCount = () => {\n    return cartItems.length;\n  };\n  \n  return (\n    <CartContext.Provider\n      value={{\n        cartItems,\n        isCartVisible,\n        addToCart,\n        removeFromCart,\n        clearCart,\n        getCartTotal,\n        getCartItemCount,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport default CartContext;","import React from 'react';\nimport { View, TouchableOpacity, Text, StyleSheet, Platform } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { useCart } from '../context/CartContext';\nimport Svg, { Path, Circle } from 'react-native-svg';\n\nconst GlobalCartButton = ({ currentScreen }) => {\n  const navigation = useNavigation();\n  const { cartItems, isCartVisible, getCartItemCount } = useCart();\n  \n  // Don't show the cart button on the cart screen itself\n  if (currentScreen === 'Cart' || !isCartVisible || cartItems.length === 0) {\n    return null;\n  }\n\n  const handleCartPress = () => {\n    navigation.navigate('Cart');\n  };\n\n  return (\n    <TouchableOpacity \n      style={styles.globalCartButton}\n      onPress={handleCartPress}\n    >\n      <View style={styles.cartIconContainer}>\n        <Svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n          <Path \n            d=\"M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n          <Path \n            d=\"M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n        \n        {/* Badge for item count */}\n        {cartItems.length > 0 && (\n          <View style={styles.badge}>\n            <Text style={styles.badgeText}>\n              {cartItems.length > 99 ? '99+' : cartItems.length}\n            </Text>\n          </View>\n        )}\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  globalCartButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    right: 30,\n    backgroundColor: 'white',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 4,\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 4.65,\n    elevation: 8,\n    zIndex: 1000,\n  },\n  cartIconContainer: {\n    position: 'relative',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  badge: {\n    position: 'absolute',\n    top: -8,\n    right: -8,\n    backgroundColor: '#ffc100',\n    borderRadius: 10,\n    minWidth: 20,\n    height: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: 'white',\n  },\n  badgeText: {\n    color: '#4a4a4a',\n    fontSize: 12,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n});\n\nexport default GlobalCartButton;","import { Platform } from 'react-native';\n\n// Import the platform-specific implementation\nconst PDFGenerator = Platform.select({\n  web: () => require('./WebPDFGenerator').default,\n  default: () => require('./NativePDFGenerator').default,\n})();\n\nexport default PDFGenerator;","import React, { useRef, useState } from 'react';\nimport { View, Text, StyleSheet, Platform, Image, Alert } from 'react-native';\nimport PDFGenerator from '../PDFGenerator';\n\n// Helper Components\nconst LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nconst BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.cutLengthsPriceBorder}>\n            <Text style={styles.priceText}>\n              {typeof price === 'number' ? `A$${price.toFixed(2)}` : price}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {typeof price === 'number' ? `A$${price.toFixed(2)}` : price}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nconst NumberedCircle = ({ number }) => (\n  <View style={styles.numberedCircle}>\n    <Text style={styles.numberedCircleText}>{number}</Text>\n  </View>\n);\n\n/**\n * Custom hook for generating PDFs from order configurations\n * @param {Object} params\n * @param {Array} params.cartItems - Current cart items\n * @param {Function} params.cleanPriceString - Function to clean price strings\n * @param {Function} params.calculatePricesFromData - Function to calculate prices from order data\n * @param {Function} params.getTotalLengthFromData - Function to get total hose length\n * @returns {Object} PDF generation functions and state\n */\nexport const useOrderPDFGeneration = ({ \n  cartItems,\n  cleanPriceString,\n  calculatePricesFromData,\n  getTotalLengthFromData,\n}) => {\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\n  const [currentOrderForPDF, setCurrentOrderForPDF] = useState(null);\n  const contentRef = useRef(null);\n\n  // Initialize PDF generator\n  const { generatePDF } = PDFGenerator({\n    contentRef,\n    orderId: `PWA-${Date.now()}`,\n    \n    onGenerateStart: () => {\n      console.log('PDF generation started');\n      setIsGeneratingPDF(true);\n    },\n    \n    onGenerateComplete: async (pdfBuffer) => {\n      console.log('PDF generation complete, buffer received:', !!pdfBuffer);\n      setIsGeneratingPDF(false);\n    },\n    \n    onError: (error) => {\n      console.error('PDF generation failed:', error);\n      setIsGeneratingPDF(false);\n      Alert.alert(\n        'PDF Generation Failed',\n        'Unable to generate order PDF. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  });\n\n  /**\n   * Generate PDF for a specific order\n   * @param {Object} orderSnapshot - Order configuration data\n   * @returns {Promise<string>} Base64 PDF data URL\n   */\n  const generateOrderPDF = async (orderSnapshot) => {\n    if (Platform.OS !== 'web') {\n      throw new Error('PDF generation only supported on web platform');\n    }\n\n    try {\n      console.log('Starting PDF generation for order snapshot');\n      \n      // Set the snapshot state (updates hidden PDF container)\n      setCurrentOrderForPDF(orderSnapshot);\n      \n      // Wait for React to update the DOM\n      await new Promise(resolve => setTimeout(resolve, 100));\n      \n      // Generate PDF\n      setIsGeneratingPDF(true);\n      const pdfBuffer = await generatePDF({ silent: true });\n      \n      if (!pdfBuffer) {\n        throw new Error('PDF generation returned null');\n      }\n\n      console.log('PDF buffer received, converting to Base64...');\n\n      // Convert ArrayBuffer to Base64 data URL\n      const pdfBlob = new Blob([pdfBuffer], { type: 'application/pdf' });\n      \n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        \n        reader.onloadend = () => {\n          const base64PDF = reader.result;\n          console.log('PDF converted to Base64, length:', base64PDF.length);\n          \n          // Clear snapshot\n          setCurrentOrderForPDF(null);\n          setIsGeneratingPDF(false);\n          \n          resolve(base64PDF);\n        };\n        \n        reader.onerror = () => {\n          setCurrentOrderForPDF(null);\n          setIsGeneratingPDF(false);\n          reject(new Error('Failed to convert PDF to Base64'));\n        };\n        \n        reader.readAsDataURL(pdfBlob);\n      });\n      \n    } catch (error) {\n      console.error('Error in generateOrderPDF:', error);\n      setIsGeneratingPDF(false);\n      setCurrentOrderForPDF(null);\n      throw error;\n    }\n  };\n\n  /**\n   * Download all PWA order PDFs from cart\n   */\n  const downloadAllCartPDFs = async () => {\n    console.log('Downloading PDFs from cart...');\n    \n    const pwaItems = cartItems.filter(item => item.type === 'pwa_order' && item.pdfDataUrl);\n    \n    if (pwaItems.length === 0) {\n      Alert.alert('No PDFs', 'No PWA orders with PDFs found in cart.');\n      return;\n    }\n    \n    try {\n      // Download each PDF with delay between downloads\n      for (let i = 0; i < pwaItems.length; i++) {\n        const item = pwaItems[i];\n        console.log(`Downloading PDF ${i + 1}/${pwaItems.length}: ${item.id}`);\n        \n        // Convert Base64 data URL to Blob\n        const base64Data = item.pdfDataUrl.split(',')[1];\n        const byteCharacters = atob(base64Data);\n        const byteNumbers = new Array(byteCharacters.length);\n        \n        for (let j = 0; j < byteCharacters.length; j++) {\n          byteNumbers[j] = byteCharacters.charCodeAt(j);\n        }\n        \n        const byteArray = new Uint8Array(byteNumbers);\n        const blob = new Blob([byteArray], { type: 'application/pdf' });\n        \n        // Create download link\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `Order_${item.id}.pdf`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n        \n        console.log(` Downloaded: Order_${item.id}.pdf`);\n        \n        // Delay between downloads\n        if (i < pwaItems.length - 1) {\n          await new Promise(resolve => setTimeout(resolve, 500));\n        }\n      }\n      \n      console.log(` All ${pwaItems.length} PDFs downloaded successfully!`);\n      Alert.alert(\n        'Success',\n        `Downloaded ${pwaItems.length} PDF${pwaItems.length > 1 ? 's' : ''} from cart!`,\n        [{ text: 'OK' }]\n      );\n      \n    } catch (error) {\n      console.error('Error downloading PDFs:', error);\n      Alert.alert('Error', 'Failed to download one or more PDFs. Check console for details.');\n    }\n  };\n\n  /**\n   * Render order summary for PDF (hidden container)\n   */\n  const renderOrderSummaryForPDF = () => {\n    if (!currentOrderForPDF) {\n      return null;\n    }\n\n    const orderData = currentOrderForPDF;\n    const orderTimestamp = Date.now();\n    \n    // Calculate prices using snapshot data\n    const totalLength = getTotalLengthFromData(orderData.cutLengths);\n    const calculatedPrices = calculatePricesFromData(orderData, totalLength);\n    const displayPrice = orderData.isOrderFittingMode ? orderData.cutLengthPrice : calculatedPrices.total;\n    \n    return (\n      <View style={styles.pdfContainer}>\n        {/* Logo */}\n        <View style={styles.pdfLogoContainer}>\n          {Platform.OS === 'web' ? (\n            <img\n              src={require('../../assets/fluidpower_logo.gif')}\n              style={{\n                width: '400px',\n                height: '200px',\n                objectFit: 'contain'\n              }}\n              alt=\"FluidPower Logo\"\n            />\n          ) : (\n            <Image\n              source={require('../../assets/fluidpower_logo.gif')}\n              style={styles.pdfLogo}\n              resizeMode=\"contain\"\n            />\n          )}\n        </View>\n\n        {/* Order Details Box */}\n        <View style={styles.detailsBox}>\n          <View style={styles.boxHeader}>\n            <Text style={styles.boxHeaderText}>Order Summary</Text>\n          </View>\n          \n          <View style={styles.orderDetailsContainerPDF}>\n            {/* Order Number */}\n            <View style={styles.rowContainer}>\n              <LabelItem>ORDER NUMBER</LabelItem>\n              <BorderedItem>{`PWA-${orderTimestamp}`}</BorderedItem>\n            </View>\n\n            {/* Hose Size */}\n            {orderData.selectedHose && (\n              <View style={styles.rowContainer}>\n                <LabelItem>HOSE SIZE</LabelItem>\n                <BorderedItem>\n                  {typeof orderData.selectedHose === 'object' && orderData.selectedHose.size \n                    ? orderData.selectedHose.size \n                    : orderData.selectedHose}\n                </BorderedItem>\n              </View>\n            )}\n\n            {/* Quantity */}\n            {orderData.quantity && (\n              <View style={styles.rowContainer}>\n                <LabelItem>QUANTITY</LabelItem>\n                <BorderedItem>{orderData.quantity}</BorderedItem>\n              </View>\n            )}\n\n            {/* End 1 */}\n            {orderData.end1Shape && orderData.end1Size && (\n              <View style={styles.rowContainer}>\n                <LabelItem>{orderData.isOrderFittingMode ? 'FITTING' : 'END1'}</LabelItem>\n                <BorderedItem price={orderData.end1Price}>\n                  {`${orderData.end1Shape} - ${orderData.end1Size}`}\n                </BorderedItem>\n              </View>\n            )}\n\n            {/* End 2 */}\n            {orderData.end2Shape && orderData.end2Size && (\n              <View style={styles.rowContainer}>\n                <LabelItem>END2</LabelItem>\n                <BorderedItem price={orderData.end2Price}>\n                  {`${orderData.end2Shape} - ${orderData.end2Size}`}\n                </BorderedItem>\n              </View>\n            )}\n\n            {/* Angle */}\n            {orderData.selectedAngle && (\n              <View style={styles.rowContainer}>\n                <LabelItem>ANGLE</LabelItem>\n                <BorderedItem>{orderData.selectedAngle}</BorderedItem>\n              </View>\n            )}\n\n            {/* Cut Lengths */}\n            {orderData.cutLengths && orderData.cutLengths.length > 0 && (\n              <View style={styles.rowContainer}>\n                <LabelItem>CUT LENGTHS</LabelItem>\n                <BorderedItem\n                  price={calculatedPrices.baseHosePrice.toFixed(2)}\n                  isCutLengths={true}\n                >\n                  <View style={styles.cutLengthsContentWrapper}>\n                    {orderData.cutLengths.map((cut, i) => (\n                      <View key={i} style={styles.cutLengthRow}>\n                        <NumberedCircle number={i + 1} />\n                        <Text style={styles.cutLengthText}>\n                          {`${cut.length} ${cut.unit || 'mm'}`}\n                        </Text>\n                      </View>\n                    ))}\n                  </View>\n                </BorderedItem>\n              </View>\n            )}\n\n            {/* Protection */}\n            {orderData.selectedProtection && (\n              <View style={styles.rowContainer}>\n                <LabelItem>PROTECTION</LabelItem>\n                <BorderedItem \n                  price={orderData.selectedProtection === 'NOT REQUIRED' \n                    ? 'NOT REQUIRED' \n                    : orderData.protectionCost}\n                >\n                  {orderData.selectedProtection}\n                </BorderedItem>\n              </View>\n            )}\n\n            {/* Pressure Test */}\n            {orderData.selectedPressure && (\n              <View style={styles.rowContainer}>\n                <LabelItem>PRESSURE TEST</LabelItem>\n                <BorderedItem \n                  price={orderData.selectedPressure === 'Not Required' \n                    ? 'NOT REQUIRED' \n                    : orderData.pressureTestPrice}\n                >\n                  {orderData.selectedPressure}\n                </BorderedItem>\n              </View>\n            )}\n\n            {/* Total */}\n            <View style={styles.totalContainerPDF}>\n              <Text style={styles.totalLabelPDF}>Total Price (Ex. GST)</Text>\n              <Text style={styles.totalValuePDF}>A${displayPrice.toFixed(2)}</Text>\n            </View>\n          </View>\n        </View>\n\n        {/* Footer */}\n        <View style={styles.pdfFooter}>\n          <Text style={styles.pdfFooterText}>\n            For enquiries:  +61 409 517 333 | info@fluidpowergroup.com.au\n          </Text>\n          <Text style={styles.pdfFooterText}>\n            FluidPower Group  {new Date().getFullYear()}\n          </Text>\n        </View>\n      </View>\n    );\n  };\n\n  /**\n   * Render PDF content (hidden container for web)\n   */\n  const renderPDFContent = () => {\n    if (Platform.OS !== 'web') {\n      return null;\n    }\n\n    return (\n      <div \n        ref={contentRef}\n        style={{\n          position: 'absolute',\n          left: '-9999px',\n          top: 0,\n          width: '800px',\n          backgroundColor: 'white'\n        }}\n      >\n        {renderOrderSummaryForPDF()}\n      </div>\n    );\n  };\n\n  return {\n    isGeneratingPDF,\n    contentRef,\n    generateOrderPDF,\n    downloadAllCartPDFs,\n    renderPDFContent,\n  };\n};\n\n// PDF-specific styles\nconst styles = StyleSheet.create({\n  // Helper component styles\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  cutLengthsLayout: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  cutLengthsContent: {\n    flex: 1,\n    paddingRight: 10,\n  },\n  cutLengthsPriceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    alignSelf: 'center',\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginLeft: 10,\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  \n  // PDF container styles\n  pdfContainer: {\n    backgroundColor: 'white',\n    padding: 20,\n    width: '100%',\n  },\n  pdfLogoContainer: {\n    alignItems: 'center',\n    marginBottom: 30,\n  },\n  pdfLogo: {\n    width: 400,\n    height: 200,\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n  },\n  boxHeader: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n  },\n  boxHeaderText: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  orderDetailsContainerPDF: {\n    padding: 15,\n  },\n  cutLengthsContentWrapper: {\n    flex: 1,\n  },\n  totalContainerPDF: {\n    backgroundColor: '#ffc100',\n    padding: 15,\n    alignItems: 'center',\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n    marginTop: 10,\n  },\n  totalLabelPDF: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  totalValuePDF: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  pdfFooter: {\n    marginTop: 30,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: '#e0e0e0',\n    alignItems: 'center',\n  },\n  pdfFooterText: {\n    fontSize: 14,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginVertical: 5,\n  },\n});","import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\n\n// Helper Components for Screen Display\nexport const LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nexport const BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.cutLengthsPriceBorder}>\n            <Text style={styles.priceText}>\n              {typeof price === 'number' ? `A$${price.toFixed(2)}` : price}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {typeof price === 'number' ? `A$${price.toFixed(2)}` : price}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nexport const NumberedCircle = ({ number }) => (\n  <View style={styles.numberedCircle}>\n    <Text style={styles.numberedCircleText}>{number}</Text>\n  </View>\n);\n\nexport const TotalPriceDisplay = ({ total }) => (\n  <View style={styles.totalPriceContainer}>\n    <View style={styles.totalPriceLabelItem}>\n      <Text style={styles.totalPriceLabelText}>TOTAL PRICE</Text>\n    </View>\n    <View style={styles.totalPriceValueContainer}>\n      <Text style={styles.totalPriceValueText}>\n        A${total ? total.toFixed(2) : '0.00'}\n      </Text>\n    </View>\n  </View>\n);\n\nexport const ShippingCostNotice = () => (\n  <View style={styles.shippingNoticeContainer}>\n    <Text style={styles.shippingNoticeText}>\n      *All our shipping costs are capped at A$ 12.85\n    </Text>\n  </View>\n);\n\n/**\n * Renders the complete order details section for the screen\n */\nexport const OrderDetailsSection = ({\n  orderDetails,\n  isOrderFittingMode,\n  end1Price,\n  end2Price,\n  protectionCost,\n  pressureTestPrice,\n  shippingCost,\n  cutLengths,\n  selectedHosePrice,\n  getTotalLength,\n  cleanPriceString,\n}) => {\n  const renderOrderDetails = () => {\n    const details = [];\n    \n    if (orderDetails.hoseSize !== null) {\n      details.push(['hoseSize', orderDetails.hoseSize]);\n    }\n    \n    if (orderDetails.qty !== null) {\n      details.push(['qty', orderDetails.qty]);\n    }\n    \n    Object.entries(orderDetails).forEach(([key, value]) => {\n      if (key !== 'hoseSize' && key !== 'qty' && value !== null) {\n        details.push([key, value]);\n      }\n    });\n    \n    return details.map(([key, value], index) => {\n      let label, content, price;\n\n      switch (key) {\n        case 'hoseSize':\n          label = 'HOSE SIZE';\n          content = value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'qty':\n          label = 'QTY';\n          content = value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'end1':\n          label = isOrderFittingMode ? 'FITTING' : 'END1';\n          content = `${value.type} - ${value.size}`;\n          price = end1Price;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'end2':\n          label = 'END2';\n          content = `${value.type} - ${value.size}`;\n          price = end2Price;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'angle':\n          label = 'ANGLE';\n          content = value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'cutLengths':\n          const totalLength = getTotalLength();\n          const cutLengthPrice = totalLength * cleanPriceString(selectedHosePrice);\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>CUT LENGTHS</LabelItem>\n              <BorderedItem \n                price={cutLengthPrice}\n                isCutLengths={true}\n                style={styles.cutLengthsContainer}\n              >\n                <View>\n                  {value.map((cut, i) => (\n                    <View key={i} style={styles.cutLengthRow}>\n                      <NumberedCircle number={i + 1} />\n                      <Text style={styles.cutLengthText}>{`${cut.length} ${cut.unit}`}</Text>\n                    </View>\n                  ))}\n                </View>\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'hoseProtection':\n          label = 'HOSE PROTECTION';\n          content = value;\n          price = value === 'NOT REQUIRED' ? 'NOT REQUIRED' : protectionCost;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'pressureTest':\n          label = 'PRESSURE TEST';\n          content = value;\n          price = value === 'Not Required' ? 'NOT REQUIRED' : pressureTestPrice;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'shippingService':\n          if (!value) return null;\n          label = 'SHIPPING SERVICE';\n          content = value;\n          price = shippingCost > 0 ? shippingCost : 'FREE';\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        default:\n          label = key.toUpperCase().replace('_', ' ');\n          content = typeof value === 'object' ? \n            `${value.type} - ${value.size}` : value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n      }\n    });\n  };\n\n  return (\n    <View style={styles.orderDetailsContainer}>\n      {renderOrderDetails()}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  orderDetailsContainer: {\n    width: '95%',\n    maxWidth: 800,\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  cutLengthsContainer: {},\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginLeft: 10,\n  },\n  cutLengthsLayout: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  cutLengthsContent: {\n    flex: 1,\n    paddingRight: 10,\n  },\n  cutLengthsPriceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    alignSelf: 'center',\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  totalPriceContainer: {\n    width: '95%',\n    maxWidth: 800,\n    marginVertical: 20,\n    alignItems: 'center',\n  },\n  totalPriceLabelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    marginBottom: 10,\n  },\n  totalPriceLabelText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  totalPriceValueContainer: {\n    width: 200,\n    height: 200,\n    borderRadius: 25,\n    backgroundColor: '#ffc100',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  totalPriceValueText: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  shippingNoticeContainer: {\n    width: '95%',\n    maxWidth: 800,\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  shippingNoticeText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    fontStyle: 'italic',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n});","import React, { useRef, useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, SafeAreaView, Image, ScrollView, TouchableOpacity, Platform, Animated, Modal, ActivityIndicator, Alert } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\nimport { useCart } from '../context/CartContext';\nimport GlobalCartButton from '../components/GlobalCartButton';\nimport { useOrderPDFGeneration } from '../components/OrderConfirmation1/OrderPDFGeneration';\nimport { OrderDetailsSection, TotalPriceDisplay, ShippingCostNotice } from '../components/OrderConfirmation1/OrderSummaryDisplay';\n\nconst BUTTON_WIDTH = Math.min(380);\n\n// Helper function\nconst cleanPriceString = (priceStr) => {\n  if (!priceStr) return 0;\n  return parseFloat(priceStr.replace(/\\s+/g, '').split('/')[0]);\n};\n\n// Main Component\nconst OrderConfirmationScreen1 = () => {\n  \n  const navigation = useNavigation();\n  const route = useRoute();\n  \n  // State management\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const buttonFadeAnim = useRef(new Animated.Value(1)).current;\n  const messageFadeAnim = useRef(new Animated.Value(0)).current;\n  const { cartItems, addToCart, isCartVisible } = useCart();\n  const [selectedAction, setSelectedAction] = useState(null);\n  const [showSelectionModal, setShowSelectionModal] = useState(false);\n  const modalFadeAnim = useRef(new Animated.Value(0)).current;\n  const [selectedButton, setSelectedButton] = useState(null);\n  \n  const currentOrderKey = useRef(null);\n  const [currentOrderAddedToCart, setCurrentOrderAddedToCart] = useState(false);\n  \n  const ADDED_ORDERS_KEY = 'pwa-added-order-keys';\n\n  // Extract route params\n  const { \n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice,\n    isDevMode: devModeActive,\n    selectedProtection,\n    selectedPressure,\n    selectedMethod,\n    selectedService,\n    basePrice,\n    hoseProtectionPrice,\n    pressureTestPrice,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    isOrderFittingMode\n  } = route.params || {};\n\n  // Helper function for getting total length\n  const getTotalLength = () => {\n    if (!cutLengths) return 0;\n    return cutLengths.reduce((total, cut) => {\n      if (!cut.length) return total;\n      return total + (parseFloat(cut.length) / 1000);\n    }, 0);\n  };\n\n  // Helper function for getting total length from order data\n  const getTotalLengthFromData = (cutLengthsData) => {\n    if (!cutLengthsData) return 0;\n    return cutLengthsData.reduce((total, cut) => {\n      if (!cut.length) return total;\n      return total + (parseFloat(cut.length) / 1000);\n    }, 0);\n  };\n\n  // Calculate total price components\n  const calculatePrices = () => {\n    const totalLength = getTotalLength();\n    const baseHosePrice = totalLength * cleanPriceString(selectedHosePrice);\n    const protectionAmount = selectedProtection === 'NOT REQUIRED' ? 0 : protectionCost;\n    \n    const end1Cost = typeof end1Price === 'number' ? end1Price : parseFloat(end1Price) || 0;\n    const end2Cost = typeof end2Price === 'number' ? end2Price : parseFloat(end2Price) || 0;\n    const pressureTestCost = selectedPressure === 'Not Required' ? 0 : pressureTestPrice || 0;\n    \n    const finalShippingCost = 0;\n    \n    const total = baseHosePrice + end1Cost + end2Cost + protectionAmount + pressureTestCost + finalShippingCost;\n  \n    return {\n      baseHosePrice,\n      protectionAmount,\n      finalShippingCost,\n      total\n    };\n  };\n\n  // Calculate prices from order data (for PDF generation)\n  const calculatePricesFromData = (orderData, totalLength) => {\n    const baseHosePrice = totalLength * cleanPriceString(orderData.selectedHosePrice);\n    const protectionAmount = orderData.selectedProtection === 'NOT REQUIRED' ? 0 : orderData.protectionCost;\n    \n    const end1Cost = typeof orderData.end1Price === 'number' ? orderData.end1Price : parseFloat(orderData.end1Price) || 0;\n    const end2Cost = typeof orderData.end2Price === 'number' ? orderData.end2Price : parseFloat(orderData.end2Price) || 0;\n    const pressureTestCost = orderData.selectedPressure === 'Not Required' ? 0 : orderData.pressureTestPrice || 0;\n    \n    const finalShippingCost = 0;\n    const total = baseHosePrice + end1Cost + end2Cost + protectionAmount + pressureTestCost + finalShippingCost;\n  \n    return { baseHosePrice, protectionAmount, finalShippingCost, total };\n  };\n\n  // Initialize PDF generation hook\n  const {\n    isGeneratingPDF,\n    generateOrderPDF,\n    downloadAllCartPDFs,\n    renderPDFContent,\n  } = useOrderPDFGeneration({\n    cartItems,\n    cleanPriceString,\n    calculatePricesFromData,\n    getTotalLengthFromData,\n  });\n\n  // Helper functions for localStorage operations\n  const getAddedOrderKeys = () => {\n    if (typeof window === 'undefined') return [];\n    \n    try {\n      const stored = localStorage.getItem(ADDED_ORDERS_KEY);\n      if (!stored) return [];\n      return JSON.parse(stored);\n    } catch (error) {\n      console.error('Error reading added order keys from localStorage:', error);\n      return [];\n    }\n  };\n\n  const saveAddedOrderKey = (orderKey) => {\n    if (typeof window === 'undefined') return;\n    \n    try {\n      const existingKeys = getAddedOrderKeys();\n      if (!existingKeys.includes(orderKey)) {\n        existingKeys.push(orderKey);\n        localStorage.setItem(ADDED_ORDERS_KEY, JSON.stringify(existingKeys));\n        console.log('Order key saved to localStorage:', orderKey.substring(0, 50) + '...');\n      }\n    } catch (error) {\n      console.error('Error saving added order key to localStorage:', error);\n    }\n  };\n\n  const isOrderKeyAdded = (orderKey) => {\n    const addedKeys = getAddedOrderKeys();\n    return addedKeys.includes(orderKey);\n  };\n\n  // Generate unique key for current order configuration\n  useEffect(() => {\n    const orderConfig = {\n      hoseSize: selectedHose?.size,\n      end1Shape,\n      end1Size,\n      end2Shape,\n      end2Size,\n      angle: selectedAngle,\n      qty: quantity,\n      cutLengths: cutLengths?.map(c => `${c.length}${c.unit}`).join(','),\n      protection: selectedProtection,\n      pressure: selectedPressure,\n    };\n    \n    const orderKey = JSON.stringify(orderConfig);\n    currentOrderKey.current = orderKey;\n    \n    const isAlreadyAdded = isOrderKeyAdded(orderKey);\n    setCurrentOrderAddedToCart(isAlreadyAdded);\n    \n    console.log(\"Order key generated:\", orderKey.substring(0, 50) + \"...\");\n    console.log(\"Order already added (from localStorage):\", isAlreadyAdded);\n  }, [\n    selectedHose,\n    end1Shape,\n    end1Size,\n    end2Shape,\n    end2Size,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    selectedProtection,\n    selectedPressure\n  ]);\n\n  // Reset animations when screen comes into focus\n  useFocusEffect(\n    React.useCallback(() => {\n      setShowSuccessMessage(false);\n      fadeAnim.setValue(0);\n      buttonFadeAnim.setValue(1);\n      \n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start();\n    }, [fadeAnim, buttonFadeAnim])\n  );\n\n  const orderDetails = {\n    hoseSize: selectedHose ? selectedHose.size : null,\n    end1: end1Shape && end1Size ? { type: end1Shape, size: end1Size } : null,\n    end2: end2Shape && end2Size ? { \n      type: end2Shape, \n      size: end2Size,\n    } : null,\n    angle: selectedAngle || null,\n    qty: quantity || null,\n    cutLengths: cutLengths && cutLengths.length > 0 ? cutLengths : null,\n    hoseProtection: selectedProtection || null,\n    pressureTest: selectedPressure || null,\n    shippingMethod: selectedMethod || null,\n    shippingService: selectedService || null\n  };\n\n  // Handler for test PDF download button\n  const handleTestPDFDownload = async () => {\n    console.log('Test PDF download clicked');\n    \n    if (cartItems.length === 0) {\n      // No items in cart - download current screen order\n      console.log('No cart items, downloading current order PDF');\n      try {\n        const orderSnapshot = {\n          selectedHose,\n          selectedHosePrice,\n          end1Shape,\n          end1Size,\n          end1Price,\n          end2Shape,\n          end2Size,\n          end2Price,\n          selectedAngle,\n          quantity,\n          cutLengths,\n          cutLengthPrice,\n          isOrderFittingMode,\n          selectedProtection,\n          protectionCost,\n          selectedPressure,\n          pressureTestPrice,\n        };\n        \n        const pdfDataUrl = await generateOrderPDF(orderSnapshot);\n        \n        // Download the PDF\n        const base64Data = pdfDataUrl.split(',')[1];\n        const byteCharacters = atob(base64Data);\n        const byteNumbers = new Array(byteCharacters.length);\n        \n        for (let j = 0; j < byteCharacters.length; j++) {\n          byteNumbers[j] = byteCharacters.charCodeAt(j);\n        }\n        \n        const byteArray = new Uint8Array(byteNumbers);\n        const blob = new Blob([byteArray], { type: 'application/pdf' });\n        \n        const url = URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `Order_PWA-${Date.now()}.pdf`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n        \n        console.log('PDF download triggered successfully');\n      } catch (error) {\n        console.error('Error downloading PDF:', error);\n        Alert.alert('Error', 'Failed to download PDF. Check console for details.');\n      }\n    } else {\n      // Cart has items - download all PDFs\n      await downloadAllCartPDFs();\n    }\n  };\n\n  // Helper function for modal closing animation and navigation\n  const animateAndNavigate = (buttonKey, screenName, params = {}) => {\n    setSelectedButton(buttonKey);\n    Animated.timing(modalFadeAnim, {\n      toValue: 0,\n      duration: 500,\n      useNativeDriver: Platform.OS !== 'web',\n    }).start(() => {\n      setShowSelectionModal(false);\n      setSelectedButton(null);\n      \n      navigation.push(screenName, {\n        ...params,\n        cameFromOrderConfirmation: true,\n        originalOrderData: {\n          selectedHose,\n          selectedHosePrice,\n          selectedFitting,\n          end1Shape,\n          end1Size,\n          end1Price,\n          selectedEnd2Fitting,\n          end2Shape,\n          end2Size,\n          end2Price,\n          selectedAngle,\n          quantity,\n          cutLengths,\n          cutLengthPrice,\n          isDevMode: devModeActive,\n          selectedProtection,\n          selectedPressure,\n          selectedMethod,\n          selectedService,\n          basePrice,\n          hoseProtectionPrice,\n          pressureTestPrice,\n          protectionCost,\n          isOrderFittingMode\n        }\n      });\n    });\n  };\n\n  const handleBuildHose = () => {\n    animateAndNavigate('build', 'HoseSelection', { \n      isHoseOnly: false,\n      cameFromOrderConfirmation: true\n    });\n  };\n\n  const handleHoseOnly = () => {\n    animateAndNavigate('hoseOnly', 'HoseSelection', { \n      isHoseOnly: true,\n      cameFromOrderConfirmation: true\n    });\n  };\n\n  const handleOrderFitting = () => {\n    animateAndNavigate('order', 'End1Fitting', {\n      selectedHose: null,\n      selectedHosePrice: null,\n      isOrderFittingMode: true,\n      cameFromOrderConfirmation: true\n    });\n  };\n\n  const handleCloseModal = () => {\n    Animated.timing(modalFadeAnim, {\n      toValue: 0,\n      duration: 500,\n      useNativeDriver: Platform.OS !== 'web',\n    }).start(() => {\n      setShowSelectionModal(false);\n      setSelectedButton(null);\n    });\n  };\n\n  // Add to cart handler with PDF generation\n  const handleAddToCart = async () => {\n    console.log(\"Add to cart clicked - starting PDF generation\");\n    \n    if (Platform.OS !== 'web') {\n      Alert.alert('Platform Error', 'PDF generation only supported on web platform');\n      return;\n    }\n    \n    try {\n      // Create order snapshot\n      const orderSnapshot = {\n        selectedHose,\n        selectedHosePrice,\n        end1Shape,\n        end1Size,\n        end1Price,\n        end2Shape,\n        end2Size,\n        end2Price,\n        selectedAngle,\n        quantity,\n        cutLengths,\n        cutLengthPrice,\n        isOrderFittingMode,\n        selectedProtection,\n        protectionCost,\n        selectedPressure,\n        pressureTestPrice,\n      };\n      \n      console.log('Order snapshot created for PDF generation');\n      \n      // Generate PDF with snapshot data\n      const base64PDF = await generateOrderPDF(orderSnapshot);\n      \n      if (!base64PDF) {\n        throw new Error('PDF generation returned null');\n      }\n\n      console.log('PDF Base64 received, length:', base64PDF.length);\n      \n      // Calculate prices\n      const calculatedPrices = calculatePrices();\n      const displayPrice = orderSnapshot.isOrderFittingMode ? orderSnapshot.cutLengthPrice : calculatedPrices.total;\n      \n      // Create cart item\n      const cartItem = {\n        id: 'fpg-cha',\n        type: 'pwa_order',\n        name: 'Custom Hose Assembly',\n        totalPrice: displayPrice,  //  This variable exists from line 468\n        quantity: 1,\n        stock: 999,\n        image: 'https://cdn.swell.store/fluidpowergroup/68eef617d547240012c0335e/1c05a6596c234db331eef0ba67ea760c/Adobe%20Express%20-%20file%20(1).png?width=300&height=300&padded=true',\n        pdfDataUrl: base64PDF,  //  Changed from pdfDataUrl to base64PDF\n        orderConfig: {\n          ...orderSnapshot,  //  Use the snapshot we created\n          calculatedPrices,\n        },\n        cartId: Date.now(),\n      };\n      \n      console.log('Adding cart item:', {\n        id: cartItem.id,\n        type: cartItem.type,\n        price: cartItem.price,\n        quantity: cartItem.quantity,\n        hasPDF: !!cartItem.pdfDataUrl,\n        pdfSize: `${Math.round(cartItem.pdfDataUrl.length / 1024)}KB`\n      });\n      \n      // Add to cart\n      addToCart(cartItem);\n      \n      // Mark order as added\n      if (currentOrderKey.current) {\n        saveAddedOrderKey(currentOrderKey.current);\n      }\n      \n      // Show success message with animation\n      setShowSuccessMessage(true);\n      Animated.timing(messageFadeAnim, {\n        toValue: 1,\n        duration: 400,\n        useNativeDriver: Platform.OS !== 'web',\n      }).start();\n      \n      // Fade out \"Add to Cart\" button\n      Animated.timing(buttonFadeAnim, {\n        toValue: 0,\n        duration: 400,\n        useNativeDriver: Platform.OS !== 'web',\n      }).start(() => {\n        setCurrentOrderAddedToCart(true);\n        \n        // Fade in \"Place New Order\" button\n        Animated.timing(buttonFadeAnim, {\n          toValue: 1,\n          duration: 400,\n          useNativeDriver: Platform.OS !== 'web',\n        }).start();\n        \n        // Hide success message after 2 seconds\n        setTimeout(() => {\n          Animated.timing(messageFadeAnim, {\n            toValue: 0,\n            duration: 400,\n            useNativeDriver: Platform.OS !== 'web',\n          }).start(() => {\n            setShowSuccessMessage(false);\n          });\n        }, 2000);\n      });\n      \n    } catch (error) {\n      console.error('Error in handleAddToCart:', error);\n      \n      Alert.alert(\n        'Error',\n        'Failed to add item to cart. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  // Handler for \"Place New Order\" button\n  const handlePlaceNewOrder = () => {\n    console.log(\"Place new order clicked - navigating to HoseSelection\");\n    \n    // Navigate directly to HoseSelection screen\n    navigation.navigate('HoseSelection');\n    \n    // OLD CODE - Modal selection (commented out, may be useful for debugging)\n    // setShowSelectionModal(true);\n    // modalFadeAnim.setValue(0);\n    // Animated.timing(modalFadeAnim, {\n    //   toValue: 1,\n    //   duration: 800,\n    //   useNativeDriver: Platform.OS !== 'web',\n    // }).start();\n  };\n\n  // Handler for browsing website products\n  const handleProceedToShipping = () => {\n    setSelectedAction('shipping');\n    \n    console.log(\"Browse website products clicked\");\n    \n    Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start(() => {\n      setSelectedAction(null);\n      \n      // Navigate to website catalogue page\n      if (Platform.OS === 'web') {\n        window.location.href = '/catalogue';\n      } else {\n        // For native apps, you might want to open in browser\n        console.log('Navigate to website catalogue');\n        // Linking.openURL('https://yourwebsite.com/catalogue');\n      }\n    });\n  };\n\n  console.log(\"OrderConfirmationScreen1 rendering\", { \n    cartItems: cartItems?.length || 0, \n    isCartVisible,\n    currentOrderAddedToCart\n  });\n\n  const calculatedPrices = calculatePrices();\n  const displayTotalPrice = isOrderFittingMode ? cutLengthPrice : calculatedPrices.total;\n\n  return (\n    <SafeAreaView style={styles.mainContainer}>\n      {/* Floating Back Button */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n      </TouchableOpacity>\n\n      {/* Global Cart Button - COMMENTED OUT FOR TESTING */}\n      {/* Cart is now managed by website - uncomment if needed for debugging */}\n      {/* <GlobalCartButton currentScreen=\"OrderConfirmationScreen1\" /> */}\n\n      {/* PDF Test Button - REMOVED */}\n      {/* PDF generation logic is still active for cart items */}\n\n      <View style={styles.mainContentContainer}>\n        <ScrollableGradientWrapper>\n          <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.scrollContent}>\n              <View style={styles.logoContainer}>\n                <Image\n                  source={require('../assets/fluidpower_logo.gif')}\n                  style={styles.logo}\n                  resizeMode=\"contain\"\n                />\n              </View>\n              <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n                <View style={styles.titleContainer}>\n                  <Text style={styles.titleText}>ORDER Summary</Text>\n                </View>\n                \n                <OrderDetailsSection\n                  orderDetails={orderDetails}\n                  isOrderFittingMode={isOrderFittingMode}\n                  end1Price={end1Price}\n                  end2Price={end2Price}\n                  protectionCost={protectionCost}\n                  pressureTestPrice={pressureTestPrice}\n                  shippingCost={shippingCost}\n                  cutLengths={cutLengths}\n                  selectedHosePrice={selectedHosePrice}\n                  getTotalLength={getTotalLength}\n                  cleanPriceString={cleanPriceString}\n                />\n                \n                <TotalPriceDisplay total={displayTotalPrice} />\n                <ShippingCostNotice />\n                \n                {/* Success message */}\n                {showSuccessMessage && (\n                  <Animated.View \n                    style={[\n                      styles.successMessageContainer,\n                      { opacity: messageFadeAnim }\n                    ]}\n                  >\n                    <Svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" style={styles.successIcon}>\n                      <Path \n                        d=\"M20 6L9 17L4 12\" \n                        stroke=\"white\" \n                        strokeWidth=\"2.5\" \n                        strokeLinecap=\"round\" \n                        strokeLinejoin=\"round\"\n                      />\n                    </Svg>\n                    <Text style={styles.successMessageText}>Item added to cart!</Text>\n                  </Animated.View>\n                )}\n                \n                {/* Action buttons container */}\n                <View style={styles.actionButtonsContainer}>\n                  <Animated.View style={{ opacity: buttonFadeAnim }}>\n                    {!currentOrderAddedToCart ? (\n                      <TouchableOpacity \n                        style={styles.addToCartButton} \n                        onPress={handleAddToCart}\n                        disabled={isGeneratingPDF}\n                      >\n                        <View style={styles.buttonContent}>\n                          {isGeneratingPDF ? (\n                            <ActivityIndicator color=\"#4a4a4a\" size=\"small\" />\n                          ) : (\n                            <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" style={styles.buttonIcon}>\n                              <Path \n                                d=\"M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z\" \n                                stroke=\"#4a4a4a\" \n                                strokeWidth=\"2\" \n                                strokeLinecap=\"round\" \n                                strokeLinejoin=\"round\"\n                              />\n                              <Path \n                                d=\"M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z\" \n                                stroke=\"#4a4a4a\" \n                                strokeWidth=\"2\" \n                                strokeLinecap=\"round\" \n                                strokeLinejoin=\"round\"\n                              />\n                              <Path \n                                d=\"M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6\" \n                                stroke=\"#4a4a4a\" \n                                strokeWidth=\"2\" \n                                strokeLinecap=\"round\" \n                                strokeLinejoin=\"round\"\n                              />\n                            </Svg>\n                          )}\n                          <Text style={styles.buttonText}>\n                            {isGeneratingPDF ? 'ADDING...' : 'ADD TO CART'}\n                          </Text>\n                        </View>\n                      </TouchableOpacity>\n                    ) : (\n                      <TouchableOpacity \n                        style={styles.placeNewOrderButton} \n                        onPress={handlePlaceNewOrder}\n                      >\n                        <View style={styles.buttonContent}>\n                          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" style={styles.buttonIcon}>\n                            <Path \n                              d=\"M12 5v14m7-7H5\" \n                              stroke=\"#4a4a4a\" \n                              strokeWidth=\"2.5\" \n                              strokeLinecap=\"round\" \n                              strokeLinejoin=\"round\"\n                            />\n                          </Svg>\n                          <Text style={styles.buttonText}>ORDER CUSTOM HOSE ASSEMBLY</Text>\n                        </View>\n                      </TouchableOpacity>\n                    )}\n                  </Animated.View>\n\n                  <TouchableOpacity \n                    style={[\n                      styles.shippingButton, \n                      selectedAction === 'shipping' && styles.selectedButton\n                    ]} \n                    onPress={handleProceedToShipping}\n                  >\n                    <View style={styles.buttonContent}>\n                      <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" style={styles.buttonIcon}>\n                        <Path \n                          d=\"M3 3h18M3 12h18M3 21h18\" \n                          stroke=\"#4a4a4a\" \n                          strokeWidth=\"2\" \n                          strokeLinecap=\"round\" \n                          strokeLinejoin=\"round\"\n                        />\n                        <Path \n                          d=\"M7 7h10M7 16h10\" \n                          stroke=\"#4a4a4a\" \n                          strokeWidth=\"2\" \n                          strokeLinecap=\"round\" \n                          strokeLinejoin=\"round\"\n                        />\n                      </Svg>\n                      <Text style={styles.buttonText}>BROWSE WEBSITE PRODUCTS</Text>\n                    </View>\n                  </TouchableOpacity>\n                </View>\n              </Animated.View>\n            </ScrollView>\n          </View>\n        </ScrollableGradientWrapper>\n\n        {/* Loading Overlay */}\n        {isGeneratingPDF && (\n          <View style={styles.pdfLoadingOverlay}>\n            <ActivityIndicator size=\"large\" color=\"#4a4a4a\" />\n            <Text style={styles.loadingText}>Preparing order for cart...</Text>\n          </View>\n        )}\n\n        {/* Hidden PDF Content (Web Only) */}\n        {renderPDFContent()}\n\n        {/* Selection Modal - COMMENTED OUT (navigating directly to HoseSelection) */}\n        {/* Uncomment below if you need to bring back the modal selection in future */}\n        {/*\n        <Modal\n          transparent={true}\n          visible={showSelectionModal}\n          onRequestClose={handleCloseModal}\n          animationType=\"none\"\n        >\n          <View style={styles.modalOverlay}>\n            <TouchableOpacity\n              style={styles.overlayBackground}\n              activeOpacity={1}\n              onPress={handleCloseModal}\n            />\n            <Animated.View style={[styles.selectionContainer, { opacity: modalFadeAnim, transform: [{ scale: modalFadeAnim }] }]}>\n              <Text style={styles.selectionTitle}>You want to</Text>\n\n              <TouchableOpacity\n                style={[\n                  styles.selectionButton,\n                  selectedButton === 'hoseOnly' && styles.selectedModalButton\n                ]}\n                onPress={handleHoseOnly}\n              >\n                <Text style={styles.selectionButtonText}>Order Hose Only</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity\n                style={[\n                  styles.selectionButton,\n                  selectedButton === 'order' && styles.selectedModalButton\n                ]}\n                onPress={handleOrderFitting}\n              >\n                <Text style={styles.selectionButtonText}>Order Fitting Only</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity\n                style={[\n                  styles.selectionButton,\n                  selectedButton === 'build' && styles.selectedModalButton\n                ]}\n                onPress={handleBuildHose}\n              >\n                <Text style={styles.selectionButtonText}>Build Complete Hose</Text>\n              </TouchableOpacity>\n            </Animated.View>\n          </View>\n        </Modal>\n        */}\n\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContentContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingBottom: 20,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n    marginBottom: 15,\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  animatedContainer: {\n    width: '100%',\n    alignItems: 'center',\n  },\n  titleContainer: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    marginVertical: 20,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  actionButtonsContainer: {\n    width: '95%',\n    maxWidth: 800,\n    alignItems: 'center',\n    marginVertical: 15,\n  },\n  addToCartButton: {\n    backgroundColor: 'white',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    marginVertical: 10,\n    width: BUTTON_WIDTH,\n    alignItems: 'center',\n    alignSelf: 'center',\n    minWidth: 240,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  placeNewOrderButton: {\n    backgroundColor: 'white',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    marginVertical: 10,\n    alignItems: 'center',\n    alignSelf: 'center',\n    minWidth: 240,\n    maxWidth: '90%', // Allow button to grow but not exceed screen width\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  shippingButton: {\n    backgroundColor: 'white',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    marginVertical: 10,\n    alignItems: 'center',\n    alignSelf: 'center',\n    minWidth: 240,\n    maxWidth: '90%', // Allow button to grow but not exceed screen width\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  buttonContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexWrap: 'nowrap', // Prevent wrapping of button content\n  },\n  buttonIcon: {\n    marginRight: 10,\n  },\n  buttonText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flexShrink: 0, // Prevent text from shrinking\n    whiteSpace: 'nowrap', // For web - keep text on one line\n  },\n  selectedButton: {\n    backgroundColor: '#ffc100',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  successMessageContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 15,\n    marginBottom: 10,\n    paddingVertical: 12,\n    paddingHorizontal: 25,\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    alignSelf: 'center',\n  },\n  successIcon: {\n    marginRight: 10,\n  },\n  successMessageText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  modalOverlay: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n  },\n  overlayBackground: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  selectionContainer: {\n    width: '85%',\n    maxWidth: 400,\n    backgroundColor: 'rgba(74, 74, 74, 0.9)',\n    borderRadius: 20,\n    padding: 25,\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 5 },\n    shadowOpacity: 0.35,\n    shadowRadius: 6,\n    elevation: 10,\n  },\n  selectionTitle: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    color: 'white',\n    marginBottom: 25,\n    textAlign: 'center',\n  },\n  selectionButton: {\n    width: '100%',\n    backgroundColor: 'white',\n    paddingHorizontal: 20,\n    paddingVertical: 15,\n    borderRadius: 15,\n    marginVertical: 8,\n    borderWidth: 2,\n    borderColor: '#ccc',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 3,\n    elevation: 4,\n  },\n  selectedModalButton: {\n    backgroundColor: '#ffc100',\n  },\n  selectionButtonText: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  pdfLoadingOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.95)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 999,\n  },\n  loadingText: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginTop: 15,\n    fontWeight: 'bold',\n  },\n  floatingPDFTestButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    right: 30,\n    backgroundColor: '#ffc100',\n    paddingHorizontal: 15,\n    paddingVertical: 12,\n    borderRadius: 25,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 999,\n  },\n  pdfTestButtonText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n});\n\nexport default OrderConfirmationScreen1;","import React, { useState, useRef } from 'react';\nimport { View, Text, StyleSheet, SafeAreaView, Image, Dimensions, Platform, TextInput, ScrollView, Animated, TouchableOpacity } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport { Picker } from '@react-native-picker/picker';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\nconst STATES = ['Select State', 'ACT', 'NSW', 'NT', 'QLD', 'SA', 'TAS', 'VIC', 'WA'];\n\nconst ShippingDetailsScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const buttonRef = React.useRef(null);\n  const [isSelected, setIsSelected] = React.useState(false);\n  const [hadTenDigits, setHadTenDigits] = useState(false);\n  const [formSubmitAttempted, setFormSubmitAttempted] = useState(false);\n  const [devModeActive, setDevModeActive] = useState(route.params?.isDevMode || false);\n  const [showDevModeEasterEgg, setShowDevModeEasterEgg] = useState(false);\n\n  const isIOSBrowser = () => {\n    return (\n      Platform.OS === 'ios' ||\n      (Platform.OS === 'web' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)\n    );\n  };\n\n  const { \n    selectedHose,\n        selectedHosePrice,\n        selectedFitting,\n        end1Shape,\n        end1Size,\n        end1Price,\n        selectedEnd2Fitting,\n        end2Shape,\n        end2Size,\n        end2Price,\n        selectedAngle,\n        quantity,\n        cutLengths,\n        isDevMode,\n        cutLengthPrice, isOrderFittingMode,\n        selectedProtection,\n        selectedPressure,\n        selectedMethod,\n        selectedService,\n        basePrice,\n        hoseProtectionPrice,\n        pressureTestPrice,\n        protectionCost,\n        shippingCost,\n        totalBeforeShipping,\n        totalPriceWithShipping\n  } = route.params || {};\n  \n  // State for form fields\n  const [formFields, setFormFields] = useState({\n    name: '',\n    companyName: '',\n    address: '',\n    suburb: '',\n    state: 'Select State', // Default state selection\n    postcode: '',\n    email: '',\n    contactNumber: ''\n  });\n\n  const [touchedFields, setTouchedFields] = useState({\n    name: false,\n    companyName: false,\n    address: false,\n    suburb: false,\n    state: false,\n    postcode: false,\n    email: false,\n    contactNumber: false\n  })\n  \n  const [errors, setErrors] = useState({\n    name: '',\n    companyName: '',\n    address: '',\n    suburb: '',\n    state: '',\n    postcode: '',\n    email: '',\n    contactNumber: ''\n  });\n\n  const [allFieldsFilled, setAllFieldsFilled] = useState(false);\n  const inputRefs = useRef([]);\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n\n  // Initial fade-in animation\n  React.useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start();\n  }, []);\n\n  // Screen focus animation and cleanup\n  useFocusEffect(\n    React.useCallback(() => {\n      fadeAnim.setValue(0);\n      setIsSelected(false);\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start();\n\n      return () => {\n        // Cleanup if needed\n      };\n    }, [fadeAnim])\n  );\n\n  React.useEffect(() => {\n    // Small delay to ensure the input is mounted\n    const timer = setTimeout(() => {\n      if (inputRefs.current[0]) {\n        inputRefs.current[0].focus();\n      }\n    }, 100);\n  \n    return () => clearTimeout(timer);\n  }, []);\n\n  const validateField = (name, value) => {\n    let error = '';\n    \n    switch (name) {\n      case 'name':\n      case 'address':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        }\n        break;\n\n      case 'suburb':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else if (!/^[a-zA-Z\\s]+$/.test(value)) {\n          error = 'Please enter letters only';\n        }\n        break;\n\n      case 'state':\n        if (value === 'Select State') {\n          error = 'Please select a state';\n        }\n        break;\n\n      case 'postcode':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else if (!/^\\d{4}$/.test(value)) {\n          error = 'Please enter 4 digits';\n        }\n        break;\n\n      case 'email':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else {\n          const emailRegex = /^[a-zA-Z0-9._]+@[a-zA-Z]{2,}\\.[a-zA-Z]{2,}(\\.[a-zA-Z]{2,})*$/;\n          if (!emailRegex.test(value)) {\n            error = 'Please enter a valid email address';\n          }\n        }\n        break;\n\n      case 'contactNumber':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else if (!/^\\d{10}$/.test(value)) {\n          error = 'Contact number must be 10 digits';\n        }\n        break;\n    }\n    \n    return error;\n  };\n\n  const updateField = (name, value) => {\n    setFormFields(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Check for AGC PTY LTD to activate dev mode\n    if (name === 'companyName' && value.trim().toUpperCase() === 'AGC PTY LTD') {\n      setDevModeActive(true);\n      setShowDevModeEasterEgg(true);\n      // Hide Easter egg after 3 seconds\n      setTimeout(() => {\n        setShowDevModeEasterEgg(false);\n      }, 3000);\n    }\n\n    // Only show errors if form submission was attempted\n    if (formSubmitAttempted) {\n      const error = validateField(name, value);\n      setErrors(prev => ({\n        ...prev,\n        [name]: error\n      }));\n    }\n  };\n\n  const handleNext = () => {\n    setFormSubmitAttempted(true);\n    \n    // Validate all required fields using our new helper function\n    const newErrors = {};\n    let hasErrors = false;\n    \n    Object.entries(formFields).forEach(([fieldName, value]) => {\n      if (fieldName !== 'companyName') { // Skip optional fields\n        const error = validateField(fieldName, value);\n        newErrors[fieldName] = error;\n        if (error) hasErrors = true;\n      }\n    });\n    \n    setErrors(newErrors);\n  \n    if (!hasErrors) {\n      setIsSelected(true);\n      // Start the fade out animation\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start(() => {\n        // Navigate after animation completes\n        navigation.navigate('Payment', {\n          // Previous parameters from route\n          selectedHose,\n          selectedHosePrice,\n          selectedFitting,\n          end1Shape,\n          end1Size,\n          end1Price,\n          selectedEnd2Fitting,\n          end2Shape,\n          end2Size,\n          end2Price,\n          selectedAngle,\n          quantity,\n          cutLengths,\n          isDevMode: devModeActive, // Use the updated dev mode value\n          cutLengthPrice, isOrderFittingMode,\n          selectedProtection,\n          hoseProtectionPrice,\n          selectedPressure,\n          pressureTestPrice,\n          selectedMethod,\n          selectedService,\n          basePrice,\n          shippingCost,\n          totalBeforeShipping,\n          totalPriceWithShipping,\n          protectionCost,\n          shippingDetails: formFields,\n        });\n      });\n    }\n  };\n      \n\nconst handleInputSubmit = (index) => {\n  const currentFieldName = Object.keys(formFields)[index];\n  \n  // Show required field error immediately when skipping\n  setTouchedFields(prev => ({\n    ...prev,\n    [currentFieldName]: true\n  }));\n\n  const currentValue = formFields[currentFieldName];\n  const error = validateField(currentFieldName, currentValue, true);\n  setErrors(prev => ({\n    ...prev,\n    [currentFieldName]: error\n  }));\n\n  // iOS platform check - don't auto-advance focus on iOS\n  if (Platform.OS !== 'ios' && index < 6) {\n    inputRefs.current[index + 1].focus();\n  }\n};\n    \nconst handleInputBlur = (name) => {\n  setTouchedFields(prev => ({\n    ...prev,\n    [name]: true\n  }));\n  \n  // Always validate on blur for iOS\n  const error = validateField(name, formFields[name]);\n  setErrors(prev => ({\n    ...prev,\n    [name]: error\n  }));\n  \n  // If on iOS and this was a successful submission of a field,\n  // check if we should validate all fields\n  if (Platform.OS === 'ios' && formSubmitAttempted) {\n    validateAllFields();\n  }\n};\n\n// Helper function to validate all fields\nconst validateAllFields = () => {\n  const newErrors = {};\n  let hasErrors = false;\n  \n  Object.entries(formFields).forEach(([fieldName, value]) => {\n    if (fieldName !== 'companyName') { // Skip optional fields\n      const error = validateField(fieldName, value);\n      newErrors[fieldName] = error;\n      if (error) hasErrors = true;\n    }\n  });\n  \n  setErrors(newErrors);\n  return !hasErrors;\n};\n\nconst renderInputField = (label, name, index, keyboardType = 'default', isOptional = false, additionalProps = {}) => {\n  // Determine the appropriate input mode based on field type\n  let inputModeValue;\n  switch (name) {\n    case 'postcode':\n    case 'contactNumber':\n      inputModeValue = 'numeric';\n      break;\n    case 'email':\n      inputModeValue = 'email';\n      break;\n    default:\n      inputModeValue = 'text';\n  }\n\n  return (\n    <View key={name} style={styles.inputRow}>\n      <View style={styles.labelContainer}>\n        <Text style={styles.labelText}>\n          {label}{!isOptional && <Text style={styles.asterisk}>*</Text>}{isOptional ? ' (Optional)' : ''}\n        </Text>\n      </View>\n      <View style={styles.inputContainer}>\n        <TextInput\n          ref={el => inputRefs.current[index] = el}\n          style={[\n            styles.input,\n            formSubmitAttempted && errors[name] ? styles.inputError : null\n          ]}\n          value={formFields[name]}\n          onChangeText={(text) => updateField(name, text)}\n          onSubmitEditing={() => handleInputSubmit(index)}\n          onEndEditing={() => Platform.OS === 'ios' ? handleInputBlur(name) : null} // Handle iOS \"Done\" button\n          onBlur={() => {\n            handleInputBlur(name);\n            // On iOS browsers, we may want to validate the entire form\n            if (isIOSBrowser() && formSubmitAttempted) {\n              validateAllFields();\n            }\n          }}\n          keyboardType={keyboardType}\n          returnKeyType={index === 6 ? \"done\" : \"next\"}  // Last field shows \"done\", others show \"next\"\n          enterKeyHint={index === 6 ? \"done\" : \"next\"}   // HTML equivalent for web views\n          inputMode={inputModeValue}\n          autoComplete=\"off\"\n          blurOnSubmit={Platform.OS === 'ios' || index === 6}   // Allow keyboard to dismiss on iOS or last field\n          maxLength={name === 'postcode' ? 4 : (name === 'contactNumber' ? 10 : additionalProps?.maxLength)}\n          placeholder={additionalProps?.placeholder}\n          {...additionalProps}\n        />\n      </View>\n      {formSubmitAttempted && errors[name] ? \n        <Text style={styles.errorText}>{errors[name]}</Text> : null}\n    </View>\n  );\n};\n\n    return (\n      <View style={styles.mainContainer}>\n        {/* Floating Back Button */}\n        <TouchableOpacity \n          style={styles.floatingBackButton}\n          onPress={() => navigation.goBack()}\n        >\n          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n            <Path \n              d=\"M19 12H5M12 19L5 12L12 5\" \n              stroke=\"#4a4a4a\" \n              strokeWidth=\"2.5\" \n              strokeLinecap=\"round\" \n              strokeLinejoin=\"round\"\n            />\n          </Svg>\n        </TouchableOpacity>\n    \n        <ScrollableGradientWrapper>\n          <SafeAreaView style={styles.container}>\n            <View style={styles.logoContainer}>\n              <Image\n                source={require('../assets/fluidpower_logo.gif')}\n                style={styles.logo}\n                resizeMode=\"contain\"\n              />\n            </View>\n            \n            {showDevModeEasterEgg && (\n              <Animated.View style={styles.devModeEasterEgg}>\n                <Text style={styles.devModeText}> Developer Mode Activated! </Text>\n              </Animated.View>\n            )}\n            \n            <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\n              <ScrollView \n                style={styles.mainScrollView}\n                contentContainerStyle={styles.mainScrollViewContent}\n                showsVerticalScrollIndicator={true}\n              >\n                <View style={styles.titleContainer}>\n                  <Text style={styles.titleText}>Shipping Details</Text>\n                </View>\n                <Text style={styles.requiredFieldsText}>Fields marked with * are required</Text>\n            \n            <View style={styles.formContainer}>\n              {renderInputField('Name', 'name', 0)}\n              {renderInputField('Company Name', 'companyName', 1, 'default', true)}\n              {renderInputField('Address', 'address', 2)}\n              {renderInputField('Suburb', 'suburb', 3)}\n      \n              {/* State Picker */}\n              <View style={styles.inputRow}>\n                <View style={styles.labelContainer}>\n                  <Text style={styles.labelText}>\n                    State<Text style={styles.asterisk}>*</Text>\n                  </Text>\n                </View>\n                <View style={styles.pickerContainer}>\n                  <Picker\n                    selectedValue={formFields.state}\n                    onValueChange={(itemValue) => {\n                      updateField('state', itemValue);\n                      if (Platform.OS === 'ios') {\n                        // On iOS, immediately validate after selection\n                        const error = validateField('state', itemValue);\n                        setErrors(prev => ({\n                          ...prev,\n                          state: error\n                        }));\n                        setTouchedFields(prev => ({\n                          ...prev,\n                          state: true\n                        }));\n                      }\n                    }}\n                    style={styles.picker}\n                    itemStyle={{ fontSize: 20, fontWeight: 'bold' }}\n                  >\n                    {STATES.map((state) => (\n                      <Picker.Item \n                        key={state} \n                        label={state} \n                        value={state}\n                        style={{ fontSize: 20, fontWeight: 'bold' }}\n                      />\n                    ))}\n                  </Picker>\n                </View>\n                {formSubmitAttempted && errors.state ? \n                  <Text style={styles.errorText}>{errors.state}</Text> : null}\n              </View>\n              \n              {renderInputField('Postcode', 'postcode', 4, 'numeric')}\n              {renderInputField('Email', 'email', 5, 'email-address')}\n              {renderInputField('Contact Number', 'contactNumber', 6, 'numeric', false, { maxLength: 10 })}\n              \n              {/* Proceed to Payment Button - Always visible */}\n              <TouchableOpacity \n                style={[\n                  styles.proceedButton,\n                  { backgroundColor: isSelected ? '#ffc100' : 'transparent' },\n                  { borderColor: '#4a4a4a' }\n                ]}\n                onPress={handleNext}\n                activeOpacity={0.8}\n              >\n                <Text style={styles.proceedButtonText}>Proceed to Payment</Text>\n              </TouchableOpacity>\n              </View>\n          </ScrollView>\n        </Animated.View>\n      </SafeAreaView>\n    </ScrollableGradientWrapper>\n  </View>\n)\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  mainScrollView: {\n    flex: 1,\n  },\n  mainScrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: 20,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 10,\n    paddingBottom: 20,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',  // This ensures horizontal centering\n    paddingHorizontal: 20, // Add horizontal padding\n    width: '100%',        // Ensure full width\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginTop: 15,\n    marginBottom: 20,\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,  // Increased padding\n    alignSelf: 'center',\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  requiredFieldsText: {\n    color: 'red',\n    fontSize: 16,\n    marginTop: 5,\n    marginBottom: 15,\n    alignItems: 'center', // Center the form elements\n    alignSelf: 'center',\n  },\n  asterisk: {\n    color: 'red',\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  formContainer: {\n    width: '100%',\n    maxWidth: 400,       // Maximum width for the form\n    alignItems: 'center', // Center the form elements\n    alignSelf: 'center',  // Center the container itself\n  },\n  inputRow: {\n    marginBottom: 20,\n    width: '100%',   \n  },\n  labelContainer: {\n    marginBottom: 5,\n  },\n  labelText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  input: {\n    width: '100%',      // Ensure full width\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'left',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 10,\n    height: 40,\n    paddingHorizontal: 10,\n  },\n  pickerContainer: {\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 10,\n    overflow: 'hidden',\n    width: '100%', \n  },\n  picker: {\n    height: 40,\n    backgroundColor: 'transparent',\n  },\n  inputError: {\n    borderColor: 'red',\n  },\n  errorText: {\n    color: 'red',\n    fontSize: 14,\n    marginTop: 5,\n  },\n  proceedButton: {\n    marginTop: 30,\n    marginBottom: 20,\n    paddingVertical: 12,\n    paddingHorizontal: 20,\n    borderRadius: 25,\n    borderWidth: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center',\n    minWidth: 200,\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n},\nproceedButtonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n},\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n    backgroundColor: 'transparent',\n  },\n  footerLeft: {\n    flex: 1,\n  },\n  footerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  footerRight: {\n    flex: 1,\n    alignItems: 'flex-end',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  devModeEasterEgg: {\n    backgroundColor: '#4a4a4a',\n    padding: 10,\n    borderRadius: 10,\n    marginHorizontal: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 10,\n    // Add a subtle animation effect\n    shadowColor: '#ffc100',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.8,\n    shadowRadius: 3.84,\n    elevation:\n    5,\n  },\n  devModeText: {\n    color: '#ffc100',\n    fontWeight: 'bold',\n    fontSize: 18,\n  },\n});\n\nexport default ShippingDetailsScreen;","// PayPalButtonWrapper - With dynamic script loading fallback\nimport React, { useEffect, useRef, useState } from 'react';\nimport { View, Platform, Text, ActivityIndicator, StyleSheet } from 'react-native';\n\nconst PayPalButtonWrapper = ({\n    amount,\n    currency = 'AUD',\n    description = 'FluidPower Order',\n    onApprove,\n    onCancel,\n    onError,\n    disabled\n}) => {\n    const containerRef = useRef(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [sdkReady, setSdkReady] = useState(false);\n    const scriptAddedRef = useRef(false);\n    \n    // First useEffect: Handle SDK loading with fallback\n    useEffect(() => {\n        // Only run on web platform\n        if (Platform.OS !== 'web') return;\n        \n        console.log(\"PayPalButtonWrapper: Initializing PayPal integration\");\n        \n        // Function to check if SDK is loaded\n        const checkSDK = () => {\n            if (window.paypal) {\n                console.log(\"PayPalButtonWrapper: PayPal SDK detected\");\n                setSdkReady(true);\n                return true;\n            }\n            return false;\n        };\n        \n        // Function to dynamically add script if needed\n        const addPayPalScript = () => {\n            if (scriptAddedRef.current) return;\n            \n            console.log(\"PayPalButtonWrapper: Dynamically adding PayPal script\");\n            scriptAddedRef.current = true;\n            \n            const script = document.createElement('script');\n            script.src = \"https://www.paypal.com/sdk/js?client-id=AdYLJtivoqNzTAJ9-pho-cB5TcaSgg1MuOo_Hc-ENlSG9Upab9GQsO0Uip95jaGXL6vdCNyCT88erFnA&currency=AUD\";\n            script.async = true;\n            \n            script.onload = () => {\n                console.log(\"PayPalButtonWrapper: Dynamically added script loaded\");\n                setSdkReady(true);\n            };\n            \n            script.onerror = (err) => {\n                console.error(\"PayPalButtonWrapper: Script load error:\", err);\n                if (onError) onError(new Error(\"PayPal SDK failed to load\"));\n            };\n            \n            document.head.appendChild(script);\n        };\n        \n        // Check immediately if SDK is loaded from initial script tag\n        if (checkSDK()) {\n            return;\n        }\n        \n        // Listen for the custom event from the index.html script\n        const handleSDKReady = () => {\n            console.log(\"PayPalButtonWrapper: PayPal SDK ready event detected\");\n            setSdkReady(true);\n        };\n        document.addEventListener('paypal-sdk-loaded', handleSDKReady);\n        \n        // Wait a short time, then check again before trying to add the script\n        const initialTimeout = setTimeout(() => {\n            if (!checkSDK()) {\n                console.log(\"PayPalButtonWrapper: SDK not found after initial wait, adding script\");\n                addPayPalScript();\n            }\n        }, 1000);\n        \n        return () => {\n            clearTimeout(initialTimeout);\n            document.removeEventListener('paypal-sdk-loaded', handleSDKReady);\n        };\n    }, [onError]);\n    \n    // Second useEffect: Render PayPal buttons when SDK is ready\n    useEffect(() => {\n        // Only proceed if SDK is ready, we're on web, and have a valid container\n        if (!sdkReady || Platform.OS !== 'web' || !containerRef.current || disabled) return;\n        \n        // Additional delay before rendering to ensure SDK is fully initialized\n        const renderTimeout = setTimeout(() => {\n            // Clear any previous content\n            if (containerRef.current) {\n                containerRef.current.innerHTML = '';\n            }\n            \n            // Skip if amount is invalid\n            if (isNaN(amount) || amount <= 0) {\n                console.error('PayPalButtonWrapper: Invalid amount for PayPal', amount);\n                if (onError) onError(new Error('Invalid amount'));\n                return;\n            }\n            \n            console.log(\"PayPalButtonWrapper: Starting PayPal button render\");\n            \n            try {\n                // Create the PayPal buttons\n                window.paypal.Buttons({\n                    // Style\n                    style: {\n                        layout: 'vertical',\n                        color: 'gold',\n                        shape: 'rect',\n                        label: 'paypal',\n                        height: 50\n                    },\n                    \n                    // Create order\n                    createOrder: function(data, actions) {\n                        console.log('PayPalButtonWrapper: createOrder triggered');\n                        setIsLoading(true);\n                        \n                        return actions.order.create({\n                            purchase_units: [{\n                                amount: {\n                                    value: amount.toFixed(2),\n                                    currency_code: currency\n                                },\n                                description: description\n                            }],\n                            application_context: {\n                                shipping_preference: 'NO_SHIPPING',\n                                user_action: 'PAY_NOW',\n                            }\n                        });\n                    },\n                    \n                    // Payment approved\n                    onApprove: function(data, actions) {\n                        setIsLoading(false);\n                        \n                        if (onApprove) {\n                            onApprove(data);\n                        } else {\n                            return actions.order.capture().then(function(details) {\n                                console.log('PayPalButtonWrapper: Payment completed', details);\n                            });\n                        }\n                    },\n                    \n                    // Payment cancelled\n                    onCancel: function(data) {\n                        console.log('PayPalButtonWrapper: Payment cancelled', data);\n                        setIsLoading(false);\n                        if (onCancel) onCancel(data);\n                    },\n                    \n                    // Error occurred\n                    onError: function(err) {\n                        console.error('PayPalButtonWrapper: PayPal error', err);\n                        setIsLoading(false);\n                        if (onError) onError(err);\n                    }\n                }).render(containerRef.current).then(() => {\n                    console.log(\"PayPalButtonWrapper: Render successful.\");\n                }).catch(err => {\n                    console.error(\"PayPalButtonWrapper: Render failed:\", err);\n                    if (onError) onError(err);\n                });\n            } catch (error) {\n                console.error('PayPalButtonWrapper: Error rendering PayPal buttons', error);\n                if (onError) onError(error);\n            }\n        }, 500);\n        \n        return () => {\n            clearTimeout(renderTimeout);\n            if (containerRef.current) {\n                containerRef.current.innerHTML = '';\n            }\n        };\n    }, [sdkReady, amount, currency, description, onApprove, onCancel, onError, disabled]);\n    \n    // Render container\n    return (\n        <View style={styles.container}>\n            {Platform.OS === 'web' ? (\n                <>\n                    {!sdkReady ? (\n                        <View style={styles.loadingContainer}>\n                            <ActivityIndicator size=\"small\" color=\"#999\" />\n                            <Text style={styles.loadingText}>Loading PayPal...</Text>\n                        </View>\n                    ) : (\n                        <div \n                            ref={containerRef}\n                            style={styles.paypalContainer}\n                        />\n                    )}\n                </>\n            ) : (\n                <Text style={styles.unsupportedText}>\n                    PayPal is only available on web platforms\n                </Text>\n            )}\n            {(disabled || isLoading) && sdkReady && (\n                <View style={styles.disabledOverlay}>\n                    <ActivityIndicator size=\"small\" color=\"#999\" />\n                    <Text style={styles.disabledText}>Processing payment...</Text>\n                </View>\n            )}\n        </View>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        width: '100%',\n        minHeight: 50,\n        position: 'relative'\n    },\n    paypalContainer: {\n        width: '100%',\n        minHeight: 50\n    },\n    loadingContainer: {\n        width: '100%',\n        minHeight: 50,\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: '#f7f7f7',\n        borderRadius: 4\n    },\n    loadingText: {\n        marginTop: 8,\n        color: '#666',\n        fontSize: 14\n    },\n    unsupportedText: {\n        textAlign: 'center',\n        padding: 15,\n        color: '#666'\n    },\n    disabledOverlay: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(255, 255, 255, 0.8)',\n        justifyContent: 'center',\n        alignItems: 'center',\n        zIndex: 1\n    },\n    disabledText: {\n        marginTop: 10,\n        color: '#666',\n        fontSize: 14\n    }\n});\n\nexport default PayPalButtonWrapper;","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport {\n  View, Text, StyleSheet, SafeAreaView, Image, ScrollView,\n  Animated, TouchableOpacity, Platform, ActivityIndicator, Alert\n} from 'react-native';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport PayPalButtonWrapper from '../components/PayPalButtonWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst PaymentScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  \n  // Simple payment status\n  const [paymentStatus, setPaymentStatus] = useState('idle'); // 'idle', 'processing', 'success', 'cancelled', 'error'\n  const [errorMessage, setErrorMessage] = useState('');\n  // --- Extract route parameters ---\n  const {\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice,\n    isDevMode: devModeActive,\n    isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod = 'Standard',\n    selectedService = 'Standard Shipping',\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    shippingDetails\n  } = route.params || {};\n\n  // --- Helper Functions ---\n  const cleanPriceString = (priceStr) => {\n    if (!priceStr) return 0;\n    return parseFloat(priceStr.replace(/\\s+/g, '').split('/')[0]);\n  };\n\n  // Calculation function that preserves fittings only mode\n  const calculateTotalBeforeShipping = useCallback(() => {\n    // If we're in isOrderFittingMode, use the cutLengthPrice directly\n    if (isOrderFittingMode) {\n      return cutLengthPrice || 0;\n    }\n\n    // For normal hose orders\n    const end1Cost = typeof end1Price === 'number' ? end1Price : parseFloat(end1Price) || 0;\n    const end2Cost = typeof end2Price === 'number' ? end2Price : parseFloat(end2Price) || 0;\n\n    // Get base hose price from cut lengths\n    let cutLengthCost = 0;\n    if (cutLengths && cutLengths.length > 0) {\n      const totalLength = cutLengths.reduce((total, cut) => {\n        if (!cut.length) return total;\n        return total + (parseFloat(cut.length) / 1000); // Convert mm to meters\n      }, 0);\n      \n      cutLengthCost = totalLength * cleanPriceString(selectedHosePrice);\n    } else {\n      cutLengthCost = cutLengthPrice || 0;\n    }\n\n    // Get protection cost\n    const protectionAmount = selectedProtection === 'NOT REQUIRED' ? 0 : (protectionCost || 0);\n\n    // Get pressure test cost\n    const pressureTestAmount = selectedPressure === 'Not Required' ? 0 : (pressureTestPrice || 0);\n\n    // Sum all components\n    return end1Cost + end2Cost + cutLengthCost + protectionAmount + pressureTestAmount;\n  }, [isOrderFittingMode, cutLengthPrice, end1Price, end2Price, cutLengths, selectedHosePrice, selectedProtection, protectionCost, selectedPressure, pressureTestPrice]);\n\n  // Price calculations\n  const calculatedSubtotal = calculateTotalBeforeShipping();\n  const subtotal = isOrderFittingMode ? cutLengthPrice : (totalBeforeShipping || calculatedSubtotal);\n  const shippingAmount = devModeActive ? 0 : (shippingCost || 12.85);\n  const total = subtotal + shippingAmount;\n  const gst = total * 0.10;\n  const finalTotal = devModeActive ? 0.20 : (total + gst);\n\n  useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS !== 'web',\n    }).start();\n  }, [fadeAnim]);\n\n  // --- PayPal Event Handlers ---\n  const handlePayPalApprove = useCallback(async (sdkData) => { \n    \n    if (!sdkData || !sdkData.orderID) {\n      console.error(\"PaymentScreen: Approve callback missing orderID!\");\n      setPaymentStatus('error');\n      setErrorMessage('Critical error after PayPal approval. Missing Order ID.');\n      return;\n    }\n    \n    setPaymentStatus('processing');\n    \n    // Create an internal order number\n    const internalOrderNumber = `FPG-${Date.now()}`;\n    \n    try {\n      // Option 1: Quick demo approach - just use the PayPal order ID without server-side capture\n     /* setTimeout(() => {\n        console.log(\"PaymentScreen: Demo payment processed successfully\");\n        navigation.replace('OrderConfirmation', {\n          success: true,\n          orderDetails: {\n            orderID: sdkData.orderID,\n            orderNumber: internalOrderNumber,\n            totalAmount: finalTotal,\n            userDetails: shippingDetails\n          }\n        });\n      }, 1500); */\n      \n      \n      // Option 2: Server-side capture (This can be uncommented when your backend is fully ready)\n      const emailTemplatesContent = {\n        customerEmailContent: `<p>Thank you for your order, ${route.params?.shippingDetails?.name || 'Customer'}!</p><p>Your Order Number: ${internalOrderNumber}</p><p>Amount: A$${finalTotal.toFixed(2)}</p>`,\n        businessEmailContent: `<p>New order ${internalOrderNumber}.</p><p>Customer: ${route.params?.shippingDetails?.name || 'N/A'}</p><p>Email: ${route.params?.shippingDetails?.email || 'N/A'}</p><p>Amount: A$${finalTotal.toFixed(2)}</p>`\n      };\n  \n      const payloadForBackend = {\n        orderID: sdkData.orderID,\n        payerID: sdkData.payerID,\n        orderNumber: internalOrderNumber,\n        userDetails: route.params?.shippingDetails,\n        emailTemplates: emailTemplatesContent,\n        originalOrderParams: route.params\n      };\n      \n      console.log(\"PaymentScreen: Payload successfully prepared for backend capture\");\n  \n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/paypal/capture-order`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payloadForBackend)\n      });\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        let errorJson;\n        try {\n          errorJson = JSON.parse(errorText);\n        } catch (e) {\n          // If parsing fails, use the raw text\n        }\n        \n        const errorMessage = errorJson?.error || `Server error: ${response.status}`;\n        throw new Error(errorMessage);\n      }\n      \n      const captureResult = await response.json();\n  \n      if (captureResult.success) {\n        console.log(\"PaymentScreen: Server-side capture successful!\");\n        const transactionId = captureResult.paypalCaptureID;\n        navigation.replace('OrderConfirmation', {\n          success: true,\n          orderDetails: payloadForBackend, transactionId \n        });\n      } else {\n        console.error(\"PaymentScreen: Server-side capture failed:\", captureResult.error);\n        setPaymentStatus('error');\n        setErrorMessage(captureResult.error || 'An error occurred processing your payment after approval.');\n      }\n      \n      \n    } catch (error) {\n      console.error(\"PaymentScreen: Error in payment process:\", error);\n      setPaymentStatus('error');\n      setErrorMessage(error.message || 'A network error occurred while finalizing your payment.');\n    }\n  }, [navigation, finalTotal, shippingDetails]);\n\n\n\n  const handlePayPalCancel = useCallback((data) => {\n    console.log('Payment cancelled:', data);\n    setPaymentStatus('cancelled');\n  }, []);\n\n  const handlePayPalError = useCallback((error) => {\n    console.error('Payment error:', error);\n    setPaymentStatus('error');\n    setErrorMessage(error.message || 'An error occurred during payment');\n    \n    Alert.alert(\n      'Payment Error',\n      'There was a problem with your payment. Please try again.'\n    );\n  }, []);\n\n  const handleRetryPayment = useCallback(() => {\n    setPaymentStatus('idle');\n    setErrorMessage('');\n  }, []);\n\n  const handleStartNewOrder = useCallback(() => {\n    navigation.reset({\n      index: 0,\n      routes: [{ name: 'Welcome' }]\n    });\n  }, [navigation]);\n\n  // --- Clean up on unmount ---\n  useEffect(() => {\n    return () => {\n      // Reset any global state or cleanup\n      //console.log(\"PaymentScreen unmounting - performing cleanup\");\n    };\n  }, []);\n\n  // --- UI Components ---\n  const renderShippingDetails = () => (\n    <View style={styles.shippingDetailsContainer}>\n      <View style={styles.sectionTitleContainer}>\n        <Text style={styles.sectionTitleText}>Shipping Details</Text>\n      </View>\n      <View style={styles.detailsGrid}>\n        {shippingDetails?.name && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Name:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.name}</Text>\n          </View>\n        )}\n        {shippingDetails?.companyName && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Company:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.companyName}</Text>\n          </View>\n        )}\n        {shippingDetails?.address && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Address:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.address}</Text>\n          </View>\n        )}\n        {shippingDetails?.suburb && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Suburb:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.suburb}</Text>\n          </View>\n        )}\n        {shippingDetails?.state && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>State:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.state}</Text>\n          </View>\n        )}\n        {shippingDetails?.postcode && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Postcode:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.postcode}</Text>\n          </View>\n        )}\n        {shippingDetails?.email && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Email:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.email}</Text>\n          </View>\n        )}\n        {shippingDetails?.contactNumber && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Contact:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.contactNumber}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderPriceBreakdown = () => (\n    <View style={styles.priceBreakdownContainer}>\n      <View style={styles.sectionTitleContainer}>\n        <Text style={styles.sectionTitleText}>Price Breakdown</Text>\n      </View>\n      <View style={styles.priceDetailsGrid}>\n        <View style={styles.priceRow}>\n          <Text style={styles.priceLabel}>Subtotal:</Text>\n          <Text style={styles.priceValue}>A${subtotal.toFixed(2)}</Text>\n        </View>\n        <View style={styles.priceRow}>\n          <Text style={styles.priceLabel}>Shipping Cost:</Text>\n          <Text style={styles.priceValue}>\n            {shippingAmount > 0 ? `A$${shippingAmount.toFixed(2)}` : 'FREE'}\n          </Text>\n        </View>\n        <View style={styles.priceRow}>\n          <Text style={styles.priceLabel}>GST (10%):</Text>\n          <Text style={styles.priceValue}>A${gst.toFixed(2)}</Text>\n        </View>\n      </View>\n    </View>\n  );\n\n  const renderStatusMessage = () => {\n    if (paymentStatus === 'cancelled') {\n      return (\n        <View style={[styles.statusContainer, { backgroundColor: '#fff3cd' }]}>\n          <Text style={styles.statusTitle}>Payment Cancelled</Text>\n          <Text style={styles.statusMessage}>\n            Your payment was cancelled. No charges have been applied.\n          </Text>\n          <TouchableOpacity style={styles.retryButton} onPress={handleRetryPayment}>\n            <Text style={styles.buttonText}>Try Again</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.newOrderButton} onPress={handleStartNewOrder}>\n            <Text style={styles.buttonText}>Start New Order</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    \n    if (paymentStatus === 'error') {\n      return (\n        <View style={[styles.statusContainer, { backgroundColor: '#f8d7da' }]}>\n          <Text style={styles.statusTitle}>Payment Error</Text>\n          <Text style={styles.statusMessage}>\n            {errorMessage || 'There was a problem processing your payment.'}\n          </Text>\n          <TouchableOpacity style={styles.retryButton} onPress={handleRetryPayment}>\n            <Text style={styles.buttonText}>Try Again</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.newOrderButton} onPress={handleStartNewOrder}>\n            <Text style={styles.buttonText}>Start New Order</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    \n    return null;\n  };\n\n  // --- Main Render ---\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Back Button */}\n      <TouchableOpacity \n          style={styles.floatingBackButton}\n          onPress={() => navigation.goBack()}\n        >\n          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n        </TouchableOpacity>\n      \n      <ScrollableGradientWrapper>\n        <SafeAreaView style={styles.container}>\n          {/* Logo */}\n          <View style={styles.logoContainer}>\n            <Image \n              source={require('../assets/fluidpower_logo.gif')} \n              style={styles.logo} \n              resizeMode=\"contain\"\n            />\n          </View>\n          \n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\n            <ScrollView \n              contentContainerStyle={styles.scrollContent}\n              showsVerticalScrollIndicator={true}\n            >\n              {/* Payment details title \n              <View style={styles.pageTitle}>\n                <Text style={styles.pageTitleText}>Payment Details</Text>\n              </View>*/}\n              \n              <View style={styles.formContainer}>\n                {/* Shipping details */}\n                {renderShippingDetails()}\n                \n                {/* Price summary (simplified) \n                <View style={styles.sectionContainer}>\n                  <View style={styles.sectionHeader}>\n                    <Text style={styles.sectionTitle}>Price Summary</Text>\n                  </View>\n                  <View style={styles.detailsGrid}>\n                    <View style={styles.detailRow}>\n                      <Text style={styles.detailLabel}>Total Amount:</Text>\n                      <Text style={styles.detailValue}>A${finalTotal.toFixed(2)}</Text>\n                    </View>\n                  </View>\n                </View>*/}\n\n                {renderPriceBreakdown()}\n                \n                {/* Total amount */}\n                <View style={styles.totalContainer}>\n                  <Text style={styles.totalText}>\n                    {devModeActive ? 'Dev Mode Amount: ' : 'Total Amount: '}\n                    A${finalTotal.toFixed(2)}\n                  </Text>\n                </View>\n                \n                {/* PayPal payment */}\n                <View style={styles.paymentContainer}>\n                  {paymentStatus === 'idle' ? (\n                    <>\n                      <PayPalButtonWrapper \n                        amount={finalTotal}\n                        description={`FluidPower Order - Total A$${finalTotal.toFixed(2)}`}\n                        onApprove={handlePayPalApprove}\n                        onCancel={handlePayPalCancel}\n                        onError={handlePayPalError}\n                        disabled={paymentStatus === 'processing'}\n                      />\n                      <Text style={styles.paymentNote}>\n                        Secure payment processed by PayPal. You don't need a PayPal account to pay.\n                      </Text>\n                    </>\n                  ) : (\n                    renderStatusMessage()\n                  )}\n                </View>\n              </View>\n            </ScrollView>\n          </Animated.View>\n        </SafeAreaView>\n      </ScrollableGradientWrapper>\n      \n      {/* Processing overlay */}\n      {paymentStatus === 'processing' && (\n        <View style={styles.overlay}>\n          <ActivityIndicator size=\"large\" color=\"#4a4a4a\" />\n          <Text style={styles.overlayText}>Processing your payment...</Text>\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingBottom: 40,\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginTop: 15,\n    marginBottom: 20,\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  formContainer: {\n    width: '100%',\n    maxWidth: 400,\n    paddingHorizontal: 20,\n    paddingBottom: 30,\n  },\n  totalContainer: {\n    backgroundColor: '#ffc100',\n    borderRadius: 25,\n    padding: 15,\n    marginBottom: 20,\n    alignItems: 'center',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n  },\n  totalText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  paypalContainer: {\n    marginTop: 20,\n    alignItems: 'center',\n    width: '100%',\n  },\n  securePaymentText: {\n    marginTop: 10,\n    fontSize: 14,\n    color: '#666',\n    textAlign: 'center',\n  },\n  shippingDetailsContainer: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    padding: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  sectionTitleContainer: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 10,\n    padding: 8,\n    marginBottom: 15,\n    alignItems: 'center',\n  },\n  sectionTitleText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  detailsGrid: {\n    gap: 10,\n  },\n  detailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 5,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  detailLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    flex: 2,\n    textAlign: 'right',\n  },\n  priceBreakdownContainer: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    padding: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceDetailsGrid: {\n    gap: 10,\n  },\n  priceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  priceLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n  },\n  priceValue: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    fontWeight: 'bold',\n    textAlign: 'right',\n  },\n  loadingOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 999,\n  },\n  loadingText: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    fontWeight: 'bold',\n    marginTop: 15,\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  statusContainer: {\n    width: '100%',\n    padding: 20,\n    borderRadius: 15,\n    alignItems: 'center',\n    marginVertical: 15,\n    borderWidth: 2,\n  },\n  cancelledContainer: {\n    backgroundColor: '#f5f5f5',\n    borderColor: '#4a4a4a',\n  },\n  errorContainer: {\n    backgroundColor: '#f8d7da',\n    borderColor: '#f5c6cb',\n  },\n  statusTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#721c24',\n    marginBottom: 10,\n  },\n  statusMessage: {\n    fontSize: 16,\n    color: '#721c24',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  retryButton: {\n    backgroundColor: '#ffc100',\n    paddingVertical: 12,\n    paddingHorizontal: 30,\n    borderRadius: 25,\n    marginBottom: 15,\n    minWidth: 200,\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  retryButtonText: {\n    color: '#142C8E',\n    fontSize: 22,\n    fontWeight: 'bold',\n  },\n  newOrderButton: {\n    backgroundColor: '#e9ecef',\n    paddingVertical: 12,\n    paddingHorizontal: 30,\n    borderRadius: 25,\n    minWidth: 200,\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  newOrderButtonText: {\n    color: '#495057',\n    fontSize: 22,\n    fontWeight: 'bold',\n  }\n});\n\nexport default PaymentScreen;","// utils/emailService.js\n\nexport const sendOrderEmail = async (orderDetailsFromConfirmation) => { // Renamed param for clarity\n  \n  try {\n    // Use environment variable for API URL (ensure it's set correctly, e.g., http://localhost:3000)\n    // Make sure this evaluates correctly in your environment\n    const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || process.env.REACT_APP_API_URL || 'http://localhost:3000'; // Add fallbacks\n    const SERVER_KEY = process.env.NEXT_PUBLIC_SERVER_KEY || process.env.REACT_APP_SERVER_KEY; // Get server key\n\n    if (!API_BASE_URL) {\n        console.error(\"[emailService] API_BASE_URL is not defined.\");\n        throw new Error(\"API URL configuration error.\");\n    }\n     if (!SERVER_KEY) {\n        console.error(\"[emailService] SERVER_KEY is not defined.\");\n        throw new Error(\"Server key configuration error.\");\n    }\n\n    // --- Recalculate Price Breakdown using the correct function ---\n    // Ensure calculatePriceBreakdown is robust and uses nested params correctly\n    const priceBreakdown = calculatePriceBreakdown(orderDetailsFromConfirmation); // Use the function below\n\n    // --- Generate HTML Content ---\n    // Ensure these functions use the correct priceBreakdown object\n    const priceBreakdownHTML = generatePriceBreakdownHTML(priceBreakdown);\n    const businessEmailContent = generateBusinessEmailContent(orderDetailsFromConfirmation, priceBreakdownHTML);\n    const customerEmailContent = generateCustomerEmailContent(orderDetailsFromConfirmation, priceBreakdownHTML);\n\n    // --- Prepare PDF Attachment ---\n    let pdfBase64 = null; // Rename for clarity\n    if (orderDetailsFromConfirmation.pdfAttachment) {\n      try {\n         // Assuming pdfAttachment is already a base64 string or ArrayBuffer/Buffer from PDFGenerator\n         if (typeof orderDetailsFromConfirmation.pdfAttachment === 'string') {\n             pdfBase64 = orderDetailsFromConfirmation.pdfAttachment; // Already base64\n         } else if (orderDetailsFromConfirmation.pdfAttachment instanceof ArrayBuffer || Buffer.isBuffer(orderDetailsFromConfirmation.pdfAttachment)) {\n             // Convert ArrayBuffer/Buffer to base64\n             const buffer = Buffer.from(orderDetailsFromConfirmation.pdfAttachment);\n             pdfBase64 = buffer.toString('base64');\n         } else {\n             console.warn(\"[emailService] pdfAttachment is in an unexpected format:\", typeof orderDetailsFromConfirmation.pdfAttachment);\n             // Handle other types if necessary, or default to null\n         }\n      } catch (pdfError) {\n          console.error(\"[emailService] Error processing pdfAttachment:\", pdfError);\n          // pdfBase64 remains null\n      }\n    }\n\n    // --- *** CORRECTLY Construct the payload for the backend *** ---\n    const payloadToSend = {\n      // Explicitly include fields expected by /api/send-email\n      orderNumber: orderDetailsFromConfirmation.orderNumber || 'Unknown', // Get from top level\n      userDetails: orderDetailsFromConfirmation.userDetails || {}, // Get from top level\n      pdfAttachment: pdfBase64, // Use the processed base64 string\n      emailTemplates: { // Pass the generated HTML content\n        businessEmailContent: businessEmailContent,\n        customerEmailContent: customerEmailContent\n      },\n      // Include userEmail as a fallback if needed by backend validation\n      userEmail: orderDetailsFromConfirmation.userDetails?.email // Can add fallback if needed\n    };\n\n    // --- Send to server ---\n    const response = await fetch(`${API_BASE_URL}/api/send-email`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        // Use the correct server key environment variable\n        'x-server-key': SERVER_KEY,\n      },\n      body: JSON.stringify(payloadToSend) // Send the correctly structured payload\n    });\n\n    // Use .text() first to see raw response if JSON parsing fails\n    const responseText = await response.text();\n\n    if (!response.ok) {\n      // Try parsing as JSON for error message, otherwise use text\n      let errorMsg = `Failed to send email (${response.status})`;\n      try {\n          const errorData = JSON.parse(responseText);\n          errorMsg = errorData.error || errorMsg;\n      } catch (parseError) {\n          // Ignore if response wasn't JSON\n      }\n      throw new Error(errorMsg);\n    }\n\n    // Try parsing successful response as JSON\n     let data = { success: true }; // Assume success if response.ok\n     try {\n         data = JSON.parse(responseText);\n     } catch(parseError) {\n         console.warn(\"[emailService] Backend response was OK but not valid JSON:\", responseText);\n     }\n    return { success: true, data: data }; // Return success\n\n  } catch (error) {\n    console.error('[emailService] Error in sendOrderEmail:', error.message);\n    return { success: false, error: error.message }; // Return failure\n  }\n};\n\n// --- Helper Function: Calculate Price Breakdown ---\n// Ensure this function correctly accesses nested params from the input object\nconst calculatePriceBreakdown = (details) => {\n    // Default values\n    let prices = { subtotal: 0, shipping: 0, gst: 0, total: 0 };\n\n    try {\n        // Check if the necessary nested structure exists\n        if (!details || !details.originalOrderParams) {\n            console.warn(\"[emailService > calculatePriceBreakdown] originalOrderParams missing in details:\", details);\n            return prices; // Return zeroed object\n        }\n        const params = details.originalOrderParams;\n        const fittingMode = details.isOrderFittingMode ?? params.isOrderFittingMode ?? false;\n\n        if (fittingMode) {\n            const subtotal = parseFloat(params.cutLengthPrice) || 0;\n            const shipping = 12.85; // Fixed shipping for Fitting Mode? Check this logic\n            const subtotalWithShipping = subtotal + shipping;\n            const gst = subtotalWithShipping * 0.1;\n            const total = subtotalWithShipping + gst;\n            prices = { subtotal, shipping, gst, total };\n        } else { // Hose or Normal Mode\n            const end1Cost = parseFloat(params.end1Price) || 0;\n            const end2Cost = parseFloat(params.end2Price) || 0;\n            let calculatedCutLengthPrice = 0;\n            if (params.cutLengths && params.cutLengths.length > 0) {\n                 const totalLength = params.cutLengths.reduce((total, cut) => {\n                     if (!cut || !cut.length) return total;\n                     return total + (parseFloat(cut.length) / 1000);\n                 }, 0);\n                 const hosePriceStr = typeof params.selectedHosePrice === 'string' ? params.selectedHosePrice : '0';\n                 const hosePricePerMeter = parseFloat(hosePriceStr.replace(/\\s+/g, '').split('/')[0] || 0);\n                 calculatedCutLengthPrice = totalLength * hosePricePerMeter;\n            }\n            const protectionCostValue = params.selectedProtection === 'NOT REQUIRED' ? 0 : (parseFloat(params.protectionCost) || 0);\n            const pressureTestCostValue = params.selectedPressure === 'Not Required' ? 0 : (parseFloat(params.pressureTestPrice) || 0);\n            const subtotal = end1Cost + end2Cost + calculatedCutLengthPrice + protectionCostValue + pressureTestCostValue;\n            const shipping = parseFloat(params.shippingCost) ?? (params.devModeActive ? 0 : 12.85);\n            const subtotalWithShipping = subtotal + shipping;\n            const gst = subtotalWithShipping * 0.1;\n            const total = subtotalWithShipping + gst;\n            prices = { subtotal, shipping, gst, total };\n        }\n    } catch (calcError) {\n         console.error(\"[emailService > calculatePriceBreakdown] Error during calculation:\", calcError);\n         // Return default zeroed prices on error\n    }\n    return prices;\n};\n\nconst formatPrice = (amount) => `A$${amount.toFixed(2)}`;\n\nconst generatePriceBreakdownHTML = (priceBreakdown) => `\n  <h3>Price Breakdown:</h3>\n  <table style=\"width: 100%; max-width: 400px; margin: 10px 0;\">\n    <tr>\n      <td><strong>Subtotal:</strong></td>\n      <td style=\"text-align: right\">${formatPrice(priceBreakdown.subtotal)}</td>\n    </tr>\n    <tr>\n      <td><strong>Shipping:</strong></td>\n      <td style=\"text-align: right\">${formatPrice(priceBreakdown.shipping)}</td>\n    </tr>\n    <tr>\n      <td><strong>GST (10%):</strong></td>\n      <td style=\"text-align: right\">${formatPrice(priceBreakdown.gst)}</td>\n    </tr>\n    <tr style=\"border-top: 1px solid #ccc;\">\n      <td><strong>Total Amount:</strong></td>\n      <td style=\"text-align: right\"><strong>${formatPrice(priceBreakdown.total)}</strong></td>\n    </tr>\n  </table>\n`;\n\nconst generateBusinessEmailContent = (orderDetails, priceBreakdownHTML) => `\n  <h2>New Order Received</h2>\n  <p>A new order has been placed with the following details:</p>\n  <p><strong>Order Number:</strong> ${orderDetails.orderNumber || 'Unknown'}</p>\n  ${priceBreakdownHTML}\n  <p><strong>Customer Details:</strong></p>\n  <ul>\n    <li><strong>Name:</strong> ${orderDetails.userDetails?.name || 'N/A'}</li>\n    <li><strong>Email:</strong> ${orderDetails.userDetails?.email || 'N/A'}</li>\n    <li><strong>Contact:</strong> ${orderDetails.userDetails?.contactNumber || 'N/A'}</li>\n  </ul>\n  <p><strong>Shipping Address:</strong></p>\n  <p>\n    ${orderDetails.userDetails?.address || 'N/A'}<br>\n    ${orderDetails.userDetails?.suburb || ''} ${orderDetails.userDetails?.state || ''} ${orderDetails.userDetails?.postcode || ''}\n  </p>\n`;\n\nconst generateCustomerEmailContent = (orderDetails, priceBreakdownHTML) => `\n  <h2>Thank You for Your Order!</h2>\n  <p>Hi ${orderDetails.userDetails?.name || 'Valued Customer'},</p>\n  <p>Thank you for choosing FluidPower Group. We're pleased to confirm that your order has been received and is being processed.</p>\n  \n  <h3>Order Details:</h3>\n  <p><strong>Order Number:</strong> ${orderDetails.orderNumber || 'Unknown'}</p>\n  ${priceBreakdownHTML}\n  \n  <h3>Shipping Details:</h3>\n  <p>\n    ${orderDetails.userDetails?.address || 'N/A'}<br>\n    ${orderDetails.userDetails?.suburb || ''} ${orderDetails.userDetails?.state || ''} ${orderDetails.userDetails?.postcode || ''}\n  </p>\n  \n  <p>We've attached a copy of your order confirmation for your records.</p>\n  \n  <p>If you have any questions about your order, please don't hesitate to contact us:</p>\n  <ul>\n    <li>Phone: 0409 517 333</li>\n    <li>Email: info@fluidpowergroup.com.au</li>\n  </ul>\n  \n  <p>We appreciate you doing business with us!</p>\n  \n  <p>Best regards,<br>\n  FluidPower Group Team</p>\n`;","import React, { useEffect, useState, useRef, useCallback } from 'react';\nimport { \n  View, \n  Text,\n  Image, \n  StyleSheet, \n  SafeAreaView, \n  ScrollView, \n  TouchableOpacity, \n  BackHandler,\n  Dimensions,\n  Animated,\n  Platform,\n  Linking\n} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport PDFGenerator from '../components/PDFGenerator';\nimport { sendOrderEmail } from '../utils/emailService';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\n\n// Helper Components\nconst LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nconst BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nconst OrderConfirmationScreen = ({ route }) => {\n\n  const navigation = useNavigation();\n  const { success, orderDetails, error } = route.params;\n  const fadeAnim = React.useRef(new Animated.Value(1)).current;\n  const contentRef = useRef(null);\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\n  const orderId = orderDetails?.orderNumber || 'Unknown';\n  const [emailSent, setEmailSent] = useState(false);\n  const [selectedButton, setSelectedButton] = useState(null);\n\n  const {\n    userDetails,\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    paymentId,\n    orderNumber,\n    amount\n  } = orderDetails || {};\n\n    // --- MODIFIED calculatePriceBreakdown function ---\n    const calculatePriceBreakdown = (details) => {\n      // Check if the necessary nested structure exists\n      if (!details || !details.originalOrderParams) {\n          console.error(\"Calculation Error: originalOrderParams missing in details:\", details);\n          return { subtotal: 0, shipping: 0, subtotalWithShipping: 0, gst: 0, total: 0 }; // Return zeroed object\n      }\n  \n      // Access data from the nested originalOrderParams object\n      const params = details.originalOrderParams;\n  \n      // Use the isOrderFittingMode flag from the top level 'details' if passed directly,\n      // otherwise check inside originalOrderParams if it exists there\n      const fittingMode = details.isOrderFittingMode ?? params.isOrderFittingMode ?? false;\n  \n      if (fittingMode) {\n        // Use cutLengthPrice from original params if available\n        const subtotal = params.cutLengthPrice || 0;\n        const shipping = 12.85;\n        const subtotalWithShipping = subtotal + shipping;\n        const gst = subtotalWithShipping * 0.1;\n        const total = subtotalWithShipping + gst;\n        return { subtotal, shipping, subtotalWithShipping, gst, total };\n      } else {\n        // Calculate subtotal based on component prices within params\n        const end1Cost = typeof params.end1Price === 'number' ? params.end1Price : parseFloat(params.end1Price) || 0;\n        const end2Cost = typeof params.end2Price === 'number' ? params.end2Price : parseFloat(params.end2Price) || 0;\n  \n        let calculatedCutLengthPrice = 0; // Rename to avoid confusion with param\n        if (params.cutLengths && params.cutLengths.length > 0) {\n          const totalLength = params.cutLengths.reduce((total, cut) => {\n            if (!cut || !cut.length) return total; // Add check for cut object\n            return total + (parseFloat(cut.length) / 1000);\n          }, 0);\n          // Ensure selectedHosePrice is a string before replacing/splitting\n          const hosePriceStr = typeof params.selectedHosePrice === 'string' ? params.selectedHosePrice : '0';\n          const hosePricePerMeter = parseFloat(hosePriceStr.replace(/\\s+/g, '').split('/')[0] || 0);\n          calculatedCutLengthPrice = totalLength * hosePricePerMeter;\n        }\n  \n        const protectionCostValue = params.selectedProtection === 'NOT REQUIRED' ? 0 : (parseFloat(params.protectionCost) || 0);\n        const pressureTestCostValue = params.selectedPressure === 'Not Required' ? 0 : (parseFloat(params.pressureTestPrice) || 0);\n  \n        const subtotal = end1Cost + end2Cost + calculatedCutLengthPrice + protectionCostValue + pressureTestCostValue;\n  \n        // Use shippingCost from original params if available\n        const shipping = params.shippingCost ?? (params.devModeActive ? 0 : 12.85); // Use ?? for nullish coalescing\n  \n        const subtotalWithShipping = subtotal + shipping;\n        const gst = subtotalWithShipping * 0.1;\n        const total = subtotalWithShipping + gst;\n  \n        return { subtotal, shipping, subtotalWithShipping, gst, total };\n      }\n    };\n\n  // Calculate price breakdown once for the component\n  const [priceBreakdown, setPriceBreakdown] = useState({\n    subtotal: 0,\n    shipping: 0,\n    subtotalWithShipping: 0,\n    gst: 0,\n    total: 0\n  });\n  \n  // Add this useEffect to calculate price breakdown when orderDetails is available\n  useEffect(() => {\n    if (orderDetails && Object.keys(orderDetails).length > 0) {\n      const calculatedBreakdown = calculatePriceBreakdown(orderDetails);\n      setPriceBreakdown(calculatedBreakdown);\n    }\n  }, [orderDetails]);\n\n  useEffect(() => {\n    // Check if we're missing orderDetails from route params but are on web\n    if (Platform.OS === 'web' && (!orderDetails || Object.keys(orderDetails).length === 0)) {\n      // Try to get the order details from sessionStorage\n      try {\n        const storedOrderData = sessionStorage.getItem('pendingOrderData');\n        if (storedOrderData) {\n          const parsedOrderData = JSON.parse(storedOrderData);\n          // Update the route params\n          navigation.setParams({\n            orderDetails: parsedOrderData,\n            // If success isn't defined in the route, determine it from the URL\n            success: success !== undefined ? success : window.location.search.includes('success=true')\n          });\n          // Clear the stored data after using it\n          sessionStorage.removeItem('pendingOrderData');\n        }\n      } catch (error) {\n        console.error('Failed to retrieve order data from sessionStorage:', error);\n      }\n    }\n  }, [orderDetails, navigation, success]);\n\n  useEffect(() => {\n    const backHandler = BackHandler.addEventListener('hardwareBackPress', () => {\n      handlePlaceAnotherOrder();\n      return true;\n    });\n    return () => backHandler.remove();\n  }, [navigation]);\n\n  const handlePlaceAnotherOrder = () => {\n    navigation.reset({\n      index: 0,\n      routes: [{ name: 'Welcome' }],\n    });\n  };\n\n  // Auto-generate PDF when screen loads\n  useEffect(() => {\n    const autoGeneratePDF = async () => {\n      if (success && contentRef.current && !emailSent) {\n        // Wait a brief moment for content to render\n        setTimeout(async () => {\n          await generatePDF({ silent: true }); // Generate PDF without triggering download\n        }, 1000);\n      }\n    };\n\n    autoGeneratePDF();\n  }, [success, emailSent]);\n\n  const { generatePDF } = PDFGenerator({\n    contentRef,\n    orderId: orderDetails?.orderNumber || 'Unknown-Order', // Use FPG number for filename\n\n    onGenerateStart: () => {\n      setIsGeneratingPDF(true);\n    },\n\n    // *** MODIFIED onGenerateComplete Callback ***\n    onGenerateComplete: async (pdfBuffer) => {\n      const modePrefix = isOrderFittingMode ? '[Fitting Mode DEBUG]' : (orderDetails?.originalOrderParams?.cutLengths ? '[Hose/Normal DEBUG]' : '[Unknown Mode DEBUG]'); // Dynamic prefix for logs\n      setIsGeneratingPDF(false); // Set state regardless of outcome below\n\n      if (pdfBuffer && !emailSent && success) {\n          try {\n              // --- Prepare the data object to pass to emailService ---\n              // We pass the original 'orderDetails' object received by this screen,\n              // and simply add the generated PDF buffer to it.\n              // emailService will handle calculations and extraction from this structure.\n              const dataToSendToEmailService = {\n                   ...orderDetails, // Pass the original, nested structure\n                   pdfAttachment: pdfBuffer // Add the generated PDF (might be ArrayBuffer/Buffer)\n              };\n              // --- No need to calculate prices or flatten data here ---\n\n              // Call the email service utility function with the prepared data\n              const emailResult = await sendOrderEmail(dataToSendToEmailService);\n              \n              // Check the result from sendOrderEmail\n              if (emailResult && emailResult.success) {\n                  setEmailSent(true); // Mark as sent only on success from emailService\n          \n              } else {\n                   // Log the error returned by emailService\n                   console.error(`${modePrefix} sendOrderEmail reported failure:`, emailResult?.error || 'Unknown error');\n                   // Optionally alert the user that email sending failed\n                   // Alert.alert(\"Email Failed\", \"Could not send confirmation email. Please contact support if needed.\");\n              }\n\n          } catch (error) {\n              // Catch any unexpected errors during the process\n              console.error(`${modePrefix} CRITICAL ERROR in onGenerateComplete try block:`, error);\n              console.error(`${modePrefix} Error Stack:`, error.stack);\n              // Optionally alert the user\n              // Alert.alert(\"Error\", \"An unexpected error occurred while sending the confirmation email.\");\n          }\n      } else {\n      }\n    }, // End of onGenerateComplete\n\n    onError: (error) => {\n      // Log errors specifically from the PDF generation process\n      const modePrefix = isOrderFittingMode ? '[Fitting Mode DEBUG]' : (orderDetails?.originalOrderParams?.cutLengths ? '[Hose/Normal DEBUG]' : '[Unknown Mode DEBUG]');\n      console.error(`${modePrefix} PDF generation failed (onError callback):`, error);\n      setIsGeneratingPDF(false);\n       // Optionally alert the user\n      // Alert.alert(\"PDF Error\", \"Could not generate the order confirmation PDF.\");\n    }\n}); // End of PDFGenerator hook call\n\n// --- Define handlePDFDownload function AFTER the hook call ---\nconst handlePDFDownload = async () => {\n    if (isGeneratingPDF) return;\n    // Call generatePDF with 'silent: false' (or default) to trigger download/view\n    await generatePDF();\n};\n\n  const renderShippingDetails = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Shipping Details</Text>\n      </View>\n      \n      <View style={styles.detailsGrid}>\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Name:</Text>\n          <Text style={styles.detailValue}>{userDetails?.name}</Text>\n        </View>\n        \n        {userDetails?.companyName && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Company:</Text>\n            <Text style={styles.detailValue}>{userDetails.companyName}</Text>\n          </View>\n        )}\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Address:</Text>\n          <Text style={styles.detailValue}>{userDetails?.address}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Suburb:</Text>\n          <Text style={styles.detailValue}>{userDetails?.suburb}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>State:</Text>\n          <Text style={styles.detailValue}>{userDetails?.state}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Postcode:</Text>\n          <Text style={styles.detailValue}>{userDetails?.postcode}</Text>\n        </View>\n\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Email:</Text>\n          <Text style={styles.detailValue}>{userDetails?.email}</Text>\n        </View>\n        \n        {userDetails?.contactNumber && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Contact:</Text>\n            <Text style={styles.detailValue}>{userDetails.contactNumber}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n   // --- MODIFIED renderOrderSummary function ---\n   const renderOrderSummary = () => {\n    // Ensure orderDetails and originalOrderParams exist before rendering\n    if (!orderDetails || !orderDetails.originalOrderParams) {\n      return <Text>Loading order details...</Text>; // Or some placeholder\n    }\n    const params = orderDetails.originalOrderParams; // Use params for brevity\n\n    return (\n       <View style={styles.detailsBox}>\n         <View style={styles.boxHeader}>\n           <Text style={styles.boxHeaderText}>Order Summary</Text>\n         </View>\n         <View style={styles.orderDetailsContainer}>\n           {/* Display your internal order number */}\n           {orderDetails.orderNumber && (\n             <View style={styles.rowContainer}>\n               <LabelItem>ORDER NUMBER</LabelItem>\n               <BorderedItem>{orderDetails.orderNumber}</BorderedItem>\n             </View>\n           )}\n            {/* Optionally display PayPal's Order ID */}\n            {orderDetails.orderID && (\n             <View style={styles.rowContainer}>\n               <LabelItem>PAYPAL ORDER ID</LabelItem>\n               <BorderedItem>{orderDetails.orderID}</BorderedItem>\n             </View>\n           )}\n\n           {/* Display PayPal Payer ID */}\n           {orderDetails.paypalCaptureID && (\n             <View style={styles.rowContainer}>\n               <LabelItem>PAYPAL PAYMENT ID</LabelItem>\n               <BorderedItem>{orderDetails.paypalCaptureID}</BorderedItem>\n             </View>\n           )}\n\n           {/* Access item details from params */}\n           {params.selectedHose && (\n             <View style={styles.rowContainer}>\n               <LabelItem>HOSE SIZE</LabelItem>\n               <BorderedItem>\n                 {typeof params.selectedHose === 'object' && params.selectedHose.size ? params.selectedHose.size : params.selectedHose}\n               </BorderedItem>\n             </View>\n           )}\n            {params.quantity && (\n             <View style={styles.rowContainer}>\n               <LabelItem>QUANTITY</LabelItem>\n               <BorderedItem>{params.quantity}</BorderedItem>\n             </View>\n           )}\n            {params.end1Shape && params.end1Size && (\n             <View style={styles.rowContainer}>\n               <LabelItem>END1</LabelItem>\n               <BorderedItem price={params.end1Price}>\n                 {`${params.end1Shape} - ${params.end1Size}`}\n               </BorderedItem>\n             </View>\n           )}\n            {params.end2Shape && params.end2Size && (\n             <View style={styles.rowContainer}>\n               <LabelItem>END2</LabelItem>\n               <BorderedItem price={params.end2Price}>\n                 {`${params.end2Shape} - ${params.end2Size}`}\n               </BorderedItem>\n             </View>\n           )}\n            {params.selectedAngle && (\n             <View style={styles.rowContainer}>\n               <LabelItem>ANGLE</LabelItem>\n               <BorderedItem>{params.selectedAngle}</BorderedItem>\n             </View>\n           )}\n            {params.cutLengths && params.cutLengths.length > 0 && (\n              <View style={styles.rowContainer}>\n                <LabelItem>CUT LENGTHS</LabelItem>\n                <BorderedItem\n                  // Recalculate cut length price *for display* based on params\n                  price={params.cutLengths.reduce((total, cut) => {\n                    if (!cut || !cut.length) return total;\n                    const lengthInMeters = parseFloat(cut.length) / 1000;\n                    const hosePriceStr = typeof params.selectedHosePrice === 'string' ? params.selectedHosePrice : '0';\n                    const basePrice = parseFloat(hosePriceStr.replace(/\\s+/g, '').split('/')[0] || 0);\n                    return total + (lengthInMeters * basePrice);\n                  }, 0).toFixed(2)}\n                  isCutLengths={true}\n                  >\n                    <View style={styles.cutLengthsContentWrapper}>\n                      {params.cutLengths.map((cut, i) => (\n                        <View key={i} style={styles.cutLengthRow}>\n                          <View style={styles.numberedCircle}>\n                            <Text style={styles.numberedCircleText}>{i + 1}</Text>\n                          </View>\n                          <Text style={styles.cutLengthText}>\n                            {`${cut.length} ${cut.unit || 'mm'}`}\n                          </Text>\n                        </View>\n                      ))}\n                    </View>\n                  </BorderedItem>\n                </View>\n              )}\n            {params.selectedProtection && (\n              <View style={styles.rowContainer}>\n                 <LabelItem>PROTECTION</LabelItem>\n                 <BorderedItem price={params.selectedProtection === 'NOT REQUIRED' ? 'NOT REQUIRED' : params.protectionCost}>\n                    {params.selectedProtection}\n                 </BorderedItem>\n              </View>\n            )}\n            {params.selectedPressure && (\n              <View style={styles.rowContainer}>\n                <LabelItem>PRESSURE TEST</LabelItem>\n                 <BorderedItem price={params.selectedPressure === 'Not Required' ? 'NOT REQUIRED' : params.pressureTestPrice}>\n                   {params.selectedPressure}\n                 </BorderedItem>\n               </View>\n            )}\n           {/* Use calculated priceBreakdown state for final totals */}\n            <View style={styles.rowContainer}>\n               <LabelItem>SUBTOTAL</LabelItem>\n               <BorderedItem price={priceBreakdown.subtotal}>Items Total</BorderedItem>\n            </View>\n            <View style={styles.rowContainer}>\n               <LabelItem>SHIPPING COST</LabelItem>\n               <BorderedItem price={priceBreakdown.shipping === 0 ? 'FREE' : priceBreakdown.shipping}>\n                  {/* Display service name from params if needed */}\n                  {params.selectedService || 'Standard Shipping'}\n               </BorderedItem>\n            </View>\n            <View style={styles.rowContainer}>\n               <LabelItem>SUBTOTAL WITH SHIPPING</LabelItem>\n               <BorderedItem price={priceBreakdown.subtotalWithShipping}></BorderedItem>\n            </View>\n            <View style={styles.rowContainer}>\n               <LabelItem>GST (10%)</LabelItem>\n               <BorderedItem price={priceBreakdown.gst}></BorderedItem>\n            </View>\n            <View style={styles.totalContainer}>\n               <Text style={styles.totalLabel}>Total Amount (Inc. GST)</Text>\n               <Text style={styles.totalValue}>A${priceBreakdown.total.toFixed(2)}</Text>\n            </View>\n         </View>\n       </View>\n     );\n  };\n\n  if (!success) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.logoContainer}>\n          <Image\n            source={require('../assets/fluidpower_logo.gif')}\n            style={styles.logo}\n            resizeMode=\"contain\"\n          />\n        </View>\n        \n        <View style={styles.errorContainer}>\n          <View style={styles.titleWrapper}>\n            <Text style={styles.titleText}> Payment Failed</Text>\n          </View>\n          <Text style={[styles.errorText, { marginTop: 20 }]}>\n            {error || 'Payment processing failed. Please try again.'}\n          </Text>\n          \n          <View style={styles.buttonContainer}>\n            <TouchableOpacity \n              style={[\n                styles.actionButton,\n                { backgroundColor: selectedButton === 'tryAgain' ? '#ffc100' : 'transparent' }\n              ]}\n              onPress={() => {\n                setSelectedButton('tryAgain');\n                setTimeout(() => {\n                  // Navigate to Payment screen with all the necessary values\n                  navigation.navigate('Payment', {\n                    selectedHose,\n                    selectedHosePrice,\n                    selectedFitting,\n                    end1Shape,\n                    end1Size,\n                    end1Price,\n                    selectedEnd2Fitting,\n                    end2Shape,\n                    end2Size,\n                    end2Price,\n                    selectedAngle,\n                    quantity,\n                    cutLengths,\n                    cutLengthPrice,\n                    isOrderFittingMode,\n                    selectedProtection,\n                    hoseProtectionPrice,\n                    selectedPressure,\n                    pressureTestPrice,\n                    selectedMethod,\n                    selectedService,\n                    shippingCost,\n                    totalBeforeShipping,\n                    totalPriceWithShipping,\n                    protectionCost,\n                    shippingDetails: orderDetails.userDetails // Pass the shipping details\n                  });\n                }, 100);\n              }}\n              activeOpacity={0.8}\n            >\n              <Text style={styles.buttonText}>Try Again</Text>\n            </TouchableOpacity>\n  \n            <TouchableOpacity \n              style={[\n                styles.actionButton,\n                { backgroundColor: selectedButton === 'newOrder' ? '#ffc100' : 'transparent' }\n              ]}\n              onPress={() => {\n                setSelectedButton('newOrder');\n                setTimeout(handlePlaceAnotherOrder, 100);\n              }}\n              activeOpacity={0.8}\n            >\n              <Text style={styles.buttonText}>Place New Order</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  const handlePhonePress = () => {\n    Linking.openURL('tel:+61409517333');\n  };\n  \n  const handleEmailPress = () => {\n    Linking.openURL('mailto:info@fluidpowergroup.com.au');\n  };\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Buttons */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={handlePlaceAnotherOrder}\n      >\n        <Text style={styles.backButtonText}>Place New Order</Text>\n      </TouchableOpacity>\n  \n      <TouchableOpacity \n        style={[\n          styles.floatingDownloadButton,\n          isGeneratingPDF && styles.disabledButton\n        ]}\n        onPress={handlePDFDownload}\n        disabled={isGeneratingPDF}\n      >\n        <Text style={styles.backButtonText}>\n          {isGeneratingPDF ? 'Generating PDF...' : 'Download PDF'}\n        </Text>\n      </TouchableOpacity>\n  \n      <ScrollableGradientWrapper>\n        {Platform.OS === 'web' ? (\n          <>\n            {/* Screen View - This won't be included in PDF */}\n            <SafeAreaView style={styles.container}>\n              <View style={styles.logoContainer}>\n                <Image\n                  source={require('../assets/fluidpower_logo.gif')}\n                  style={styles.logo}\n                  resizeMode=\"contain\"\n                />\n              </View>\n  \n              <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\n                <View style={styles.titleContainer}>\n                  <View style={styles.titleWrapper}>\n                    <Text style={styles.titleText}>\n                      {success ? ' Payment Successful!' : ' Payment Failed'}\n                    </Text>\n                  </View>\n                </View>\n  \n                <Text style={styles.successTitle}>Thank You for Your Order!</Text>\n                <Text style={styles.emailTitle}>Don't forget to check Junk/Spam folder for Confirmation email</Text>\n                <Text style={styles.emailTitle2}>Confirmation emails are sent from{' '}\n                  <Text style={styles.highlightedEmail}>orders@fluidpowergroup.com.au</Text>\n                </Text>\n  \n                <ScrollView \n                  style={styles.mainScrollView}\n                  contentContainerStyle={styles.mainScrollViewContent}\n                  showsVerticalScrollIndicator={true}\n                >\n                  {success ? (\n                    <>\n                      {renderOrderSummary()}\n                      {renderShippingDetails()}\n                    </>\n                  ) : (\n                    <View style={styles.errorContainer}>\n                      {/* Error content */}\n                    </View>\n                  )}\n                </ScrollView>\n\n                {/* Add this View container here */}\n                <View style={styles.copyrightContainer}>\n                  <Text style={styles.enquiryText}>\n                    For any and all enquiries:\n                  </Text>\n                  \n                  <TouchableOpacity \n                    onPress={handlePhonePress}\n                    style={styles.touchableArea}\n                  >\n                    <Text style={styles.contactText}>\n                      +61 409 517 333\n                    </Text>\n                  </TouchableOpacity>\n                  \n                  <TouchableOpacity \n                    onPress={handleEmailPress}\n                    style={styles.touchableArea}\n                  >\n                    <Text style={styles.contactText}>\n                      email: info@fluidpowergroup.com.au\n                    </Text>\n                  </TouchableOpacity>\n\n                  <Text style={styles.copyrightText}>\n                    FluidPower Group All Rights Reserved {new Date().getFullYear()}\n                  </Text>\n                </View>\n              </Animated.View>\n            </SafeAreaView>\n  \n            {/* PDF View - This div and its contents will be used for PDF generation */}\n            <div \n                ref={contentRef} \n                style={{ \n                  position: 'absolute',\n                  left: '-9999px',\n                  top: 0,\n                  width: '800px',  // Fixed width for PDF generation\n                  backgroundColor: 'white'\n                }}\n              >\n                <SafeAreaView style={[styles.container, { width: '100%' }]}>\n                  <View style={[styles.logoContainer, { width: '100%', height: 'auto' }]}>\n                    <img\n                      src={require('../assets/fluidpower_logo.gif')}\n                      style={{\n                        width: '400px',\n                        height: '200px',\n                        objectFit: 'contain'\n                      }}\n                      alt=\"FluidPower Logo\"\n                    />\n                  </View>\n\n                  <View style={styles.contentContainer}>\n                    <ScrollView \n                      style={styles.mainScrollView}\n                      contentContainerStyle={styles.mainScrollViewContent}\n                    >\n                      {success && (\n                        <>\n                          {renderOrderSummary()}\n                          {renderShippingDetails()}\n                        </>\n                      )}\n                    </ScrollView>\n                  </View>\n\n                  <View style={styles.copyrightContainer}>\n                    <Text style={styles.enquiryText}>\n                      For any and all enquiries:\n                    </Text>\n                    \n                    <TouchableOpacity \n                      onPress={handlePhonePress}\n                      style={styles.touchableArea}\n                    >\n                      <Text style={styles.contactText}>\n                        +61 409 517 333\n                      </Text>\n                    </TouchableOpacity>\n                    \n                    <TouchableOpacity \n                      onPress={handleEmailPress}\n                      style={styles.touchableArea}\n                    >\n                      <Text style={styles.contactText}>\n                        email: info@fluidpowergroup.com.au\n                      </Text>\n                    </TouchableOpacity>\n\n                    <Text style={styles.copyrightText}>\n                      FluidPower Group All Rights Reserved {new Date().getFullYear()}\n                    </Text>\n                  </View>\n                </SafeAreaView>\n              </div>\n          </>\n        ) : (\n          <ViewShot\n            ref={contentRef}\n            options={{\n              format: 'jpg',\n              quality: 0.9,\n            }}\n          >\n            <SafeAreaView style={styles.container}>\n              {/* Your existing content for non-web platforms */}\n            </SafeAreaView>\n          </ViewShot>\n        )}\n      </ScrollableGradientWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  mainScrollView: {\n    flex: 1,\n  },\n  mainScrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: 20,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: 400,\n    height: 200,\n    resizeMode: 'contain',\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  successTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  emailTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  emailTitle2: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  highlightedEmail: {\n    color: '#ffc100',\n    fontWeight: 'bold',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n    maxWidth: 600,\n    width: '100%',\n    alignSelf: 'center',\n  },\n  boxHeader: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n  },\n  boxHeaderText: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  detailsGrid: {\n    padding: 15,\n    gap: 10,\n  },\n  detailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 5,\n  },\n  detailLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    flex: 2,\n    textAlign: 'right',\n  },\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  alignSelf: 'center'\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n    width: '100%',\n    maxWidth: 600,\n  },\n  orderDetailsContainer: {\n    padding: 15,\n  },\n  totalContainer: {\n    backgroundColor: '#ffc100',\n    padding: 15,\n    alignItems: 'center',\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n  },\n  totalLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  totalValue: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  cutLengthsLayout: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  cutLengthsContainer: {\n    flex: 1,\n  },\n  cutLengthsContent: {\n    flex: 1,\n  },\n  cutLengthsContentWrapper: {\n    flex: 1,\n  },\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 5,\n    paddingRight: 10, \n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: '#4a4a4a',\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 8,\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  priceContainer: {\n    justifyContent: 'center', // Centers the price container vertically\n    alignItems: 'flex-end', // Keeps the price aligned to the right\n  },\n  buttonContainer: {\n    width: '100%',\n    gap: 10,\n    marginTop: 20,\n    paddingHorizontal: 20,\n    maxWidth: 400,\n  },\n  actionButton: {\n    marginTop: 10,\n    marginBottom: 10,\n    paddingVertical: 12,\n    paddingHorizontal: 20,\n    borderRadius: 25,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    alignItems: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center',\n    minWidth: 200,\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  buttonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    padding: 20,\n    marginTop: 40,\n    width: '100%',\n  },\n  errorText: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n    maxWidth: 300,\n  },\n  bulletPoints: {\n    alignSelf: 'stretch',\n    marginBottom: 20,\n  },\n  bulletPoint: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  tryAgainButton: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n    minWidth: 200,\n  },\n  tryAgainText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  copyrightContainer: {\n    paddingBottom: Platform.OS === 'web' ? 80 : 20, // Increased padding only for web\n    paddingTop: 10,\n    alignItems: 'center',\n    marginTop: 'auto', // This helps push it to the bottom\n},\n  copyrightText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    fontStyle: 'italic',\n    opacity: 0.8,\n    marginTop: 20,\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingDownloadButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    right: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  disabledButton: {\n    opacity: 0.6,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    padding: 20,\n    marginTop: 10, // Change from 40 to 10 to move everything up\n    width: '100%',\n  },\n  errorText: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n    maxWidth: 300\n  },\n  tryAgainButton: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n    minWidth: 200,\n    marginBottom: 20,\n  },\n  tryAgainText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  touchableArea: {\n    padding: 8,\n    marginVertical: 2,\n    width: '100%',\n    alignItems: 'center',\n  },\n  enquiryText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 12,\n  },\n  contactText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginTop: 8,\n    textDecorationLine: 'underline',\n    paddingVertical: 5,\n  },\n});\n\nexport default OrderConfirmationScreen;","// screens/TrialScreen2.js\nimport React from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport PDFGenerator from '../components/PDFGenerator';\n\nconst TrialScreen2 = () => {\n  const testContent = `\n    Hydraulic Hose Builder\n    \n    Your Custom Hose Specifications:\n    - Size: 1/2 inch\n    - Length: 24 inches\n    - End Fittings: Standard\n    \n    Thank you for using our service!\n  `;\n  \n  return (\n    <View style={styles.container}>\n      <PDFGenerator content={testContent} />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n});\n\nexport default TrialScreen2;","import React from 'react';\nimport { \n  View, \n  Text, \n  StyleSheet, \n  SafeAreaView, \n  ScrollView,\n  TouchableOpacity,\n  Share\n} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\n\nconst OrderDetailsScreen = ({ route }) => {\n  const { orderDetails } = route.params;\n  const navigation = useNavigation();\n\n  // Extract order information\n  const {\n    userDetails,\n    paymentId,\n    amount,\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n  } = orderDetails;\n\n  // Function to share order details\n  const handleShareOrder = async () => {\n    try {\n      const shareMessage = `\nOrder Details\nOrder ID: ${paymentId}\nAmount: A$${amount}\nStatus: Confirmed\n\nProduct Details:\n- Hose: ${selectedHose}\n- Fittings: ${selectedFitting}\n- End 1: ${end1Shape} ${end1Size}\n- End 2: ${selectedEnd2Fitting} ${end2Shape} ${end2Size}\n- Quantity: ${quantity}\n`;\n\n      await Share.share({\n        message: shareMessage,\n        title: `Order #${paymentId}`,\n      });\n    } catch (error) {\n      console.error('Error sharing order:', error);\n    }\n  };\n\n  const renderSection = (title, content) => (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>{title}</Text>\n      <View style={styles.sectionContent}>\n        {content}\n      </View>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        {/* Order ID and Status */}\n        <View style={styles.headerSection}>\n          <Text style={styles.orderId}>Order #{paymentId}</Text>\n          <View style={styles.statusBadge}>\n            <Text style={styles.statusText}>Confirmed</Text>\n          </View>\n        </View>\n\n        {/* Product Details */}\n        {renderSection('Product Details', (\n          <>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Hose Type:</Text>\n              <Text style={styles.detailValue}>{selectedHose}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Fitting Type:</Text>\n              <Text style={styles.detailValue}>{selectedFitting}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>End 1:</Text>\n              <Text style={styles.detailValue}>{`${end1Shape} ${end1Size}`}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>End 2:</Text>\n              <Text style={styles.detailValue}>{`${end2Shape} ${end2Size}`}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Angle:</Text>\n              <Text style={styles.detailValue}>{selectedAngle}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Quantity:</Text>\n              <Text style={styles.detailValue}>{quantity}</Text>\n            </View>\n          </>\n        ))}\n\n        {/* Additional Services */}\n        {renderSection('Additional Services', (\n          <>\n            {selectedProtection && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Protection:</Text>\n                <Text style={styles.detailValue}>{selectedProtection}</Text>\n              </View>\n            )}\n            {selectedPressure && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Pressure Test:</Text>\n                <Text style={styles.detailValue}>{selectedPressure}</Text>\n              </View>\n            )}\n            {selectedMethod && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Delivery Method:</Text>\n                <Text style={styles.detailValue}>{selectedMethod}</Text>\n              </View>\n            )}\n          </>\n        ))}\n\n        {/* Price Breakdown */}\n        {renderSection('Price Breakdown', (\n          <>\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>Hose:</Text>\n              <Text style={styles.priceValue}>A${selectedHosePrice.toFixed(2)}</Text>\n            </View>\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>End 1:</Text>\n              <Text style={styles.priceValue}>A${end1Price.toFixed(2)}</Text>\n            </View>\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>End 2:</Text>\n              <Text style={styles.priceValue}>A${end2Price.toFixed(2)}</Text>\n            </View>\n            {hoseProtectionPrice > 0 && (\n              <View style={styles.priceRow}>\n                <Text style={styles.priceLabel}>Protection:</Text>\n                <Text style={styles.priceValue}>A${hoseProtectionPrice.toFixed(2)}</Text>\n              </View>\n            )}\n            {pressureTestPrice > 0 && (\n              <View style={styles.priceRow}>\n                <Text style={styles.priceLabel}>Pressure Test:</Text>\n                <Text style={styles.priceValue}>A${pressureTestPrice.toFixed(2)}</Text>\n              </View>\n            )}\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>Shipping:</Text>\n              <Text style={styles.priceValue}>A${shippingCost.toFixed(2)}</Text>\n            </View>\n            <View style={[styles.priceRow, styles.totalRow]}>\n              <Text style={styles.totalLabel}>Total:</Text>\n              <Text style={styles.totalValue}>A${amount}</Text>\n            </View>\n          </>\n        ))}\n\n        {/* Shipping Details */}\n        {renderSection('Shipping Details', (\n          <>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Name:</Text>\n              <Text style={styles.detailValue}>{userDetails.name}</Text>\n            </View>\n            {userDetails.companyName && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Company:</Text>\n                <Text style={styles.detailValue}>{userDetails.companyName}</Text>\n              </View>\n            )}\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Address:</Text>\n              <Text style={styles.detailValue}>{userDetails.address}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Suburb:</Text>\n              <Text style={styles.detailValue}>{userDetails.suburb}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>State:</Text>\n              <Text style={styles.detailValue}>{userDetails.state}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Postcode:</Text>\n              <Text style={styles.detailValue}>{userDetails.postcode}</Text>\n            </View>\n          </>\n        ))}\n\n        {/* Action Buttons */}\n        <View style={styles.actionButtons}>\n          <TouchableOpacity \n            style={styles.shareButton}\n            onPress={handleShareOrder}\n          >\n            <Text style={styles.shareButtonText}>Share Order Details</Text>\n          </TouchableOpacity>\n          \n          <TouchableOpacity \n            style={styles.newOrderButton}\n            onPress={() => navigation.navigate('CreateOrder')}\n          >\n            <Text style={styles.newOrderButtonText}>Place New Order</Text>\n          </TouchableOpacity>\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  scrollContent: {\n    padding: 20,\n  },\n  headerSection: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  orderId: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  statusBadge: {\n    backgroundColor: '#4CAF50',\n    paddingHorizontal: 15,\n    paddingVertical: 5,\n    borderRadius: 15,\n  },\n  statusText: {\n    color: 'white',\n    fontWeight: 'bold',\n  },\n  section: {\n    marginBottom: 25,\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    padding: 15,\n    borderWidth: 1,\n    borderColor: '#e0e0e0',\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 15,\n  },\n  detailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  detailLabel: {\n    fontSize: 16,\n    color: '#666',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    fontWeight: '500',\n    flex: 2,\n    textAlign: 'right',\n  },\n  priceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  priceLabel: {\n    fontSize: 16,\n    color: '#666',\n  },\n  priceValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    fontWeight: '500',\n  },\n  totalRow: {\n    marginTop: 10,\n    borderBottomWidth: 0,\n    paddingTop: 15,\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n  },\n  totalLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  totalValue: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  actionButtons: {\n    marginTop: 20,\n    gap: 15,\n  },\n  shareButton: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n  },\n  shareButtonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  newOrderButton: {\n    backgroundColor: '#f5f5f5',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  newOrderButtonText: {\n    color: '#4a4a4a',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  sectionContent: {\n    backgroundColor: 'white',\n    borderRadius: 10,\n    padding: 15,\n  },\n});\n\nexport default OrderDetailsScreen;","// components/ScreenWrapper.js\nimport React from 'react';\nimport { Platform } from 'react-native';\n\nconst ScreenWrapper = ({ children }) => {\n  // Only apply web-specific styles on web platform\n  if (Platform.OS === 'web') {\n    return (\n      <div \n        style={{\n          minHeight: '100vh',\n          maxHeight: '100vh',\n          overflowY: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          backgroundColor: '#fff',\n        }}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  // Return children as-is for mobile platforms\n  return children;\n};\n\nexport default ScreenWrapper;","import React, { useCallback } from 'react';\nimport { \n  View, \n  Text, \n  StyleSheet, \n  SafeAreaView, \n  ScrollView, \n  Image,\n  Dimensions,\n  Platform,\n  TouchableOpacity,\n} from 'react-native';\nimport { useRoute, useNavigation } from '@react-navigation/native';\nimport ScreenWrapper from '../components/ScreenWrapper';\nimport { PDFDownloadLink } from '@react-pdf/renderer';\nimport { pdf } from '@react-pdf/renderer';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\n// Reuse the helper components from OrderConfirmationScreen1\nconst LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nconst BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.cutLengthsPriceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nconst NumberedCircle = ({ number }) => (\n  <View style={styles.numberedCircle}>\n    <Text style={styles.numberedCircleText}>{number}</Text>\n  </View>\n);\n\nconst OrderDetailsScreen1 = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const { orderDetails } = route.params;\n  \n  // Destructure the orderDetails\n  const {\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    userDetails,\n    amount,\n    paymentId\n  } = orderDetails;\n\n  // For debugging\n  console.log('Order Details received:', orderDetails);\n\n  const handlePDFDownload = useCallback(async () => {\n    try {\n      console.log('Generating PDF...');\n      const blob = await pdf(<OrderPDF orderDetails={orderDetails} />).toBlob();\n      const url = URL.createObjectURL(blob);\n      \n      // Create a link element\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `Order_${paymentId}.pdf`;\n      \n      // Trigger download\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      \n      // Cleanup\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n    }\n  }, [orderDetails, paymentId]);\n\n  const renderShippingDetails = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Shipping Details</Text>\n      </View>\n      \n      <View style={styles.detailsGrid}>\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Name:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.name}</Text>\n        </View>\n        \n        {orderDetails.userDetails?.companyName && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Company:</Text>\n            <Text style={styles.detailValue}>{orderDetails.userDetails.companyName}</Text>\n          </View>\n        )}\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Address:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.address}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Suburb:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.suburb}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>State:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.state}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Postcode:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.postcode}</Text>\n        </View>\n\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Email:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.email}</Text>\n        </View>\n        \n        {orderDetails.userDetails?.contactNumber && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Contact:</Text>\n            <Text style={styles.detailValue}>{orderDetails.userDetails.contactNumber}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderOrderSummary = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Order Summary</Text>\n      </View>\n  \n      <View style={styles.orderDetailsContainer}>\n        {/* Order ID - Always show if exists */}\n        {paymentId && (\n          <View style={styles.rowContainer}>\n            <LabelItem>ORDER ID</LabelItem>\n            <BorderedItem>{paymentId}</BorderedItem>\n          </View>\n        )}\n  \n        {/* Hose Details - Only show if selectedHose exists */}\n        {selectedHose && (\n          <View style={styles.rowContainer}>\n            <LabelItem>HOSE SIZE</LabelItem>\n            <BorderedItem>\n              {typeof selectedHose === 'object' && selectedHose.size ? selectedHose.size : selectedHose}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* End 1 Details - Only show if both shape and size exist */}\n        {end1Shape && end1Size && (\n          <View style={styles.rowContainer}>\n            <LabelItem>END1</LabelItem>\n            <BorderedItem price={end1Price}>\n              {`${end1Shape} - ${end1Size}`}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* End 2 Details - Only show if both shape and size exist */}\n        {end2Shape && end2Size && (\n          <View style={styles.rowContainer}>\n            <LabelItem>END2</LabelItem>\n            <BorderedItem price={end2Price}>\n              {`${end2Shape} - ${end2Size}`}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Angle - Only show if exists */}\n        {selectedAngle && (\n          <View style={styles.rowContainer}>\n            <LabelItem>ANGLE</LabelItem>\n            <BorderedItem>{selectedAngle}</BorderedItem>\n          </View>\n        )}\n  \n        {/* Quantity - Only show if exists */}\n        {quantity && (\n          <View style={styles.rowContainer}>\n            <LabelItem>QUANTITY</LabelItem>\n            <BorderedItem>{quantity}</BorderedItem>\n          </View>\n        )}\n  \n        {/* Cut Lengths - Only show if array exists and has items */}\n        {cutLengths && cutLengths.length > 0 && (\n          <View style={styles.rowContainer}>\n            <LabelItem>CUT LENGTHS</LabelItem>\n            <BorderedItem \n              price={cutLengths.reduce((total, cut) => {\n                const lengthInMeters = parseFloat(cut.length) / 1000; // Convert mm to meters\n                const basePrice = parseFloat(selectedHosePrice);\n                return total + (lengthInMeters * basePrice);\n              }, 0)}\n              isCutLengths={false}\n            >\n              <View>\n                {cutLengths.map((cut, index) => (\n                  <View key={index} style={styles.cutLengthRow}>\n                    <View style={styles.numberedCircle}>\n                      <Text style={styles.numberedCircleText}>{index + 1}</Text>\n                    </View>\n                    <Text style={styles.cutLengthText}>\n                      {`${cut.length} ${cut.unit}`}\n                    </Text>\n                  </View>\n                ))}\n              </View>\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Protection - Only show if exists */}\n        {selectedProtection && (\n          <View style={styles.rowContainer}>\n            <LabelItem>PROTECTION</LabelItem>\n            <BorderedItem \n              price={selectedProtection === 'NOT REQUIRED' ? 'NOT REQUIRED' : protectionCost}\n            >\n              {selectedProtection}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Pressure Test - Only show if exists */}\n        {selectedPressure && (\n          <View style={styles.rowContainer}>\n            <LabelItem>PRESSURE TEST</LabelItem>\n            <BorderedItem price={pressureTestPrice}>\n              {selectedPressure}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Shipping - Only show if service exists */}\n        {selectedService && (\n          <View style={styles.rowContainer}>\n            <LabelItem>SHIPPING</LabelItem>\n            <BorderedItem price={shippingCost || 'FREE'}>\n              {selectedService}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Subtotal - Always show */}\n        <View style={styles.rowContainer}>\n          <LabelItem>SUBTOTAL</LabelItem>\n          <BorderedItem price={totalBeforeShipping}>\n            Before GST\n          </BorderedItem>\n        </View>\n      </View>\n  \n      {/* Total Price Display */}\n      <View style={styles.totalContainer}>\n        <Text style={styles.totalLabel}>Total Amount (Inc. GST)</Text>\n        <Text style={styles.totalValue}>\n          A${(totalBeforeShipping * 1.1).toFixed(2)} {/* Add 10% GST */}\n        </Text>\n      </View>\n    </View>\n  );\n\n  // Add error handling\n  if (!orderDetails) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>Error: Order details not found</Text>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Back Button - Moved outside of ScreenWrapper */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.navigate('Welcome')}\n      >\n        <Text style={styles.backButtonText}>Place New Order</Text>\n      </TouchableOpacity>\n\n      {/* New Download PDF Button */}\n        <TouchableOpacity \n          style={styles.floatingDownloadButton}\n          onPress={handlePDFDownload}\n        >\n          <Text style={styles.backButtonText}>Download PDF</Text>\n        </TouchableOpacity>\n  \n      <ScreenWrapper>\n        <SafeAreaView style={styles.container}>\n          <View style={styles.logoContainer}>\n            <Image\n              source={require('../assets/fluidpower_logo.gif')}\n              style={styles.logo}\n              resizeMode=\"contain\"\n            />\n          </View>\n  \n          <View style={styles.titleContainer}>\n            <Text style={styles.titleText}>Order Details</Text>\n          </View>\n  \n          <ScrollView \n            style={styles.scrollView}\n            contentContainerStyle={styles.scrollContent}\n          >\n            {renderOrderSummary()}\n            {renderShippingDetails()}\n          </ScrollView>\n          {/* Add copyright text */}\n          <View style={styles.copyrightContainer}>\n            <Text style={styles.copyrightText}>\n              FluidPower Group All Rights Reserved {new Date().getFullYear()}\n            </Text>\n          </View>\n        </SafeAreaView>\n      </ScreenWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 18,\n    color: 'red',\n    textAlign: 'center',\n  },\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginTop: 15,\n    marginBottom: 20,\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    alignSelf: 'center',\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    padding: 20,\n    alignItems: 'center',\n    width: '100%',\n  },\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 5,  // Reduced from 10 to match the design\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 8,  // Add some space between circle and text\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  cutLengthsContainer: {\n    flex: 1,\n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n  },\n  boxHeader: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n  },\n  boxHeaderText: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  detailsGrid: {\n    padding: 15,\n    gap: 10,\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n    maxWidth: 600,  // Add this line\n    alignSelf: 'center',  // Add this line\n    width: '100%',  // Add this line\n},\n  detailLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    flex: 2,\n    textAlign: 'right',\n  },\n  totalContainer: {\n    backgroundColor: '#ffc100',\n    padding: 15,\n    alignItems: 'center',\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n  },\n  totalLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  totalValue: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  // Existing styles from OrderConfirmationScreen1\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n    width: '100%', \n    maxWidth: 600, \n  },\n  orderDetailsContainer: {\n    padding: 15,\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingDownloadButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    right: 30,  // Changed from 'left' to 'right'\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  copyrightContainer: {\n    paddingBottom: 20,\n    paddingTop: 10,\n    alignItems: 'center',\n  },\n  copyrightText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    fontStyle: 'italic',\n    opacity: 0.8,\n  },\n});\n\nexport default OrderDetailsScreen1;","// Create a new component file: PaymentSuccessPage.js\nimport React, { useEffect } from 'react';\nimport { View, Image } from 'react-native';\n\nconst PaymentSuccessPage = () => {\n  useEffect(() => {\n    // Close the window after 2 seconds\n    const timer = setTimeout(() => {\n      if (window.opener) {\n        window.close();\n      }\n    }, 2000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    <View style={{\n      flex: 1,\n      backgroundColor: 'white',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }}>\n      <Image\n        source={require('../assets/fluidpower_logo.gif')}\n        style={{\n          width: 300,\n          height: 150,\n          resizeMode: 'contain'\n        }}\n      />\n    </View>\n  );\n};\n\nexport default PaymentSuccessPage;","import React, { useEffect, useState } from 'react';\nimport { View, Text, ActivityIndicator, StyleSheet } from 'react-native';\nimport { useNavigation, useRoute } from '@react-navigation/native';\n\nconst PaymentReturnScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [errorMessage, setErrorMessage] = useState('');\n\n  useEffect(() => {\n    console.log('Current URL:', window.location.href);\n    console.log('Current Path:', window.location.pathname);\n    console.log('sessionStorage data:', window.sessionStorage.getItem('pendingOrderData'));\n  \n    // Rest of your existing code\n  }, []);\n\n  useEffect(() => {\n    console.log('PaymentReturnScreen mounted. Route name:', route.name);\n    console.log('Current URL:', window.location.href);\n    \n    // Rest of your code...\n  }, [navigation, route.name]);\n  \n  useEffect(() => {\n    // Determine if this is a success or cancel return\n    const isSuccess = route.name === 'PaymentSuccess';\n    \n    // Get the order data from sessionStorage\n    let orderDetails = {};\n    if (typeof window !== 'undefined' && window.sessionStorage) {\n      try {\n        const orderDataString = window.sessionStorage.getItem('pendingOrderData');\n        if (orderDataString) {\n          orderDetails = JSON.parse(orderDataString);\n          // Clear the data from sessionStorage\n          window.sessionStorage.removeItem('pendingOrderData');\n        } else {\n          console.error('No order data found in sessionStorage');\n          setErrorMessage('Order data not found. Please try again.');\n          return;\n        }\n      } catch (error) {\n        console.error('Error parsing order data from sessionStorage:', error);\n        setErrorMessage('Error processing your order. Please try again.');\n        return;\n      }\n    }\n    \n    // Short delay to allow the component to mount\n    setTimeout(() => {\n      // Navigate to the order confirmation screen\n      navigation.reset({\n        index: 0,\n        routes: [\n          {\n            name: 'OrderConfirmation',\n            params: {\n              success: isSuccess,\n              orderDetails: orderDetails,\n              error: !isSuccess ? 'Payment was cancelled' : null\n            }\n          }\n        ]\n      });\n    }, 500);\n  }, [navigation, route.name]);\n  \n  return (\n    <View style={styles.container}>\n      <ActivityIndicator size=\"large\" color=\"#4a4a4a\" />\n      <Text style={styles.loadingText}>\n        {errorMessage || (route.name === 'PaymentSuccess' \n          ? 'Payment successful! Processing your order...' \n          : 'Returning to checkout...')}\n      </Text>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    padding: 20\n  },\n  loadingText: {\n    marginTop: 20,\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center'\n  }\n});\n\nexport default PaymentReturnScreen;","import React from 'react';\nimport { \n  View, \n  Text, \n  StyleSheet, \n  SafeAreaView, \n  FlatList, \n  TouchableOpacity, \n  Image,\n  ScrollView,\n  Platform,\n  Dimensions,\n} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport Svg, { Path } from 'react-native-svg';\nimport { useCart } from '../context/CartContext';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\nconst CartScreen = () => {\n  const navigation = useNavigation();\n  const { cartItems, removeFromCart, clearCart, getCartTotal } = useCart();\n\n  const renderCartItem = ({ item, index }) => {\n    const {\n      selectedHose,\n      cutLengths,\n      end1Shape,\n      end1Size,\n      end2Shape,\n      end2Size,\n      selectedProtection,\n      totalPrice,\n      cartId,\n    } = item;\n\n    // Helper function to get total length from cut lengths\n    const getTotalLength = () => {\n      if (!cutLengths) return 0;\n      return cutLengths.reduce((total, cut) => {\n        if (!cut.length) return total;\n        return total + (parseFloat(cut.length) / 1000); // Convert mm to meters\n      }, 0);\n    };\n\n    return (\n      <View style={styles.cartItemContainer}>\n        <View style={styles.cartItemHeader}>\n          <Text style={styles.cartItemHeaderText}>Item {index + 1}</Text>\n          <TouchableOpacity \n            style={styles.removeButton}\n            onPress={() => removeFromCart(cartId)}\n          >\n            <Svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\">\n              <Path \n                d=\"M18 6L6 18M6 6l12 12\" \n                stroke=\"#4a4a4a\" \n                strokeWidth=\"2.5\" \n                strokeLinecap=\"round\" \n                strokeLinejoin=\"round\"\n              />\n            </Svg>\n          </TouchableOpacity>\n        </View>\n        \n        <View style={styles.cartItemDetails}>\n          {selectedHose && (\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Hose:</Text>\n              <Text style={styles.detailValue}>{selectedHose.size}</Text>\n            </View>\n          )}\n          \n          {cutLengths && cutLengths.length > 0 && (\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Length:</Text>\n              <Text style={styles.detailValue}>{getTotalLength().toFixed(2)} m</Text>\n            </View>\n          )}\n          \n          {end1Shape && end1Size && (\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>End 1:</Text>\n              <Text style={styles.detailValue}>{`${end1Shape} - ${end1Size}`}</Text>\n            </View>\n          )}\n          \n          {end2Shape && end2Size && (\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>End 2:</Text>\n              <Text style={styles.detailValue}>{`${end2Shape} - ${end2Size}`}</Text>\n            </View>\n          )}\n          \n          {selectedProtection && (\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Protection:</Text>\n              <Text style={styles.detailValue}>{selectedProtection}</Text>\n            </View>\n          )}\n        </View>\n        \n        <View style={styles.cartItemFooter}>\n          <View style={styles.priceContainer}>\n            <Text style={styles.priceLabel}>Price:</Text>\n            <Text style={styles.priceValue}>\n              A${totalPrice ? totalPrice.toFixed(2) : '0.00'}\n            </Text>\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <SafeAreaView style={styles.mainContainer}>\n      {/* Floating Back Button */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n      </TouchableOpacity>\n\n      <View style={styles.mainContentContainer}>\n        <ScrollableGradientWrapper>\n          <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.scrollContent}>\n              <View style={styles.logoContainer}>\n                <Image\n                  source={require('../assets/fluidpower_logo.gif')}\n                  style={styles.logo}\n                  resizeMode=\"contain\"\n                />\n              </View>\n              \n              <View style={styles.titleContainer}>\n                <Text style={styles.titleText}>YOUR CART</Text>\n              </View>\n              \n              {cartItems.length === 0 ? (\n                <View style={styles.emptyCartContainer}>\n                  <Text style={styles.emptyCartText}>Your cart is empty</Text>\n                  <TouchableOpacity \n                    style={styles.continueShoppingButton}\n                    onPress={() => navigation.navigate('Welcome')}\n                  >\n                    <Text style={styles.continueShoppingButtonText}>CONTINUE SHOPPING</Text>\n                  </TouchableOpacity>\n                </View>\n              ) : (\n                <>\n                  <FlatList\n                    data={cartItems}\n                    renderItem={renderCartItem}\n                    keyExtractor={(item) => item.cartId.toString()}\n                    style={styles.cartList}\n                    scrollEnabled={false}\n                    contentContainerStyle={styles.listContentContainer}\n                  />\n                  \n                  <View style={styles.cartSummary}>\n                    <View style={styles.cartTotalContainer}>\n                      <Text style={styles.cartTotalLabel}>TOTAL</Text>\n                      <Text style={styles.cartTotalValue}>\n                        A${getCartTotal().toFixed(2)}\n                      </Text>\n                    </View>\n                    \n                    <View style={styles.shippingNoticeContainer}>\n                      <Text style={styles.shippingNoticeText}>\n                        *All our shipping costs are capped at A$ 12.85\n                      </Text>\n                    </View>\n                    \n                    <View style={styles.cartActions}>\n                      <TouchableOpacity \n                        style={styles.clearCartButton}\n                        onPress={clearCart}\n                      >\n                        <Text style={styles.buttonText}>CLEAR CART</Text>\n                      </TouchableOpacity>\n                      \n                      <TouchableOpacity \n                        style={styles.checkoutButton}\n                        onPress={() => {\n                          // Create a combined cart item for shipping\n                          const combinedCartData = {\n                            cartItems,\n                            cartTotal: getCartTotal(),\n                            fromCart: true\n                          };\n                          \n                          navigation.navigate('ShippingDetails', combinedCartData);\n                        }}\n                      >\n                        <Text style={styles.buttonText}>PROCEED TO SHIPPING</Text>\n                      </TouchableOpacity>\n                    </View>\n                    \n                    <TouchableOpacity \n                      style={styles.continueShoppingButton}\n                      onPress={() => navigation.goBack()}\n                    >\n                      <Text style={styles.continueShoppingButtonText}>CONTINUE SHOPPING</Text>\n                    </TouchableOpacity>\n                  </View>\n                </>\n              )}\n            </ScrollView>\n          </View>\n        </ScrollableGradientWrapper>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContentContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingBottom: 20,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n    marginBottom: 15,\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  titleContainer: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    marginVertical: 20,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  emptyCartContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 30,\n  },\n  emptyCartText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 20,\n  },\n  cartList: {\n    width: '95%',\n    maxWidth: 800,\n  },\n  listContentContainer: {\n    flexGrow: 1,\n  },\n  cartItemContainer: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    marginBottom: 15,\n    overflow: 'hidden',\n  },\n  cartItemHeader: {\n    backgroundColor: '#4a4a4a',\n    padding: 10,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  cartItemHeaderText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  removeButton: {\n    padding: 5,\n  },\n  cartItemDetails: {\n    padding: 15,\n  },\n  detailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  detailLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n  },\n  cartItemFooter: {\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n  },\n  priceContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  priceLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  priceValue: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  cartSummary: {\n    width: '95%',\n    maxWidth: 800,\n    marginTop: 10,\n  },\n  cartTotalContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  cartTotalLabel: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  cartTotalValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  shippingNoticeContainer: {\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  shippingNoticeText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    fontStyle: 'italic',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  cartActions: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 15,\n  },\n  clearCartButton: {\n    backgroundColor: 'transparent',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  checkoutButton: {\n    backgroundColor: '#ffc100',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    flex: 1,\n    marginLeft: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  buttonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  continueShoppingButton: {\n    backgroundColor: 'transparent',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  continueShoppingButtonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n});\n\nexport default CartScreen;","import 'react-native-gesture-handler';\nimport React, { useRef, useEffect } from 'react';\nimport { View, Platform } from 'react-native';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\nimport './src/crypto-polyfill';\nimport { Font } from '@react-pdf/renderer';\n\nimport useEnvLoader from './src/useEnvLoader';\nimport { ActivityIndicator } from 'react-native';\nimport { Text } from 'react-native';\nimport './src/global.css';\n\n// Screen imports\nimport WelcomeScreen from './screens/WelcomeScreen';\nimport HoseSelectionScreen from './screens/HoseSelectionScreen';\nimport FittingSelectionScreen from './screens/FittingSelectionScreen';\nimport End1FittingScreen from './screens/End1FittingScreen';\nimport BSPFittingScreen1 from './screens/BSPFittingScreen1';\nimport JICFittingScreen1 from './screens/JICFittingScreen1';\nimport MetricFittingScreen1 from './screens/MetricFittingScreen1';\nimport OrfsScreen1 from './screens/OrfsScreen1';\nimport End2FittingScreen from './screens/End2FittingScreen';\nimport BSPFittingScreen2 from './screens/BSPFittingScreen2';\nimport JICFittingScreen2 from './screens/JICFittingScreen2';\nimport MetricFittingScreen2 from './screens/MetricFittingScreen2';\nimport OrfsScreen2 from './screens/OrfsScreen2';\nimport OrientationSelectionScreen from './screens/OrientationSelectionScreen';\nimport CutLengthsScreen from './screens/CutLengthsScreen';\nimport HoseProtectionScreen from './screens/HoseProtectionScreen';\nimport PressureTestingScreen from './screens/PressureTestingScreen';\nimport ShippingOptionsScreen from './screens/ShippingOptionsScreen';\nimport OrderConfirmationScreen1 from './screens/OrderConfirmationScreen1';\nimport ShippingDetailsScreen from './screens/ShippingDetailsScreen';\nimport PaymentScreen from './screens/PaymentScreen';\nimport OrderConfirmationScreen from './screens/OrderConfirmationScreen';\nimport TrialScreen2 from './screens/TrialScreen2';\nimport OrderDetailsScreen from './screens/OrderDetailsScreen';\nimport OrderDetailsScreen1 from './screens/OrderDetailsScreen1';\nimport PaymentSuccessPage from './components/PaymentSuccessPage';\nimport PaymentReturnScreen from './screens/PaymentReturnScreen';\nimport { CartProvider } from './context/CartContext';\nimport CartScreen from './screens/CartScreen';\n\n// Register fonts for PDF generation\nFont.register({\n  family: 'Roboto',\n  fonts: [\n    { src: 'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-light-webfont.ttf' },\n    { src: 'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-bold-webfont.ttf', fontWeight: 'bold' },\n  ],\n});\n\n// Create the stack navigator\nconst Stack = createStackNavigator();\n\n/**\n * Main application component\n */\nconst App = () => {\n  const isEnvLoaded = useEnvLoader();\n  const navigationRef = useRef(null);\n  \n  // Show loading spinner while env.js is being loaded\n  if (!isEnvLoaded) {\n    return (\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n        <ActivityIndicator size=\"large\" />\n        <Text>Loading Environment...</Text>\n      </View>\n    );\n  }\n\n  return (\n    <SafeAreaProvider>\n    <CartProvider>\n      <NavigationContainer \n        ref={navigationRef}\n        onReady={() => {\n          // Handle PayPal return navigation if needed\n          if (Platform.OS === 'web') {\n            const urlParams = new URLSearchParams(window.location.search);\n            if (urlParams.get('screen') === 'OrderConfirmation') {\n              // Get payment status and order details\n              const success = urlParams.get('success') === 'true';\n              let orderDetails = null;\n\n              try {\n                const orderDataString = window.sessionStorage.getItem('pendingOrderData');\n                if (orderDataString) {\n                  orderDetails = JSON.parse(orderDataString);\n                  \n                  // Clean up storage\n                  window.sessionStorage.removeItem('pendingOrderData');\n                }\n              } catch (error) {\n                console.error('Error retrieving order data:', error);\n              }\n\n              // Navigate to OrderConfirmation screen\n              setTimeout(() => {\n                navigationRef.current?.navigate('OrderConfirmation', {\n                  success: success,\n                  orderDetails: orderDetails,\n                  error: !success ? 'Payment was cancelled' : null\n                });\n                \n                // Clean up URL\n                window.history.replaceState(null, '', window.location.pathname);\n              }, 500);\n            }\n          }\n        }}\n      >\n        <Stack.Navigator initialRouteName=\"Welcome\">\n          <Stack.Screen name=\"Welcome\" component={WelcomeScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"HoseSelection\" component={HoseSelectionScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"TrialScreen2\" component={TrialScreen2} options={{ headerTransparent: true, headerBackground: () => ( <View style={{ flex: 1, backgroundColor: 'white' }} /> ), title: 'Trial Screen2' }} />\n          <Stack.Screen name=\"FittingSelection\" component={FittingSelectionScreen} options={{ headerTransparent: true, headerBackground: () => ( <View style={{ flex: 1, backgroundColor: 'white' }} /> ),  title: 'Select Fitting' }} />\n          <Stack.Screen name=\"End1Fitting\" component={End1FittingScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"BSPFittingScreen1\" component={BSPFittingScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"JICFittingScreen1\" component={JICFittingScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"MetricFittingScreen1\" component={MetricFittingScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrfsScreen1\" component={OrfsScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"End2Fitting\" component={End2FittingScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"BSPFittingScreen2\" component={BSPFittingScreen2} options={{ headerShown: false }} />\n          <Stack.Screen name=\"JICFittingScreen2\" component={JICFittingScreen2} options={{ headerShown: false }} />\n          <Stack.Screen name=\"MetricFittingScreen2\" component={MetricFittingScreen2} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrfsScreen2\" component={OrfsScreen2} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrientationSelectionScreen\" component={OrientationSelectionScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"CutLengths\" component={CutLengthsScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"HoseProtection\" component={HoseProtectionScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"PressureTesting\" component={PressureTestingScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"ShippingOptions\" component={ShippingOptionsScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrderConfirmation1\" component={OrderConfirmationScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"ShippingDetails\" component={ShippingDetailsScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"Payment\" component={PaymentScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrderConfirmation\" component={OrderConfirmationScreen} options={{ headerLeft: null }} />\n          <Stack.Screen name=\"OrderDetails\" component={OrderDetailsScreen} options={{ title: 'Order Details', headerBackTitle: 'Back' }}/>\n          <Stack.Screen name=\"OrderDetails1\" component={OrderDetailsScreen1} options={{ headerShown: false }}/>\n          <Stack.Screen name=\"payment_success\" component={PaymentSuccessPage} options={{ headerShown: false }}/>\n          <Stack.Screen name=\"PaymentSuccess\" component={PaymentReturnScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"PaymentCancel\" component={PaymentReturnScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"Cart\" component={CartScreen} options={{ headerShown: false }} />\n        </Stack.Navigator>\n      </NavigationContainer>\n      </CartProvider>\n    </SafeAreaProvider>\n  );\n};\n\nexport default App;","// components/PDFGenerator/WebPDFGenerator.js\nimport React from 'react';\nimport html2canvas from 'html2canvas';\nimport { jsPDF } from 'jspdf';\n\nconst WebPDFGenerator = ({ contentRef, onGenerateStart, onGenerateComplete, onError, orderId }) => {\n  const generatePDF = async ({ silent = false } = {}) => {\n    try {\n      if (!contentRef.current) return;\n      \n      onGenerateStart?.();\n\n      const element = contentRef.current;\n      const canvas = await html2canvas(element, {\n        scale: 2,\n        useCORS: true,\n        logging: false\n      });\n\n      const imgData = canvas.toDataURL('image/jpeg', 1.0);\n      const pdf = new jsPDF({\n        orientation: 'portrait',\n        unit: 'px',\n        format: [canvas.width, canvas.height]\n      });\n\n      pdf.addImage(imgData, 'JPEG', 0, 0, canvas.width, canvas.height);\n      \n      // Get PDF as buffer for email\n      const pdfBuffer = pdf.output('arraybuffer');\n\n      // If not silent, trigger download\n      if (!silent) {\n        // Generate filename using Order ID\n        const filename = `Order_${orderId}.pdf`;\n        \n        // Create blob and URL for download\n        const pdfBlob = new Blob([pdfBuffer], { type: 'application/pdf' });\n        const pdfUrl = URL.createObjectURL(pdfBlob);\n        \n        // Create and trigger download link\n        const link = document.createElement('a');\n        link.href = pdfUrl;\n        link.download = filename;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        // Clean up\n        URL.revokeObjectURL(pdfUrl);\n      }\n      \n      // Call onGenerateComplete with the PDF buffer\n      onGenerateComplete?.(pdfBuffer);\n      \n      return pdfBuffer;\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n      onError?.(error);\n      return null;\n    }\n  };\n\n  return { generatePDF };\n};\n\nexport default WebPDFGenerator;","// src/crypto-polyfill.js\nif (typeof window !== 'undefined') {\n    if (!window.crypto) {\n      window.crypto = {};\n    }\n    if (!window.crypto.randomUUID) {\n      window.crypto.randomUUID = () => {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n          const r = Math.random() * 16 | 0;\n          const v = c === 'x' ? r : (r & 0x3 | 0x8);\n          return v.toString(16);\n        });\n      };\n    }\n  }","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + {\"159\":\"6cd2578e\",\"331\":\"d16c3da6\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [453], () => (__webpack_require__(5036)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_useState","useState","_useState2","_slicedToArray","isEnvLoaded","setIsEnvLoaded","useEffect","Promise","resolve","reject","script","document","createElement","src","async","onload","onerror","err","head","appendChild","then","catch","error","console","_ref","children","style","wrapperRef","useRef","gradientRef","checkScroll","current","wrapper","scrollableDistance","scrollHeight","clientHeight","currentScroll","scrollTop","isScrollable","isAtBottom","Math","ceil","floor","opacity","resizeObserver","ResizeObserver","entries","initialChecks","setTimeout","observe","addEventListener","MutationObserver","childList","subtree","window","removeEventListener","disconnect","_jsxs","ref","_objectSpread","height","overflowY","position","backgroundColor","isolation","_jsx","minHeight","paddingBottom","zIndex","bottom","left","right","background","pointerEvents","transition","styles","StyleSheet","create","container","flexGrow","mainContainer","flex","contentContainer","alignItems","logoContainer","justifyContent","marginTop","marginBottom","width","logo","maxWidth","resizeMode","titleContainer","alignSelf","borderRadius","paddingVertical","paddingHorizontal","title","fontSize","fontWeight","color","textAlign","messageContainer","marginVertical","messageText","highlightText","highlightText2","imageContainer","hoseImage","Dimensions","get","instructionsContainer","instructionsText","lineHeight","spacedText","startButton","minWidth","borderWidth","borderColor","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","overflow","startButtonText","startButtonHovered","transform","translateY","scale","glassOverlay","top","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","asteriskContainer","asteriskText","copyrightText","fontStyle","modalOverlay","overlayBackground","selectionContainer","padding","selectionTitle","selectionButton","selectedButton","selectionButtonText","enquiryText","contactText","textDecorationLine","appCreditsText","feedbackFlyerContainer","feedbackHeading","feedbackSlideContainer","feedbackTitle","feedbackSlide","feedbackImage","feedbackText","feedbackIndicators","flexDirection","taglineText","indicator","marginHorizontal","activeIndicator","ebayStoreRow","ebaySourceText","ebayLinkText","marginLeft","navigation","fadeAnim","Animated","Value","showSelectionModal","setShowSelectionModal","modalFadeAnim","_useState3","_useState4","setSelectedButton","_useState5","_useState6","setCurrentFeedbackIndex","feedbackFadeAnim","_useState7","_useState8","isStartButtonHovered","setIsStartButtonHovered","animateAndNavigate","buttonKey","screenName","params","arguments","length","undefined","timing","toValue","duration","useNativeDriver","start","navigate","handleBuildHose","isHoseOnly","handleCloseModal","feedbackComments","id","image","require","useFocusEffect","React","setValue","interval","setInterval","prev","clearInterval","View","ScrollableGradientWrapper","SafeAreaView","Image","source","Text","TouchableOpacity","onPress","onPressIn","onPressOut","onMouseEnter","onMouseLeave","Linking","openURL","Date","getFullYear","Modal","transparent","visible","onRequestClose","animationType","activeOpacity","selectedHose","selectedHosePrice","isOrderFittingMode","DEFAULT_HOSE_PRICES","getHosePrices","_asyncToGenerator","response","fetch","method","headers","log","status","ok","errorText","text","Error","JSON","parse","hosePrices","apply","SCREEN_WIDTH","isMobile","HoseSizeButton","min","size","insideDiameter","specs","hosePrice","isSelected","buttonContainer","sizeButton","selectedSizeButton","sizeContent","sizeButtonText","sizeDescription","numberOfLines","ellipsizeMode","hoseImageContainer","hoseCrossSection","priceBorder","selectedPriceBorder","priceText","selectedPriceText","specsContainer","map","spec","index","specText","mainScrollView","mainScrollViewContent","loadingContainer","loadingContent","loadingLogo","loadingText","titleWrapper","titleText","scrollView","scrollViewContent","marginRight","innerContainer","selectedInnerContainer","whiteSpace","floatingBackButton","backButtonText","footer","floatingFooter","borderTopWidth","borderTopColor","viewportFooter","footerContent","footerLeft","footerCenter","footerRight","hoseOnlyButton","hoseOnlyButtonText","placeholderButton","_ref2","route","useNavigation","selectedSize","setSelectedSize","setSelectedHosePrice","loadingFadeAnim","contentFadeAnim","showContent","setShowContent","prices","setPrices","_useState9","_useState10","isLoading","setIsLoading","hoseSizes","useMemo","loadPrices","_ref4","fetchedPrices","sequence","delay","goBack","Svg","viewBox","fill","Path","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ScrollView","contentContainerStyle","showsVerticalScrollIndicator","hose","cleanPrice","trim","split","handleSizeSelection","subtitle","fittingType","fittingOption","selectedOption","fittingShape","selectedFitting","setSelectedFitting","type","shapes","fitting","shape","handleSelection","BUTTON_WIDTH","isWebDesktop","FittingTypeButton","description","onHelpPress","fittingButton","selectedFittingButton","fittingContent","fittingButtonText","fittingDescription","helpIcon","hitSlop","helpIconBackground","helpIconText","circleWrapper","circleText","diagram","diagramSpacing","paddingRight","helpImageContainer","imageWrapper","helpImage","closeButton","closeButtonText","clickToEnlargeText","diagramImageContainer","paddingTop","closeModalButton","closeModalButtonText","includeFontPadding","textAlignVertical","paddingLeft","modalTitle","enlargedDiagram","_ref3","showSizeModal","setShowSizeModal","sizeFadeAnim","showHelpOverlay","setShowHelpOverlay","currentHelpImage","setCurrentHelpImage","_useState11","_useState12","helpModalFadeAnim","fittingTypes","handleCloseSizeModal","closeHelpOverlay","_Fragment","baseParams","handleFittingSelection","onError","e","nativeEvent","DEFAULT_BSP_PRICES","getBSPPrices","bspPrices","screenWidth","MAX_COLUMN_WIDTH","adjustPrice","basePrice","price","parseFloat","toFixed","ShapeButton","imagePath","shapeButton","selectedShapeButton","shapeButtonContent","shapeButtonSubtitle","shapeButtonImageContainer","shapeButtonImage","SizeButton","sizeButtonContentStyle","sizeTextContainerStyle","priceBorderStyle","adjustedPrice","toString","sizeTextContainer","touchAction","WebkitOverflowScrolling","animatedContainer","column","sectionTitleContainer","sectionTitle","sectionTitleText","sectionSubtitle","placeholderColumn","sizeButtonContent","bottomContainer","fittingTypeContainer","fittingTypeText","ferruleContainer","ferruleImage","ferruleTextContainer","ferruleText","selectedShape","setSelectedShape","_route$params","_route$params$selecte","_route$params$selecte2","_route$params$selecte3","name","allSizes","compatibilityMatrix","sizes","hoseSize","compatibleSizes","filter","sizeObj","includes","getFilteredSizes","useCallback","handleNavigation","end1Shape","end1Size","end1Price","selectedEnd2Fitting","end2Shape","end2Size","end2Price","selectedAngle","handleShapeSelection","selectedSizeObj","find","DEFAULT_JIC_PRICES","getJICPrices","jicPrices","DEFAULT_METRIC_PRICES","getMetricPrices","metricPrices","DEFAULT_ORFS_PRICES","getORFSPrices","orfsPrices","setSelectedEnd2Fitting","_ref5","isStraightFitting","priceNumeric","useRoute","AngleButton","angle","angleButton","selectedAngleButton","angleImage","angleText","helpIconVisual","NotSureButton","notSureButton","notSureText","notSureSubtext1","notSureSubtext2","subtitleContainer","subtitleText","aspectRatio","angleButtonsContainer","flexWrap","angleButtonWrapper","setSelectedAngle","showDiagramOverlay","setShowDiagramOverlay","diagramModalFadeAnim","angles","handleAngleSelection","closeDiagramOverlay","centerContent","slice","angleData","button","arrow","borderBottomWidth","borderLeftWidth","borderBottomColor","borderLeftColor","buttonActive","textActive","arrowActive","isActive","scrollContent","selectedHoseContainer","selectedHoseHeader","selectedHoseSize","selectedHosePriceContainer","quantityRow","quantityContainer","quantityInput","errorContainer","inputError","cutLengthsContainer","cutLengthRow","cutLengthText","rowLabelContainer","rowNumberContainer","rowNumber","cutLengthInputContainer","cutLengthInput","unitText","pricingContainer","easterEggContainer","margin","easterEggText","iosNextButtonContainer","quantity","setQuantity","setError","unit","cutLengths","setCutLengths","showCutLengths","setShowCutLengths","allLengthsFilled","setAllLengthsFilled","lastInputIndex","setLastInputIndex","_useState13","_useState14","cutLengthErrors","setCutLengthErrors","quantityInputRef","inputRefs","_useState15","_useState16","totalPrice","setTotalPrice","_useState17","_useState18","cutLengthPrice","setCutLengthPrice","_useState19","_useState20","hasSubmitted","setHasSubmitted","_useState21","_useState22","initialValidationDone","setInitialValidationDone","_useState23","_useState24","devModeActive","setDevModeActive","_useState25","_useState26","easterEggMessage","setEasterEggMessage","_useState27","_useState28","showEasterEgg","setShowEasterEgg","DynamicPriceDisplay","timer","focus","clearTimeout","num","parseInt","maxQuantity","isNaN","Array","allFilled","every","cut","emptyFields","newErrors","_toConsumableArray","forEach","test","validateQuantity","value","handleQuantitySubmit","calculatePrice","updateCutLength","updatedLengths","updatedErrors","lengthValue","numLength","allFieldsValid","idx","handleNext","animationConfig","isDevMode","qty","totalEnd1Price","totalEnd2Price","lengths","some","calculatedPrice","reduce","sum","handleInputSubmit","currentValue","hasErrors","TextInput","onChangeText","onSubmitEditing","onEndEditing","onBlur","blurOnSubmit","keyboardType","maxLength","returnKeyType","enterKeyHint","inputMode","autoComplete","el","placeholder","placeholderTextColor","onKeyPress","key","preventDefault","handleKeyPress","navigator","userAgent","MSStream","iosValidationContainer","iosValidationButton","_cutLengths$","_cutLengths$2","_cutLengths$3","_cutLengths$4","shouldShowNextButton","NextArrowButton","ProtectionTypeButton","protectionButton","selectedProtectionButton","protectionContent","protectionButtonText","contentRow","protectionImage","priceContainer","noImageContentCentered","PriceDisplay","hasProtection","titleFade","priceFade","pricingCard","pricingHeader","pricingValueContainer","pricingValue","subtitleContainer2","subtitleText2","noImageButton","noImageContent","noImagePlaceholder","noImageSubtext","leftColumn","rightColumn","priceSummaryContainer","priceRow","priceLabel","priceValue","protectionCost","pricingSection","marginBottom20","selectedProtection","setSelectedProtection","initialPrice","setInitialPrice","protectionPrice","setProtectionPrice","protectionTypes","PROTECTION_PRICE_MULTIPLIERS","navigateToNext","nextScreen","hoseProtectionPrice","protection","parallel","newPrice","hasTestingSelected","PressureButton","pressureButton","selectedPressureButton","pressureButtonText","selectedPressure","setSelectedPressure","pressureTestPrice","setPressureTestPrice","pressure","numberOfHoses","pressureTestTotalCost","buttonsContainer","handlePressureSelection","ShippingButton","shippingButton","selectedShippingButton","shippingContent","shippingButtonText","selectedPricingValueContainer","withShipping","selectedService","setSelectedService","setBasePrice","shippingPrice","setShippingPrice","receivedBasePrice","totalBeforeShipping","service","finalPrice","devPrice","shippingCost","totalPriceWithShipping","CartContext","createContext","cartItems","isCartVisible","addToCart","removeFromCart","clearCart","getCartTotal","getCartItemCount","useCart","useContext","CART_KEY","TIMESTAMP_KEY","CART_EXPIRY_MS","CartProvider","setCartItems","setIsCartVisible","isSyncingFromStorage","_cartData$items","storedCart","localStorage","getItem","storedTimestamp","sessionStorage","setItem","cartData","timestamp","age","now","itemCount","items","round","expired","removeItem","isArray","pwaItems","item","websiteItems","clearError","open","stringify","alert","handleWebsiteCartChange","event","storageItems","detail","currentItems","storageItemCount","currentItemCount","cartId","sort","join","shouldBeVisible","Provider","prevItems","newItem","newItems","concat","dispatchEvent","CustomEvent","total","globalCartButton","cartIconContainer","badge","badgeText","LabelItem","labelItem","labelText","BorderedItem","isCutLengths","borderedItem","cutLengthsLayout","cutLengthsContent","cutLengthsPriceBorder","itemText","NumberedCircle","number","numberedCircle","numberedCircleText","rowContainer","pdfContainer","pdfLogoContainer","pdfLogo","detailsBox","boxHeader","boxHeaderText","orderDetailsContainerPDF","cutLengthsContentWrapper","totalContainerPDF","totalLabelPDF","totalValuePDF","pdfFooter","pdfFooterText","TotalPriceDisplay","totalPriceContainer","totalPriceLabelItem","totalPriceLabelText","totalPriceValueContainer","totalPriceValueText","ShippingCostNotice","shippingNoticeContainer","shippingNoticeText","OrderDetailsSection","orderDetails","getTotalLength","cleanPriceString","orderDetailsContainer","details","push","Object","_ref6","_ref7","_ref8","label","content","_ref9","i","toUpperCase","replace","renderOrderDetails","priceStr","mainContentContainer","actionButtonsContainer","addToCartButton","placeNewOrderButton","buttonContent","buttonIcon","buttonText","flexShrink","successMessageContainer","successIcon","successMessageText","selectedModalButton","pdfLoadingOverlay","floatingPDFTestButton","pdfTestButtonText","showSuccessMessage","setShowSuccessMessage","buttonFadeAnim","messageFadeAnim","_useCart","selectedAction","setSelectedAction","currentOrderKey","currentOrderAddedToCart","setCurrentOrderAddedToCart","ADDED_ORDERS_KEY","selectedMethod","calculatePrices","baseHosePrice","protectionAmount","finalShippingCost","_useOrderPDFGeneratio","calculatePricesFromData","getTotalLengthFromData","isGeneratingPDF","setIsGeneratingPDF","currentOrderForPDF","setCurrentOrderForPDF","contentRef","_PDFGenerator","PDFGenerator","orderId","onGenerateStart","onGenerateComplete","_onGenerateComplete","pdfBuffer","_x","Alert","generatePDF","generateOrderPDF","orderSnapshot","silent","pdfBlob","Blob","reader","FileReader","onloadend","base64PDF","result","readAsDataURL","_x2","downloadAllCartPDFs","pdfDataUrl","base64Data","byteCharacters","atob","byteNumbers","j","charCodeAt","byteArray","Uint8Array","blob","url","URL","createObjectURL","link","href","download","body","click","removeChild","revokeObjectURL","renderOrderSummaryForPDF","orderData","orderTimestamp","totalLength","calculatedPrices","displayPrice","objectFit","alt","renderPDFContent","useOrderPDFGeneration","cutLengthsData","getAddedOrderKeys","stored","orderConfig","c","orderKey","isAlreadyAdded","isOrderKeyAdded","substring","end1","end2","hoseProtection","pressureTest","shippingMethod","shippingService","handleAddToCart","cartItem","stock","hasPDF","pdfSize","existingKeys","saveAddedOrderKey","displayTotalPrice","disabled","ActivityIndicator","location","STATES","requiredFieldsText","asterisk","formContainer","inputRow","labelContainer","inputContainer","input","pickerContainer","picker","proceedButton","proceedButtonText","devModeEasterEgg","devModeText","_React$useState","_React$useState2","setIsSelected","formSubmitAttempted","setFormSubmitAttempted","showDevModeEasterEgg","setShowDevModeEasterEgg","companyName","address","suburb","state","postcode","email","contactNumber","formFields","setFormFields","setTouchedFields","errors","setErrors","validateField","updateField","_defineProperty","renderInputField","inputModeValue","isOptional","additionalProps","currentFieldName","keys","handleInputBlur","fieldName","validateAllFields","Picker","selectedValue","onValueChange","itemValue","itemStyle","Item","shippingDetails","paypalContainer","unsupportedText","disabledOverlay","disabledText","amount","_ref$currency","currency","_ref$description","onApprove","onCancel","containerRef","sdkReady","setSdkReady","scriptAddedRef","checkSDK","paypal","handleSDKReady","initialTimeout","addPayPalScript","renderTimeout","innerHTML","Buttons","layout","createOrder","data","actions","order","purchase_units","currency_code","application_context","shipping_preference","user_action","capture","render","totalContainer","totalText","securePaymentText","shippingDetailsContainer","detailsGrid","gap","detailRow","detailLabel","detailValue","priceBreakdownContainer","priceDetailsGrid","loadingOverlay","statusContainer","cancelledContainer","statusTitle","statusMessage","retryButton","retryButtonText","newOrderButton","newOrderButtonText","paymentStatus","setPaymentStatus","errorMessage","setErrorMessage","calculateTotalBeforeShipping","end1Cost","end2Cost","cutLengthCost","calculatedSubtotal","subtotal","shippingAmount","gst","finalTotal","handlePayPalApprove","sdkData","orderID","internalOrderNumber","_route$params$shippin","_route$params2","_route$params2$shippi","_route$params3","_route$params3$shippi","_route$params4","emailTemplatesContent","customerEmailContent","businessEmailContent","payloadForBackend","payerID","orderNumber","userDetails","emailTemplates","originalOrderParams","_errorJson","errorJson","captureResult","json","success","transactionId","paypalCaptureID","message","handlePayPalCancel","handlePayPalError","handleRetryPayment","handleStartNewOrder","reset","routes","paymentContainer","PayPalButtonWrapper","paymentNote","overlay","overlayText","sendOrderEmail","orderDetailsFromConfirmation","_orderDetailsFromConf","API_BASE_URL","process","NEXT_PUBLIC_API_URL","SERVER_KEY","NEXT_PUBLIC_SERVER_KEY","priceBreakdown","calculatePriceBreakdown","priceBreakdownHTML","generatePriceBreakdownHTML","generateBusinessEmailContent","generateCustomerEmailContent","pdfBase64","pdfAttachment","ArrayBuffer","Buffer","isBuffer","from","warn","pdfError","payloadToSend","userEmail","responseText","errorMsg","parseError","shipping","_details$isOrderFitti","subtotalWithShipping","_parseFloat","calculatedCutLengthPrice","hosePriceStr","calcError","formatPrice","_orderDetails$userDet","_orderDetails$userDet2","_orderDetails$userDet3","_orderDetails$userDet4","_orderDetails$userDet5","_orderDetails$userDet6","_orderDetails$userDet7","_orderDetails$userDet8","_orderDetails$userDet9","_orderDetails$userDet10","_orderDetails$userDet11","_orderDetails$userDet12","successTitle","emailTitle","emailTitle2","highlightedEmail","totalLabel","totalValue","actionButton","bulletPoints","bulletPoint","tryAgainButton","tryAgainText","copyrightContainer","floatingDownloadButton","disabledButton","touchableArea","emailSent","setEmailSent","paymentId","setPriceBreakdown","calculatedBreakdown","_params$shippingCost","storedOrderData","parsedOrderData","setParams","search","backHandler","BackHandler","handlePlaceAnotherOrder","remove","autoGeneratePDF","_orderDetails$origina","modePrefix","dataToSendToEmailService","emailResult","stack","_orderDetails$origina2","handlePDFDownload","renderShippingDetails","renderOrderSummary","lengthInMeters","handlePhonePress","handleEmailPress","headerSection","statusBadge","statusText","section","totalRow","actionButtons","shareButton","shareButtonText","sectionContent","handleShareOrder","shareMessage","Share","share","renderSection","maxHeight","pdf","OrderPDF","toBlob","ScreenWrapper","opener","close","pathname","isSuccess","orderDataString","emptyCartContainer","emptyCartText","cartList","listContentContainer","cartItemContainer","cartItemHeader","cartItemHeaderText","removeButton","cartItemDetails","cartItemFooter","cartSummary","cartTotalContainer","cartTotalLabel","cartTotalValue","cartActions","clearCartButton","checkoutButton","continueShoppingButton","continueShoppingButtonText","FlatList","renderItem","keyExtractor","scrollEnabled","combinedCartData","cartTotal","fromCart","Font","register","family","fonts","Stack","createStackNavigator","useEnvLoader","navigationRef","SafeAreaProvider","NavigationContainer","onReady","urlParams","URLSearchParams","_navigationRef$curren","history","replaceState","Navigator","initialRouteName","Screen","component","WelcomeScreen","options","headerShown","HoseSelectionScreen","TrialScreen2","headerTransparent","headerBackground","FittingSelectionScreen","End1FittingScreen","BSPFittingScreen1","JICFittingScreen1","MetricFittingScreen1","OrfsScreen1","End2FittingScreen","BSPFittingScreen2","JICFittingScreen2","MetricFittingScreen2","OrfsScreen2","OrientationSelectionScreen","CutLengthsScreen","HoseProtectionScreen","PressureTestingScreen","ShippingOptionsScreen","OrderConfirmationScreen1","ShippingDetailsScreen","PaymentScreen","OrderConfirmationScreen","headerLeft","OrderDetailsScreen","headerBackTitle","OrderDetailsScreen1","PaymentSuccessPage","PaymentReturnScreen","CartScreen","_ref3$silent","element","canvas","html2canvas","useCORS","logging","imgData","toDataURL","jsPDF","orientation","format","addImage","output","filename","pdfUrl","crypto","randomUUID","r","random","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","splice","n","getter","__esModule","a","leafPrototypes","getProto","getPrototypeOf","obj","t","mode","this","ns","def","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","f","chunkId","all","promises","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","doneFns","parentNode","bind","target","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}