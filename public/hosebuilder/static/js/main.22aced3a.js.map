{"version":3,"file":"static/js/main.22aced3a.js","mappings":"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","sources":["src/useEnvLoader.js","components/ScrollableGradientWrapper.js","screens/WelcomeScreen.js","components/Prices/HosePrices.js","screens/HoseSelectionScreen.js","screens/FittingSelectionScreen.js","screens/End1FittingScreen.js","components/Prices/BSPPrices.js","screens/BSPFittingScreen1.js","components/Prices/JICPrices.js","screens/JICFittingScreen1.js","components/Prices/MetricPrices.js","screens/MetricFittingScreen1.js","components/Prices/ORFSPrices.js","screens/OrfsScreen1.js","screens/End2FittingScreen.js","screens/BSPFittingScreen2.js","screens/JICFittingScreen2.js","screens/MetricFittingScreen2.js","screens/OrfsScreen2.js","screens/OrientationSelectionScreen.js","screens/NextArrowButton.js","screens/CutLengthsScreen.js","screens/HoseProtectionScreen.js","screens/PressureTestingScreen.js","screens/ShippingOptionsScreen.js","screens/OrderConfirmationScreen1.js","screens/ShippingDetailsScreen.js","components/PayPal/PayPalWeb.js","components/PayPal/PayPalNative.js","components/PayPal/PayPalWebView.js","components/PayPal/paypalConfig.js","screens/PaymentScreen.js","components/PDFGenerator/index.js","utils/emailService.js","screens/OrderConfirmationScreen.js","screens/TrialScreen2.js","screens/OrderDetailsScreen.js","components/ScreenWrapper.js","screens/OrderDetailsScreen1.js","components/PaymentSuccessPage.js","screens/PaymentReturnScreen.js","App.js","components/PDFGenerator/WebPDFGenerator.js","src/crypto-polyfill.js","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nconst useEnvLoader = () => {\n  const [isEnvLoaded, setIsEnvLoaded] = useState(false);\n\n  useEffect(() => {\n    const loadEnvScript = () => {\n      return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.src = 'http://localhost:3001/env.js';  // Reference to your env.js\n        script.async = true;\n        script.onload = () => resolve(true);\n        script.onerror = (err) => reject(err);\n        document.head.appendChild(script);\n      });\n    };\n\n    loadEnvScript()\n      .then(() => {\n        setIsEnvLoaded(true);\n      })\n      .catch((error) => {\n        console.error('Error loading env.js:', error);\n        setIsEnvLoaded(true);  // We can still proceed even if it fails\n      });\n  }, []);\n\n  return isEnvLoaded;\n};\n\nexport default useEnvLoader;\n","// components/ScrollableGradientWrapper.js\nimport React, { useEffect, useRef } from 'react';\nimport { View, Platform } from 'react-native';\n\nconst ScrollableGradientWrapper = ({ children, style }) => {\n  const wrapperRef = useRef(null);\n  const gradientRef = useRef(null);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const checkScroll = () => {\n        if (!wrapperRef.current || !gradientRef.current) return;\n\n        const wrapper = wrapperRef.current;\n        const scrollableDistance = wrapper.scrollHeight - wrapper.clientHeight;\n        const currentScroll = wrapper.scrollTop;\n        const isScrollable = scrollableDistance > 0;\n        const isAtBottom = Math.ceil(currentScroll) >= Math.floor(scrollableDistance);\n\n        // Show/hide gradient\n        if (gradientRef.current) {\n          gradientRef.current.style.opacity = (isScrollable && !isAtBottom) ? '1' : '0';\n        }\n      };\n\n      // Create ResizeObserver to monitor content size changes\n      const resizeObserver = new ResizeObserver((entries) => {\n        checkScroll();\n      });\n\n      // Initial checks with multiple timings\n      const initialChecks = () => {\n        checkScroll();\n        setTimeout(checkScroll, 100);\n        setTimeout(checkScroll, 500);\n        setTimeout(checkScroll, 1000);\n      };\n\n      if (wrapperRef.current) {\n        // Observe size changes\n        resizeObserver.observe(wrapperRef.current);\n        \n        // Add scroll listener\n        wrapperRef.current.addEventListener('scroll', checkScroll);\n        \n        // Watch for content changes\n        const mutationObserver = new MutationObserver(initialChecks);\n        mutationObserver.observe(wrapperRef.current, {\n          childList: true,\n          subtree: true\n        });\n\n        // Initial check\n        initialChecks();\n      }\n\n      // Handle window resize\n      window.addEventListener('resize', checkScroll);\n\n      // Cleanup\n      return () => {\n        if (wrapperRef.current) {\n          wrapperRef.current.removeEventListener('scroll', checkScroll);\n        }\n        resizeObserver.disconnect();\n        window.removeEventListener('resize', checkScroll);\n      };\n    }\n  }, []);\n\n  if (Platform.OS === 'web') {\n    return (\n      <div\n        ref={wrapperRef}\n        style={{\n          height: '100vh',\n          overflowY: 'auto',\n          position: 'relative',\n          backgroundColor: 'white',\n          ...style,\n          isolation: 'isolate',\n        }}\n      >\n        <div style={{ \n          minHeight: '100%',\n          paddingBottom: '100px',\n          position: 'relative',\n          zIndex: 1\n        }}>\n          {children}\n        </div>\n        <div \n          ref={gradientRef}\n          style={{\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            height: '120px',\n            background: 'linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 30%, rgba(255, 255, 255, 1) 100%)',\n            pointerEvents: 'none',\n            zIndex: 2,\n            transition: 'opacity 0.3s ease',\n            opacity: '0'\n          }} \n        />\n      </div>\n    );\n  }\n\n  return <View style={style}>{children}</View>;\n};\n\nexport default ScrollableGradientWrapper;","import React, { useRef, useEffect, useState } from 'react';\r\nimport { View, Text, StyleSheet, Image, TouchableOpacity, Animated, SafeAreaView, Modal, Platform, Dimensions } from 'react-native';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { Linking } from 'react-native';\r\n\r\nconst WelcomeScreen = ({ navigation }) => {\r\n  const fadeAnim = useRef(new Animated.Value(1)).current;\r\n  const [showSelectionModal, setShowSelectionModal] = useState(false);\r\n  const modalFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [selectedButton, setSelectedButton] = useState(null);\r\n  const [currentFeedbackIndex, setCurrentFeedbackIndex] = useState(0);\r\n  const handleEbayStorePress = () => {Linking.openURL('https://www.ebay.com.au/str/fluidpowergroup');};\r\n  const feedbackFadeAnim = useRef(new Animated.Value(1)).current;\r\n\r\n  const handleStartSelection = () => {\r\n    setShowSelectionModal(true);\r\n    Animated.timing(modalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  };\r\n\r\n  const handleBuildHose = () => {\r\n    setSelectedButton('build');\r\n    Animated.timing(modalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      setShowSelectionModal(false);\r\n      setSelectedButton(null);\r\n      navigation.navigate('HoseSelection', { isHoseOnly: false });\r\n    });\r\n  };\r\n  \r\n  const handleHoseOnly = () => {\r\n    setSelectedButton('hoseOnly');\r\n    Animated.timing(modalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      setShowSelectionModal(false);\r\n      setSelectedButton(null);\r\n      navigation.navigate('HoseSelection', { isHoseOnly: true });\r\n    });\r\n  };\r\n  \r\n  const handleOrderFitting = () => {\r\n    setSelectedButton('order');\r\n    Animated.timing(modalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      setShowSelectionModal(false);\r\n      setSelectedButton(null); // Reset selection\r\n      navigation.navigate('End1Fitting', {\r\n        selectedHose: null,\r\n        selectedHosePrice: null,\r\n        isOrderFittingMode: true \r\n       });\r\n    });\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    Animated.timing(modalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      setShowSelectionModal(false);\r\n      setSelectedButton(null);\r\n    });\r\n  };\r\n\r\n  const feedbackComments = [\r\n    {\r\n      id: 1,\r\n      image: require('../assets/feedback1.png'),\r\n    },\r\n    {\r\n      id: 2,\r\n      image: require('../assets/feedback2.png'),\r\n    },\r\n    {\r\n      id: 3,\r\n      image: require('../assets/feedback3.png'),\r\n    },\r\n    {\r\n      id: 4,\r\n      image: require('../assets/feedback4.png'),\r\n    },\r\n    {\r\n      id: 5,\r\n      image: require('../assets/feedback5.png'),\r\n    },\r\n    {\r\n      id: 6,\r\n      image: require('../assets/feedback6.png'),\r\n    },\r\n  ];\r\n\r\n  const fadeIn = () => {\r\n    fadeAnim.setValue(0);\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  };\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      fadeIn();\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      // Fade out\r\n      Animated.timing(feedbackFadeAnim, {\r\n        toValue: 0,\r\n        duration: 400,\r\n        useNativeDriver: true,\r\n      }).start(() => {\r\n        // Update index when fully faded out\r\n        setCurrentFeedbackIndex((prev) => \r\n          prev === feedbackComments.length - 1 ? 0 : prev + 1\r\n        );\r\n        \r\n        // Fade in\r\n        Animated.timing(feedbackFadeAnim, {\r\n          toValue: 1,\r\n          duration: 400,\r\n          useNativeDriver: true,\r\n        }).start();\r\n      });\r\n    }, 5000);\r\n  \r\n    return () => clearInterval(interval);\r\n  }, [feedbackComments.length]);\r\n\r\n  const handlePhonePress = () => {\r\n    Linking.openURL('tel:+61409517333');\r\n  };\r\n  \r\n  const handleEmailPress = () => {\r\n    Linking.openURL('mailto:info@fluidpowergroup.com.au');\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n          source={require('../assets/fluidpower_logo.gif')}\r\n          style={styles.logo}\r\n          resizeMode=\"contain\"\r\n        />\r\n      </View>\r\n      <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n        <View style={styles.titleContainer}>\r\n          <Text style={styles.title}>Hydraulic Hose Builder</Text>\r\n        </View>\r\n\r\n        <View style={styles.messageContainer}>\r\n          <Text style={styles.messageText}>\r\n            You are just a <Text style={styles.highlightText}>FEW</Text> steps away from\r\n          </Text>\r\n          <Text style={styles.messageText}>\r\n            <Text style={styles.highlightText}>CREATING</Text> your <Text style={styles.highlightText}>OWN HYDRAULIC HOSE</Text>\r\n          </Text>\r\n        </View>\r\n\r\n        <View style={styles.imageContainer}>\r\n          <Image\r\n            source={require('../assets/welcome_hose.png')}\r\n            style={styles.hoseImage}\r\n            resizeMode=\"contain\"\r\n          />\r\n        </View>\r\n\r\n        <View style={styles.instructionsContainer}>\r\n          <Text style={styles.instructionsText}>\r\n            Select the Hose Size, End Fittings,\r\n          </Text>\r\n          <Text style={styles.instructionsText}>\r\n            Cut Length, and Shipping Method.\r\n          </Text>\r\n          \r\n          <Text style={[styles.instructionsText, styles.spacedText]}>\r\n            We will crimp and ship it the <Text style={styles.highlightText}>SAME DAY</Text>*.\r\n          </Text>\r\n          \r\n          <Text style={[styles.instructionsText, styles.spacedText]}>\r\n            You're all set!\r\n          </Text>\r\n          \r\n          <Text style={[styles.instructionsText, styles.spacedText]}>\r\n            Let's get started.\r\n          </Text>\r\n        </View>\r\n\r\n        <TouchableOpacity\r\n          style={styles.startButton}\r\n          onPress={handleStartSelection}\r\n        >\r\n          <Text style={styles.startButtonText}>START SELECTION</Text>\r\n        </TouchableOpacity>\r\n\r\n        <View style={styles.asteriskContainer}>\r\n          <Text style={styles.asteriskText}>\r\n            *<Text style={styles.highlightText}>CUT OFF</Text> time for{' '}\r\n            <Text style={styles.highlightText}>SAME DAY</Text> shipping is{' '}\r\n            <Text style={styles.highlightText}>1530</Text> hrs AEST.\r\n          </Text>\r\n              \r\n              {/* Feedback flyer */}\r\n                <View style={styles.feedbackFlyerContainer}>\r\n                  <Text style={styles.feedbackTitle}>Customer Feedback</Text>\r\n                  <View style={styles.ebayStoreRow}>\r\n                    <Text style={styles.feedbackTitle}>from </Text>\r\n                    <TouchableOpacity onPress={handleEbayStorePress}>\r\n                      <Text style={[styles.feedbackTitle, styles.linkText]}>eBay Store</Text>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                  \r\n                  {/* Outer container with overflow hidden */}\r\n                  <View style={styles.feedbackSlideContainer}>\r\n                    <Animated.View \r\n                      style={[\r\n                        styles.feedbackSlide, \r\n                        { opacity: feedbackFadeAnim }\r\n                      ]}\r\n                    >\r\n                      <Image \r\n                        source={feedbackComments[currentFeedbackIndex].image}\r\n                        style={styles.feedbackImage}\r\n                        resizeMode=\"contain\"\r\n                      />\r\n                      <Text style={styles.feedbackText}>\r\n                        {feedbackComments[currentFeedbackIndex].text}\r\n                      </Text>\r\n                    </Animated.View>\r\n                  </View>\r\n                  \r\n                  <Text style={styles.taglineText}>Same Service New Platform</Text>\r\n                  \r\n                  <View style={styles.feedbackIndicators}>\r\n                    {feedbackComments.map((_, index) => (\r\n                      <View \r\n                        key={index}\r\n                        style={[\r\n                          styles.indicator,\r\n                          currentFeedbackIndex === index && styles.activeIndicator\r\n                        ]}\r\n                      />\r\n                    ))}\r\n                  </View>\r\n                </View>\r\n          \r\n          <Text style={styles.enquiryText}>\r\n            For any and all enquiries:\r\n          </Text>\r\n          \r\n          <TouchableOpacity onPress={handlePhonePress}>\r\n            <Text style={styles.contactText}>\r\n              +61 409 517 333\r\n            </Text>\r\n          </TouchableOpacity>\r\n          \r\n          <TouchableOpacity onPress={handleEmailPress}>\r\n            <Text style={styles.contactText}>\r\n              email: info@fluidpowergroup.com.au\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <Text style={styles.copyrightText}>\r\n            FluidPower Group All Rights Reserved {new Date().getFullYear()}\r\n          </Text>\r\n\r\n          <Text style={styles.appCreditsText}>\r\n            app by aBC\r\n          </Text>\r\n        </View>\r\n        </Animated.View>\r\n      </SafeAreaView>\r\n    </ScrollableGradientWrapper>\r\n              <Modal\r\n            transparent={true}\r\n            visible={showSelectionModal}\r\n            onRequestClose={handleCloseModal}\r\n          >\r\n            <View style={styles.modalOverlay}>\r\n              <TouchableOpacity \r\n                style={styles.overlayBackground}\r\n                activeOpacity={1}\r\n                onPress={handleCloseModal}\r\n              />\r\n              <Animated.View style={[styles.selectionContainer, { opacity: modalFadeAnim }]}>\r\n                <Text style={styles.selectionTitle}>You are here to</Text>\r\n                \r\n                <TouchableOpacity\r\n                  style={[\r\n                    styles.selectionButton,\r\n                    selectedButton === 'hoseOnly' && styles.selectedButton\r\n                  ]}\r\n                  onPress={handleHoseOnly}\r\n                >\r\n                  <Text style={styles.selectionButtonText}>Order Hose Only</Text>\r\n                </TouchableOpacity>\r\n\r\n                <TouchableOpacity\r\n                  style={[\r\n                    styles.selectionButton,\r\n                    selectedButton === 'order' && styles.selectedButton\r\n                  ]}\r\n                  onPress={handleOrderFitting}\r\n                >\r\n                  <Text style={styles.selectionButtonText}>Order Fitting Only</Text>\r\n                </TouchableOpacity>\r\n\r\n                <TouchableOpacity\r\n                  style={[\r\n                    styles.selectionButton,\r\n                    selectedButton === 'build' && styles.selectedButton\r\n                  ]}\r\n                  onPress={handleBuildHose}\r\n                >\r\n                  <Text style={styles.selectionButtonText}>Build Complete Hose</Text>\r\n                </TouchableOpacity>\r\n\r\n              </Animated.View>\r\n            </View>\r\n        </Modal>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    paddingBottom: 30,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    paddingBottom: 15,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 15,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 25,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  messageContainer: {\r\n    alignItems: 'center',\r\n    marginVertical: 10,\r\n  },\r\n  messageText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n    marginVertical: 2,\r\n  },\r\n  highlightText: {\r\n    color: '#ffc100',\r\n    fontWeight: 'bold',\r\n    fontSize: 20,\r\n  },\r\n  imageContainer: {\r\n    marginVertical: 20,\r\n    alignItems: 'center',\r\n    paddingBottom: 10,\r\n  },\r\n  hoseImage: {\r\n    width: 300,\r\n    height: 300,\r\n  },\r\n  instructionsContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  instructionsText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n    lineHeight: 28,\r\n    textAlign: 'center',\r\n  },\r\n  spacedText: {\r\n    marginTop: 25,\r\n  },\r\n  startButton: {\r\n    backgroundColor: '#ffc100',\r\n    paddingHorizontal: 30,\r\n    paddingVertical: 15,\r\n    borderRadius: 20,\r\n    marginTop: 20,\r\n    marginBottom: 40,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n},\r\n  startButtonText: {\r\n    color: '#4a4a4a',\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n  },\r\n  asteriskContainer: {\r\n    position: 'relative',\r\n    marginTop: 20,\r\n    marginBottom: 30, // Adjust this value to move the text up or down\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  asteriskText: {\r\n    fontSize: 18,\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  copyrightText: {\r\n    fontSize: 16,\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n    marginTop: 8,\r\n    fontStyle: 'italic',\r\n    opacity: 0.8,\r\n    marginTop: 20,\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    position: 'relative', \r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n  },\r\n  selectionContainer: {\r\n    position: 'relative', \r\n    width: '80%',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n    borderRadius: 25,\r\n    padding: 20,\r\n    alignItems: 'center',\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectionTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n  },\r\n  selectionButton: {\r\n    minWidth: 200, // Set a minimum width\r\n    alignSelf: 'center', // Center the button\r\n    backgroundColor: 'white', // Default white background\r\n    paddingHorizontal: 30,\r\n    paddingVertical: 15,\r\n    borderRadius: 25,\r\n    marginVertical: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  selectionButtonText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  enquiryText: {\r\n    fontSize: 16,\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n    marginTop: 8,\r\n    marginBottom: 12,\r\n  },\r\n  contactText: {\r\n    fontSize: 16,\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n    marginTop: 8,\r\n    textDecorationLine: 'underline',\r\n    paddingVertical: 10,\r\n  },\r\n  appCreditsText: {\r\n    fontSize: 14,\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n    marginTop: 5,\r\n    opacity: 0.6,\r\n  },\r\n  feedbackFlyerContainer: {\r\n    backgroundColor: 'white',\r\n    borderRadius: 15,\r\n    padding: 15,\r\n    marginVertical: 20,\r\n    width: '95%',\r\n    minHeight: 380, \r\n    alignItems: 'center',\r\n    \r\n    // Enhanced shadow for iOS - more pronounced on all sides\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 0,\r\n    },\r\n    shadowOpacity: 0.35,\r\n    shadowRadius: 8,\r\n    elevation: 8,\r\n    borderWidth: 0.5,\r\n    borderColor: 'rgba(0,0,0,0.1)',\r\n  },\r\n  feedbackSlideContainer: {\r\n    width: '100%',\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  feedbackTitle: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    marginBottom: 10,\r\n  },\r\n  feedbackSlide: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  feedbackImage: {\r\n    width: '100%',\r\n    height: 250,\r\n    marginBottom: 5,\r\n    resizeMode: 'contain',\r\n  },\r\n  feedbackText: {\r\n    fontSize: 16,\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n    fontStyle: 'italic',\r\n  },\r\n  feedbackIndicators: {\r\n    flexDirection: 'row',\r\n    marginTop: 15,\r\n  },\r\n  taglineText: {\r\n    fontSize: 18,\r\n    fontStyle: 'italic',\r\n    color: '#4a4a4a',\r\n    marginTop: 15,\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n    // Optional: add a subtle highlight or emphasis\r\n    fontWeight: '500',\r\n  },\r\n  indicator: {\r\n    width: 8,\r\n    height: 8,\r\n    borderRadius: 4,\r\n    backgroundColor: '#ddd',\r\n    marginHorizontal: 5,\r\n  },\r\n  activeIndicator: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  ebayStoreRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  linkText: {\r\n    color: '#0654ba', // eBay blue color\r\n    textDecorationLine: 'underline',\r\n  }\r\n});\r\n\r\nexport default WelcomeScreen;","// components/Prices/HosePrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_HOSE_PRICES = {\n  \"1/4\": \"12.40\",\n  \"3/8\": \"14.50\",\n  \"1/2\": \"17.65\",\n  \"5/8\": \"19.50\",\n  \"3/4\": \"22.00\",\n  \"1\": \"28.00\"\n};\n\nexport const getHosePrices = async () => {\n  try {\n\n      const response = await fetch(`${BASE_URL}/api/get-prices`, {\n          method: 'GET',\n          headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json',\n              'x-api-key': API_CLIENT_KEY,\n          }\n      });\n\n      console.log(\" Response Status:\", response.status);\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Error response:', errorText);\n        throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n      const text = await response.text();\n\n      const data = JSON.parse(text);\n\n      return data.hosePrices || DEFAULT_HOSE_PRICES;\n  } catch (error) {\n      console.error(\" Error fetching Hose prices:\", error);\n      return DEFAULT_HOSE_PRICES;\n  }\n};","import React, { useState, useRef, useEffect, useMemo } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Dimensions, ScrollView, Image, SafeAreaView, Platform, Animated} from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport { getHosePrices } from '../components/Prices/HosePrices';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst isMobile = SCREEN_WIDTH < 700;\r\nconst MAX_COLUMN_WIDTH = 400;\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\r\n\r\nconst HoseSizeButton = ({ size, insideDiameter, specs, hosePrice, onPress, isSelected }) => (\r\n  <View style={styles.buttonContainer}>\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={styles.sizeContent}>\r\n        <Text style={styles.sizeButtonText}>{size}</Text>\r\n        <Text \r\n          style={styles.sizeDescription}\r\n          numberOfLines={1}\r\n          ellipsizeMode=\"tail\"\r\n        >\r\n          Inside Diameter: {insideDiameter}\r\n        </Text>\r\n        <View style={styles.hoseImageContainer}>\r\n          <Image\r\n            source={require('../assets/hose_cross_section.png')}\r\n            style={styles.hoseCrossSection}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Image\r\n            source={require('../assets/hose_image.png')}\r\n            style={styles.hoseImage}\r\n            resizeMode=\"contain\"\r\n          />\r\n        </View>\r\n        <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A${hosePrice}</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n    <View style={styles.specsContainer}>\r\n      {specs.map((spec, index) => (\r\n        <Text \r\n          key={index}\r\n          style={styles.specText}\r\n          numberOfLines={1}\r\n          ellipsizeMode=\"tail\"\r\n        >\r\n           {spec}\r\n        </Text>\r\n      ))}\r\n    </View>\r\n  </View>\r\n);\r\n\r\nconst HoseSelectionScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const [selectedHosePrice, setSelectedHosePrice] = useState(null);\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const { isHoseOnly } = route.params || { isHoseOnly: false };\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const hoseSizes = useMemo(() => prices ? [\r\n    { \r\n      size: '1/4\"', \r\n      insideDiameter: '1/4 Inch',\r\n      hosePrice: `  ${prices[\"1/4\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 6525psi',\r\n        'Burst Pressure: 26,100psi',\r\n        'Bend Radius: 50mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '3/8\"', \r\n      insideDiameter: '3/8 Inch',\r\n      hosePrice: `  ${prices[\"3/8\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 5438psi',\r\n        'Burst Pressure: 21,752psi',\r\n        'Bend Radius: 75mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '1/2\"', \r\n      insideDiameter: '1/2 Inch',\r\n      hosePrice: `  ${prices[\"1/2\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 4495psi',\r\n        'Burst Pressure: 17,980psi',\r\n        'Bend Radius: 100mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '5/8\"', \r\n      insideDiameter: '5/8 Inch',\r\n      hosePrice: `  ${prices[\"5/8\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 4350psi',\r\n        'Burst Pressure: 17,400psi',\r\n        'Bend Radius: 130mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '3/4\"', \r\n      insideDiameter: '3/4 Inch',\r\n      hosePrice: `  ${prices[\"3/4\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 4162psi',\r\n        'Burst Pressure: 16,675psi',\r\n        'Bend Radius: 200mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '1\"', \r\n      insideDiameter: '1 Inch',\r\n      hosePrice: `  ${prices[\"1\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 3263psi',\r\n        'Burst Pressure: 13,050psi',\r\n        'Bend Radius: 250mm'\r\n      ]\r\n    },\r\n  ] : [], [prices]);\r\n\r\n  const handleSizeSelection = (size, hosePrice) => {\r\n    setSelectedSize(size);\r\n    // Clean the price string by removing extra spaces and \"/meter\"\r\n    const cleanPrice = hosePrice.trim().split('/')[0].trim();\r\n    setSelectedHosePrice(cleanPrice);\r\n  \r\n    // Start fade-out animation\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isHoseOnly) {\r\n        // Navigate to CutLengths with exact same parameter structure as original handleHoseOnly\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: { \r\n            size: size,  // Using selectedSize instead of size to match original\r\n          },\r\n          selectedHosePrice: cleanPrice, // Using selectedHosePrice from state to match original\r\n          isHoseOnly: true\r\n        });\r\n      } else {\r\n        // Navigate to End1Fitting with exact same parameter structure as original handleNext\r\n        navigation.navigate('End1Fitting', {\r\n          selectedHose: { \r\n            size: size,  // Using selectedSize instead of size to match original\r\n          },\r\n          selectedHosePrice: cleanPrice // Using selectedHosePrice from state to match original\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Fade in animation when the component mounts\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  // Add useEffect for price loading\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getHosePrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Sequence animations\r\n        Animated.sequence([\r\n          // Fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay\r\n          Animated.delay(100),\r\n          // Fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  // Reset fade-in when screen comes into focus\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      //setSelectedSize(null);\r\n      contentFadeAnim.setValue(0);\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  // First check for loading\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Hoses ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.contentContainer, { opacity: contentFadeAnim }]}>\r\n            <ScrollView \r\n              style={styles.mainScrollView}\r\n              contentContainerStyle={styles.mainScrollViewContent}\r\n              showsVerticalScrollIndicator={true}\r\n            >\r\n              <View style={styles.titleContainer}>\r\n                <Text style={styles.title}>Select Hose Size</Text>\r\n              </View>\r\n              <View style={styles.scrollViewContent}>\r\n                {hoseSizes.map((hose, index) => (\r\n                  <HoseSizeButton\r\n                    key={index}\r\n                    size={hose.size}\r\n                    insideDiameter={hose.insideDiameter}\r\n                    specs={hose.specs}\r\n                    hosePrice={hose.hosePrice}\r\n                    onPress={() => handleSizeSelection(hose.size, hose.hosePrice)}\r\n                    isSelected={selectedSize === hose.size}\r\n                  />\r\n                ))}\r\n              </View>\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  mainScrollView: {\r\n    flex: 1,\r\n  },\r\n  mainScrollViewContent: {\r\n    flexGrow: 1,\r\n    paddingBottom: 20,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    marginTop: 10,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 25,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center',\r\n    paddingHorizontal: 15, // Restore original padding\r\n    paddingBottom: 20,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    marginBottom: 10,\r\n    width: '100%',\r\n    maxWidth: 600,\r\n    paddingHorizontal: 0, // Restore horizontal padding\r\n  },\r\n  sizeButton: {\r\n    width: isMobile ? 160 : 220, // Smaller button on mobile\r\n    height: isMobile ? 150 : 160, // Slightly smaller height on mobile\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 30,\r\n    overflow: 'hidden',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'transparent',\r\n    paddingBottom: 10,\r\n    marginBottom: 15,\r\n    marginRight: isMobile ? 2 : 30,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  sizeContent: {\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    paddingHorizontal: 0, // Add minimal padding inside content\r\n  },\r\n  innerContainer: {\r\n    alignItems: 'center',\r\n  },\r\n  selectedInnerContainer: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: isMobile ? 20 : 24, // Smaller font on mobile\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: isMobile ? 0 : 5, // Less margin on mobile\r\n  },\r\n  sizeDescription: {\r\n    fontSize: isMobile ? 12 : 14, // Smaller font on mobile\r\n    color: '#666',\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n    width: '100%', // Make description take full width\r\n    // For web environments\r\n    ...(Platform.OS === 'web' && {\r\n      whiteSpace: 'nowrap',\r\n    }),\r\n  },\r\n  hoseImageContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    // Scale down images slightly on mobile\r\n    ...(isMobile && {\r\n      transform: [{ scale: 0.9 }]\r\n    })\r\n  },\r\n  hoseCrossSection: {\r\n    width: isMobile ? 35 : 40, // Slightly smaller on mobile\r\n    height: isMobile ? 35 : 40,\r\n    marginRight: 6, // Reduce margin\r\n  },\r\n  hoseImage: {\r\n    width: isMobile ? 70 : 80, // Slightly smaller on mobile\r\n    height: isMobile ? 35 : 40,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: isMobile ? 3 : 5, // Less padding on mobile\r\n    marginTop: isMobile ? 3 : 5, // Less margin on mobile\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: isMobile ? 14 : 16, // Smaller font on mobile\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  specsContainer: {\r\n    width: isMobile ? 220 : 250, // Restore original widths\r\n    marginLeft: 10, // Keep consistent spacing\r\n  },\r\n  specText: {\r\n    fontSize: isMobile ? 12 : 14, // Smaller font on mobile\r\n    color: '#666',\r\n    marginBottom: 3,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  floatingFooter: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    backgroundColor: 'white',\r\n    borderTopWidth: 1,\r\n    borderTopColor: 'rgba(0, 0, 0, 0.1)',\r\n    // Add shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: -2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  viewportFooter: {\r\n    position: 'absolute',\r\n    bottom: Platform.OS === 'ios' ? 40 : 20,\r\n    left: 0,\r\n    right: 0,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)', // semi-transparent white background\r\n    paddingVertical: 10,\r\n    marginHorizontal: 10,\r\n    borderRadius: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n    // Add these new properties:\r\n    overflow: 'visible', // Ensures shadow isn't clipped\r\n    elevation: Platform.OS === 'android' ? 24 : 0, // Higher elevation for Android\r\n  },\r\n  footerContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  hoseOnlyButton: {\r\n    backgroundColor: '#4a4a4a',\r\n    padding: 12,\r\n    borderRadius: 20,\r\n    alignSelf: 'center',\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  hoseOnlyButtonText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default HoseSelectionScreen;","// FittingSelectionScreen.js\r\nimport React, { useState } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nconst FittingSelectionScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const { selectedHose } = route.params;\r\n  const [selectedFitting, setSelectedFitting] = useState(null);\r\n\r\n  const fittings = [\r\n    { type: 'JIC 37', shapes: ['Male Straight', 'Female Straight', '45 Female Elbow', '90 Female Elbow'] },\r\n    { type: 'BSP 60', shapes: ['Male Straight', 'Female Straight', '45 Female Elbow', '90 Female Elbow'] },\r\n    { type: 'Metric Light 24', shapes: ['Male Straight', 'Female Straight', '45 Female Elbow', '90 Female Elbow'] },\r\n    { type: 'O.R.F.S', shapes: ['Male Straight', 'Female Straight', '45 Female Elbow', '90 Female Elbow'] },\r\n  ];\r\n\r\n  const handleSelection = (fitting) => {\r\n    setSelectedFitting(fitting);\r\n    // Add animation logic here if desired\r\n    setTimeout(() => {\r\n      navigation.navigate('Summary', { selectedHose, selectedFitting });\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <ScrollView contentContainerStyle={styles.container}>\r\n      <Text style={styles.title}>Select Fitting Type</Text>\r\n      <Text style={styles.subtitle}>For Hose Size: {selectedHose.size}</Text>\r\n      {fittings.map((fitting) => (\r\n        <View key={fitting.type}>\r\n          <Text style={styles.fittingType}>{fitting.type}</Text>\r\n          {fitting.shapes.map((shape) => (\r\n            <TouchableOpacity\r\n              key={shape}\r\n              style={[styles.fittingOption, selectedFitting === `${fitting.type} - ${shape}` && styles.selectedOption]}\r\n              onPress={() => handleSelection(`${fitting.type} - ${shape}`)}\r\n            >\r\n              <Text style={styles.fittingShape}>{shape}</Text>\r\n            </TouchableOpacity>\r\n          ))}\r\n        </View>\r\n      ))}\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flexGrow: 1,\r\n    padding: 20,\r\n    backgroundColor: '#fff',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n  },\r\n  fittingType: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    marginTop: 20,\r\n    marginBottom: 10,\r\n  },\r\n  fittingOption: {\r\n    borderWidth: 1,\r\n    borderColor: '#FFA500',\r\n    borderRadius: 10,\r\n    padding: 15,\r\n    marginBottom: 10,\r\n  },\r\n  selectedOption: {\r\n    backgroundColor: '#FFF7E6',\r\n  },\r\n  fittingShape: {\r\n    fontSize: 16,\r\n  },\r\n});\r\n\r\nexport default FittingSelectionScreen;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated, Modal, TouchableWithoutFeedback } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400;\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\r\n\r\nconst FittingTypeButton = ({ type, description, onPress, isSelected, onHelpPress }) => (\r\n  <TouchableOpacity \r\n    style={[styles.fittingButton, isSelected && styles.selectedFittingButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.fittingContent}>\r\n      <Text style={styles.fittingButtonText}>{type}</Text>\r\n      <Text style={styles.fittingDescription}>{description}</Text>\r\n    </View>\r\n    <TouchableOpacity \r\n      style={styles.helpIcon} \r\n      onPress={onHelpPress}\r\n      activeOpacity={0.6}\r\n      hitSlop={{ top: 10, bottom: 10, left: 10, right: 10 }}\r\n    >\r\n      <View style={styles.helpIconBackground}>\r\n        <Text style={styles.helpIconText}>?</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst End1FittingScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedFitting, setSelectedFitting] = useState(null);\r\n  const { selectedHose, selectedHosePrice, isOrderFittingMode } = route.params;\r\n  const [showSizeModal, setShowSizeModal] = useState(false);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const sizeFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false);\r\n  const [currentHelpImage, setCurrentHelpImage] = useState(null);\r\n  const helpFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showDiagramOverlay, setShowDiagramOverlay] = useState(false);\r\n  const diagramFadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const fittingTypes = [\r\n    { type: 'BSP 60', description: 'British Standard Pipe', helpImage: require('../assets/bsp_help.png') },\r\n    { type: 'JIC 37', description: 'Joint Industrial Council', helpImage: require('../assets/jic_help.png') },\r\n    { type: 'METRIC LIGHT 24', description: 'Cone O-Ring', helpImage: require('../assets/metric_help.png') },\r\n    { type: 'O.R.F.S', description: 'O-Ring Flat Seal', helpImage: require('../assets/orfs_help.png') },\r\n  ];\r\n\r\n  const hoseSizes = [\"1/4\\\"\", \"3/8\\\"\", \"1/2\\\"\", \"5/8\\\"\", \"3/4\\\"\", \"1\\\"\"];\r\n\r\n  useEffect(() => {\r\n        // Fade in animation when the component mounts\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      // Reset the selection and fade in when the screen comes into focus\r\n      //setSelectedFitting(null);\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n const handleFittingSelection = (type) => {\r\n  setSelectedFitting(type);\r\n  \r\n  if (isOrderFittingMode) {\r\n    // Show size selection modal for OrderFitting mode\r\n    setShowSizeModal(true);\r\n    sizeFadeAnim.setValue(0);\r\n    Animated.timing(sizeFadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n    return;\r\n  }\r\n  \r\n  Animated.timing(fadeAnim, {\r\n    toValue: 0,\r\n    duration: 800,\r\n    useNativeDriver: Platform.OS === 'native',\r\n  }).start(() => {\r\n    const baseParams = {\r\n      selectedFitting: { type },\r\n      isOrderFittingMode,\r\n      selectedHose,\r\n      selectedHosePrice\r\n    };\r\n\r\n    // Switch statement uses baseParams directly\r\n    switch (type) {\r\n      case 'BSP 60':\r\n        navigation.navigate('BSPFittingScreen1', baseParams);\r\n        break;\r\n      case 'JIC 37':\r\n        navigation.navigate('JICFittingScreen1', baseParams);\r\n        break;\r\n      case 'METRIC LIGHT 24':\r\n        navigation.navigate('MetricFittingScreen1', baseParams);\r\n        break;\r\n      case 'O.R.F.S':\r\n        navigation.navigate('OrfsScreen1', baseParams);\r\n        break;\r\n      default:\r\n        console.log('Selected Hose:', selectedHose);\r\n        console.log('Selected Fitting:', type);\r\n    }\r\n  });\r\n};\r\n\r\nconst handleSizeSelection = (size) => {\r\n  setSelectedSize(size);\r\n  \r\n  // Navigate to the appropriate screen with both fitting and size selection\r\n  const baseParams = {\r\n    selectedFitting: { type: selectedFitting },\r\n    isOrderFittingMode: true,\r\n    selectedHose: { size },\r\n    selectedHosePrice: '0'\r\n  };\r\n\r\n  Animated.timing(sizeFadeAnim, {\r\n    toValue: 0,\r\n    duration: 300,\r\n    useNativeDriver: Platform.OS === 'native',\r\n  }).start(() => {\r\n    setShowSizeModal(false);\r\n    switch (selectedFitting) {\r\n      case 'BSP 60':\r\n        navigation.navigate('BSPFittingScreen1', baseParams);\r\n        break;\r\n      case 'JIC 37':\r\n        navigation.navigate('JICFittingScreen1', baseParams);\r\n        break;\r\n      case 'METRIC LIGHT 24':\r\n        navigation.navigate('MetricFittingScreen1', baseParams);\r\n        break;\r\n      case 'O.R.F.S':\r\n        navigation.navigate('OrfsScreen1', baseParams);\r\n        break;\r\n    }\r\n  });\r\n};\r\n\r\nconst handleCloseSizeModal = () => {\r\n  Animated.timing(sizeFadeAnim, {\r\n    toValue: 0,\r\n    duration: 300,\r\n    useNativeDriver: Platform.OS === 'native',\r\n  }).start(() => {\r\n    setShowSizeModal(false);\r\n    setSelectedSize(null);\r\n    setSelectedFitting(null);\r\n  });\r\n};\r\n\r\n  const handleHelpPress = (helpImage) => {\r\n    setCurrentHelpImage(helpImage);\r\n    setShowHelpOverlay(true);\r\n    helpFadeAnim.setValue(0);\r\n    Animated.timing(helpFadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  };\r\n\r\n  const closeHelpOverlay = () => {\r\n    Animated.timing(helpFadeAnim, {\r\n      toValue: 0,\r\n      duration: 300,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      setShowHelpOverlay(false);\r\n    });\r\n  };\r\n\r\n  const handleDiagramPress = () => {\r\n    setShowDiagramOverlay(true);\r\n    diagramFadeAnim.setValue(0);\r\n    Animated.timing(diagramFadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  };\r\n  \r\n  const closeDiagramOverlay = () => {\r\n    Animated.timing(diagramFadeAnim, {\r\n      toValue: 0,\r\n      duration: 300,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      setShowDiagramOverlay(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button - Outside scroll wrapper */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n  \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Select Thread Type</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n  \r\n            {/* Conditional rendering for diagram with spacing compensation */}\r\n            {isOrderFittingMode ? (\r\n              <View style={styles.diagramSpacing} />\r\n            ) : (\r\n              <>\r\n                <TouchableOpacity onPress={handleDiagramPress}>\r\n                  <Image\r\n                    source={require('../assets/end1_thread_diagram.png')}\r\n                    style={styles.diagram}\r\n                    resizeMode=\"contain\"\r\n                  />\r\n                  <Text style={styles.clickToEnlargeText}>Click photo to enlarge</Text>\r\n                </TouchableOpacity>\r\n              </>\r\n            )}\r\n            \r\n            <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\r\n              {fittingTypes.map((fitting, index) => (\r\n                <FittingTypeButton\r\n                  key={index}\r\n                  type={fitting.type}\r\n                  description={fitting.description}\r\n                  onPress={() => handleFittingSelection(fitting.type)}\r\n                  isSelected={selectedFitting === fitting.type}\r\n                  onHelpPress={() => handleHelpPress(fitting.helpImage)}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n  \r\n      {/* Keep Modal outside ScrollableGradientWrapper */}\r\n      <Modal\r\n        transparent={true}\r\n        visible={showHelpOverlay}\r\n        onRequestClose={closeHelpOverlay}\r\n      >\r\n        <TouchableWithoutFeedback onPress={closeHelpOverlay}>\r\n          <View style={styles.modalOverlay}>\r\n            <View style={styles.overlayBackground} />\r\n            <Animated.View style={[styles.helpImageContainer, { opacity: helpFadeAnim }]}>\r\n              <TouchableOpacity \r\n                style={styles.closeButton}\r\n                onPress={closeHelpOverlay}\r\n              >\r\n                <Text style={styles.closeButtonText}></Text>\r\n              </TouchableOpacity>\r\n              <Image\r\n                source={currentHelpImage}\r\n                style={styles.helpImage}\r\n                resizeMode=\"contain\"\r\n              />\r\n            </Animated.View>\r\n          </View>\r\n        </TouchableWithoutFeedback>\r\n      </Modal>\r\n\r\n      <Modal\r\n      transparent={true}\r\n      visible={showDiagramOverlay}\r\n      onRequestClose={closeDiagramOverlay}\r\n    >\r\n      <TouchableWithoutFeedback onPress={closeDiagramOverlay}>\r\n        <View style={styles.modalOverlay}>\r\n          <View style={styles.overlayBackground} />\r\n          <Animated.View style={[styles.diagramImageContainer, { opacity: diagramFadeAnim }]}>\r\n            <TouchableOpacity \r\n              style={styles.closeButton}\r\n              onPress={closeDiagramOverlay}\r\n            >\r\n              <Text style={styles.closeButtonText}></Text>\r\n            </TouchableOpacity>\r\n            <Image\r\n              source={require('../assets/end1_thread_diagram.png')}\r\n              style={styles.enlargedDiagram}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </Animated.View>\r\n        </View>\r\n      </TouchableWithoutFeedback>\r\n    </Modal>\r\n\r\n    <Modal\r\n  transparent={true}\r\n  visible={showSizeModal}\r\n  onRequestClose={handleCloseSizeModal}\r\n>\r\n  <View style={styles.modalOverlay}>\r\n    <TouchableOpacity \r\n      style={styles.overlayBackground}\r\n      activeOpacity={1}\r\n      onPress={handleCloseSizeModal}\r\n    />\r\n    <Animated.View style={[styles.selectionContainer, { opacity: sizeFadeAnim }]}>\r\n      <TouchableOpacity \r\n        style={styles.closeButton}\r\n        onPress={handleCloseSizeModal}\r\n      >\r\n        <Text style={styles.closeButtonText}></Text>\r\n      </TouchableOpacity>\r\n      \r\n      <Text style={styles.selectionTitle}>\r\n        Select the Hose Size you're ordering the Fittings for:\r\n      </Text>\r\n      \r\n      {hoseSizes.map((size, index) => (\r\n        <TouchableOpacity\r\n          key={index}\r\n          style={[\r\n            styles.selectionButton,\r\n            selectedSize === size && styles.selectedButton\r\n          ]}\r\n          onPress={() => handleSizeSelection(size)}\r\n        >\r\n          <Text style={styles.selectionButtonText}>{size}</Text>\r\n        </TouchableOpacity>\r\n      ))}\r\n    </Animated.View>\r\n  </View>\r\n</Modal>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignSelf: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    marginTop: 30,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 25,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  diagram: {\r\n    width: '100%',\r\n    height: 200,\r\n    marginVertical: 20,\r\n  },\r\n  diagramSpacing: {\r\n    height: 80, // Adjust this value to match your desired spacing\r\n    marginVertical: 20, // Keeping the same margins as the diagram\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n    paddingBottom: 20,\r\n  },\r\n  fittingButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    overflow: 'hidden',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedFittingButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  fittingContent: {\r\n    padding: 15,\r\n    paddingRight: 44,\r\n  },\r\n  fittingButtonText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n  },\r\n  fittingDescription: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  helpIcon: {\r\n    position: 'absolute',\r\n    top: 0,  // Changed from 5\r\n    right: 0, // Changed from 5\r\n    width: 44, // Increased from 24 - Apple's recommended minimum touch target size\r\n    height: 44, // Increased from 24\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  helpIconText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    width: 24,  // Keep visual size the same\r\n    height: 24, // Keep visual size the same\r\n    borderRadius: 12,\r\n    textAlign: 'center',\r\n    lineHeight: 24, // Center text vertically\r\n  },\r\n  helpIconBackground: {\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n  },\r\n  helpImageContainer: {\r\n    width: '80%',\r\n    height: '80%',\r\n  },\r\n  helpImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: -20,\r\n    right: -20,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#4a4a4a',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  closeButtonText: {\r\n    color: 'white',\r\n    fontSize: 35,\r\n    textAlign: 'center',\r\n    alignSelf: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  clickToEnlargeText: {\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n    fontSize: 18,\r\n    marginTop: 5,\r\n    fontWeight: 'Bold',\r\n    marginBottom: 20,\r\n  },\r\n  diagramImageContainer: {\r\n    width: '90%',\r\n    height: '80%',\r\n    backgroundColor: 'white',\r\n    borderRadius: 20,\r\n    padding: 20,\r\n  },\r\n  enlargedDiagram: {\r\n    width: '100%',\r\n    height: '100%',\r\n    borderRadius: 10,\r\n  },\r\n  selectionContainer: {\r\n    position: 'relative',\r\n    width: '80%',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n    borderRadius: 25,\r\n    padding: 20,\r\n    alignItems: 'center',\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectionTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n  },\r\n  selectionButton: {\r\n    minWidth: 200,\r\n    alignSelf: 'center',\r\n    backgroundColor: 'white',\r\n    paddingHorizontal: 30,\r\n    paddingVertical: 15,\r\n    borderRadius: 25,\r\n    marginVertical: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  selectionButtonText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default End1FittingScreen;","// components/Prices/BSPPrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL; // Add fallback URL\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_BSP_PRICES = {\n    \"1/8\": \"6.10\",\n    \"1/4\": \"7.28\",\n    \"3/8\": \"11.18\",\n    \"1/2\": \"14.25\",\n    \"3/4\": \"16.25\",\n    \"1\": \"18.48\"\n};\n\nexport const getBSPPrices = async () => {\n    try {\n        // Use full URL instead of relative path\n        const response = await fetch(`${BASE_URL}/api/get-prices`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'x-api-key': API_CLIENT_KEY\n            }\n        });\n        \n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('Error response:', errorText);\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const text = await response.text();\n        \n        const data = JSON.parse(text);\n        return data.bspPrices || DEFAULT_BSP_PRICES;\n    } catch (error) {\n        console.error('Error fetching BSP prices:', error);\n        return DEFAULT_BSP_PRICES;\n    }\n};","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getBSPPrices } from '../components/Prices/BSPPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 0.8).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n  \r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst BSPFittingScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'BSP Male Straight Tapered', image: require('../assets/bsp_male_straight_tapered.png') },\r\n    { name: 'BSP Male Straight Parallel', image: require('../assets/bsp_male_straight_parallel.png') },\r\n    { name: 'BSP Female Straight', image: require('../assets/bsp_female_straight.png') },\r\n    { name: 'BSP Female 45', image: require('../assets/bsp_female_45.png') },\r\n    { name: 'BSP Female 90', image: require('../assets/bsp_female_90.png') },\r\n    { name: 'BSP Banjo', image: require('../assets/bsp_banjo.png') }\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '1/8\" - 28', basePrice: `${prices[\"1/8\"]}` },\r\n    { size: '1/4\" - 19', basePrice: `${prices[\"1/4\"]}` },\r\n    { size: '3/8\" - 19', basePrice: `${prices[\"3/8\"]}` },\r\n    { size: '1/2\" - 14', basePrice: `${prices[\"1/2\"]}` },\r\n    { size: '3/4\" - 14', basePrice: `${prices[\"3/4\"]}` },\r\n    { size: '1\" - 11', basePrice: `${prices[\"1\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['1/8\"', '1/4\"', '3/8\"'],\r\n    '3/8\"': ['1/4\"', '3/8\"', '1/2\"'],\r\n    '1/2\"': ['3/8\"', '1/2\"', '3/4\"'],\r\n    '5/8\"': ['1/2\"', '3/4\"'],\r\n    '3/4\"': ['3/4\"', '1\"'],\r\n    '1\"': ['1\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (!selectedHose || !selectedHose.size) {\r\n      // If no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  // Add this useEffect for price loading\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getBSPPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n\r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n          style={styles.floatingBackButton}\r\n          onPress={() => navigation.goBack()}\r\n        >\r\n          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n        </TouchableOpacity>\r\n        \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n            \r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          basePrice={size.basePrice}\r\n                          isOrderFittingMode={isOrderFittingMode}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>BSP 60 (British Standard Pipe)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, //Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default BSPFittingScreen1;","// components/Prices/JICPrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_JIC_PRICES = {\n    \"7/16\": \"7.00\",\n    \"9/16\": \"8.90\",\n    \"3/4\": \"9.10\",\n    \"7/8\": \"11.50\",\n    \"1-1/16\": \"13.50\",\n    \"1-3/16\": \"16.75\"\n};\n\nexport const getJICPrices = async () => {\n    try {\n\n        const response = await fetch(`${BASE_URL}/api/get-prices`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'x-api-key': API_CLIENT_KEY\n            }\n        });\n        \n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('Error response:', errorText);\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const text = await response.text();\n        \n        const data = JSON.parse(text);\n        return data.jicPrices || DEFAULT_JIC_PRICES;\n    } catch (error) {\n        console.error('Error fetching JIC prices:', error);\n        return DEFAULT_JIC_PRICES;\n    }\n};","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Animated, Platform } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getJICPrices } from '../components/Prices/JICPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 0.8).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n  \r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst JICFittingScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'JIC Male Straight', image: require('../assets/jic_male_straight.png') },\r\n    { name: 'JIC Female Straight', image: require('../assets/jic_female_straight.png') },\r\n    { name: 'JIC Female 45', image: require('../assets/jic_female_45.png') },\r\n    { name: 'JIC Female 90', image: require('../assets/jic_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '7/16\" - 20', basePrice: `${prices[\"7/16\"]}` },\r\n    { size: '9/16\" - 18', basePrice: `${prices[\"9/16\"]}` },\r\n    { size: '3/4\" - 16', basePrice: `${prices[\"3/4\"]}` },\r\n    { size: '7/8\" - 14', basePrice: `${prices[\"7/8\"]}` },\r\n    { size: '1-1/16\" - 12', basePrice: `${prices[\"1-1/16\"]}` },\r\n    { size: '1-3/16\" - 12', basePrice: `${prices[\"1-3/16\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the JIC compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['7/16\"', '9/16\"', '3/4\"'],\r\n    '3/8\"': ['9/16\"', '3/4\"', '7/8\"'],\r\n    '1/2\"': ['3/4\"', '7/8\"', '1-1/16\"'],\r\n    '5/8\"': ['7/8\"', '1-1/16\"'],\r\n    '3/4\"': ['7/8\"', '1-1/16\"', '1-3/16\"'],\r\n    '1\"': ['1-1/16\"', '1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (!selectedHose || !selectedHose.size) {\r\n      // If no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getJICPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          basePrice={size.basePrice}\r\n                          isOrderFittingMode={isOrderFittingMode}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>JIC 37 (Joint Industrial Council)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default JICFittingScreen1;","// components/Prices/MetricPrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_METRIC_PRICES = {\n    \"M12\": \"7.50\",\n    \"M14\": \"8.40\",\n    \"M16\": \"8.60\",\n    \"M18\": \"10.50\",\n    \"M22\": \"14.65\",\n    \"M26\": \"18.50\",\n    \"M30\": \"22.50\",\n    \"M36\": \"28.50\"\n};\n\nexport const getMetricPrices = async () => {\n    try {\n\n        const response = await fetch(`${BASE_URL}/api/get-prices`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'x-api-key': API_CLIENT_KEY\n            }\n        });\n        \n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('Error response:', errorText);\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const text = await response.text();\n        \n        const data = JSON.parse(text);\n        return data.metricPrices || DEFAULT_METRIC_PRICES;\n    } catch (error) {\n        console.error('Error fetching Metric prices:', error);\n        return DEFAULT_METRIC_PRICES;\n    }\n};","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getMetricPrices } from '../components/Prices/MetricPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\nconst isMobile = screenWidth < 800;\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 0.8).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n  \r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst MetricFittingScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'METRIC LIGHT Male Straight', image: require('../assets/metric_light_male_straight.png') },\r\n    { name: 'METRIC LIGHT Female Straight', image: require('../assets/metric_light_female_straight.png') },\r\n    { name: 'METRIC LIGHT Female 45', image: require('../assets/metric_light_female_45.png') },\r\n    { name: 'METRIC LIGHT Female 90', image: require('../assets/metric_light_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: 'M12 - 1.5', basePrice: `${prices[\"M12\"]}` },\r\n    { size: 'M14 - 1.5', basePrice: `${prices[\"M14\"]}` },\r\n    { size: 'M16 - 1.5', basePrice: `${prices[\"M16\"]}` },\r\n    { size: 'M18 - 1.5', basePrice: `${prices[\"M18\"]}` },\r\n    { size: 'M22 - 1.5', basePrice: `${prices[\"M22\"]}` },\r\n    { size: 'M26 - 1.5', basePrice: `${prices[\"M26\"]}` },\r\n    { size: 'M30 - 2', basePrice: `${prices[\"M30\"]}` },\r\n    { size: 'M36 - 2', basePrice: `${prices[\"M36\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the Metric compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['M12', 'M14', 'M16', 'M18'],\r\n    '3/8\"': ['M18', 'M22'],\r\n    '1/2\"': ['M22', 'M26'],\r\n    '5/8\"': ['M26', 'M30'],\r\n    '3/4\"': ['M30', 'M36'],\r\n    '1\"': ['M36']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (!selectedHose || !selectedHose.size) {\r\n      // If no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getMetricPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Thread Pitch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          basePrice={size.basePrice}\r\n                          isOrderFittingMode={isOrderFittingMode}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n        \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>METRIC LIGHT 24 (O-Ring Cone)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, //Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default MetricFittingScreen1;","// components/Prices/ORFSPrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_ORFS_PRICES = {\n    \"9/16\": \"7.70\",\n    \"11/16\": \"8.85\",\n    \"13/16\": \"10.25\",\n    \"1\": \"16.95\",\n    \"1-3/16\": \"24.50\"\n};\n\nexport const getORFSPrices = async () => {\n    try {\n\n        const response = await fetch(`${BASE_URL}/api/get-prices`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'x-api-key': API_CLIENT_KEY\n            }\n        });\n        \n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('Error response:', errorText);\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const text = await response.text();\n        \n        const data = JSON.parse(text);\n        return data.orfsPrices || DEFAULT_ORFS_PRICES;\n    } catch (error) {\n        console.error('Error fetching ORFS prices:', error);\n        return DEFAULT_ORFS_PRICES;\n    }\n};","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getORFSPrices } from '../components/Prices/ORFSPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 0.8).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n  \r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst OrfsScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'ORFS Male Straight', image: require('../assets/orfs_male_straight.png') },\r\n    { name: 'ORFS Female Straight', image: require('../assets/orfs_female_straight.png') },\r\n    { name: 'ORFS Female 45', image: require('../assets/orfs_female_45.png') },\r\n    { name: 'ORFS Female 90', image: require('../assets/orfs_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '9/16\" - 18', basePrice: `${prices[\"9/16\"]}` },\r\n    { size: '11/16\" - 16', basePrice: `${prices[\"11/16\"]}` },\r\n    { size: '13/16\" - 16', basePrice: `${prices[\"13/16\"]}` },\r\n    { size: '1\" - 14', basePrice: `${prices[\"1\"]}` },\r\n    { size: '1-3/16\" - 12', basePrice: `${prices[\"1-3/16\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the ORFS compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['9/16\"', '11/16\"'],\r\n    '3/8\"': ['11/16\"', '13/16\"'],\r\n    '1/2\"': ['13/16\"', '1\"'],\r\n    '5/8\"': ['1\"', '1-3/16\"'],\r\n    '3/4\"': ['1\"', '1-3/16\"'],\r\n    '1\"': ['1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (!selectedHose || !selectedHose.size) {\r\n      // If no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getORFSPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          basePrice={size.basePrice}\r\n                          isOrderFittingMode={isOrderFittingMode}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>O.R.F.S (O-Ring Flat Seal)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default OrfsScreen1;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated, Modal, TouchableWithoutFeedback } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400;\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\r\n\r\nconst FittingTypeButton = ({ type, description, onPress, isSelected, onHelpPress }) => (\r\n  <TouchableOpacity \r\n    style={[styles.fittingButton, isSelected && styles.selectedFittingButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.fittingContent}>\r\n      <Text style={styles.fittingButtonText}>{type}</Text>\r\n      <Text style={styles.fittingDescription}>{description}</Text>\r\n    </View>\r\n    <TouchableOpacity \r\n      style={styles.helpIcon} \r\n      onPress={onHelpPress}\r\n      activeOpacity={0.6}\r\n      hitSlop={{ top: 10, bottom: 10, left: 10, right: 10 }}\r\n    >\r\n      <View style={styles.helpIconBackground}>\r\n        <Text style={styles.helpIconText}>?</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst End2FittingScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedEnd2Fitting, setSelectedEnd2Fitting] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price } = route.params || {};\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false);\r\n  const [currentHelpImage, setCurrentHelpImage] = useState(null);\r\n  const helpFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showDiagramOverlay, setShowDiagramOverlay] = useState(false);\r\n  const diagramFadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const fittingTypes = [\r\n    { type: 'BSP 60', description: 'British Standard Pipe', helpImage: require('../assets/bsp_help.png') },\r\n    { type: 'JIC 37', description: 'Joint Industrial Council', helpImage: require('../assets/jic_help.png') },\r\n    { type: 'METRIC LIGHT 24', description: 'Cone O-Ring', helpImage: require('../assets/metric_help.png') },\r\n    { type: 'O.R.F.S', description: 'O-Ring Flat Seal', helpImage: require('../assets/orfs_help.png') },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      //setSelectedEnd2Fitting(null);\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const handleFittingSelection = (type) => {\r\n    setSelectedEnd2Fitting(type);\r\n    \r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      switch (type) {\r\n        case 'BSP 60':\r\n          navigation.navigate('BSPFittingScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        case 'JIC 37':\r\n          navigation.navigate('JICFittingScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        case 'METRIC LIGHT 24':\r\n          navigation.navigate('MetricFittingScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        case 'O.R.F.S':\r\n          navigation.navigate('OrfsScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        default:\r\n          console.log('Selected Hose:', selectedHose);\r\n          console.log('Selected Fitting:', type);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleHelpPress = (helpImage) => {\r\n    setCurrentHelpImage(helpImage);\r\n    setShowHelpOverlay(true);\r\n    helpFadeAnim.setValue(0);\r\n    Animated.timing(helpFadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  };\r\n\r\n  const closeHelpOverlay = () => {\r\n    Animated.timing(helpFadeAnim, {\r\n      toValue: 0,\r\n      duration: 300,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      setShowHelpOverlay(false);\r\n    });\r\n  };\r\n\r\n  const handleDiagramPress = () => {\r\n    setShowDiagramOverlay(true);\r\n    diagramFadeAnim.setValue(0);\r\n    Animated.timing(diagramFadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  };\r\n  \r\n  const closeDiagramOverlay = () => {\r\n    Animated.timing(diagramFadeAnim, {\r\n      toValue: 0,\r\n      duration: 300,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      setShowDiagramOverlay(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button - Outside scroll wrapper */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n  \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            \r\n            <TouchableOpacity onPress={handleDiagramPress}>\r\n              <Image\r\n                source={require('../assets/end2_thread_diagram.png')}\r\n                style={styles.diagram}\r\n                resizeMode=\"contain\"\r\n              />\r\n              <Text style={styles.clickToEnlargeText}>Click photo to enlarge</Text>\r\n            </TouchableOpacity>\r\n            \r\n            <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\r\n              {fittingTypes.map((fitting, index) => (\r\n                <FittingTypeButton\r\n                  key={index}\r\n                  type={fitting.type}\r\n                  description={fitting.description}\r\n                  onPress={() => handleFittingSelection(fitting.type)}\r\n                  isSelected={selectedEnd2Fitting === fitting.type}\r\n                  onHelpPress={() => handleHelpPress(fitting.helpImage)}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n  \r\n      {/* Keep Modal outside ScrollableGradientWrapper */}\r\n      <Modal\r\n        transparent={true}\r\n        visible={showHelpOverlay}\r\n        onRequestClose={closeHelpOverlay}\r\n      >\r\n        <TouchableWithoutFeedback onPress={closeHelpOverlay}>\r\n          <View style={styles.modalOverlay}>\r\n            <View style={styles.overlayBackground} />\r\n            <Animated.View style={[styles.helpImageContainer, { opacity: helpFadeAnim }]}>\r\n              <TouchableOpacity \r\n                style={styles.closeButton}\r\n                onPress={closeHelpOverlay}\r\n              >\r\n                <Text style={styles.closeButtonText}></Text>\r\n              </TouchableOpacity>\r\n              <Image\r\n                source={currentHelpImage}\r\n                style={styles.helpImage}\r\n                resizeMode=\"contain\"\r\n              />\r\n            </Animated.View>\r\n          </View>\r\n        </TouchableWithoutFeedback>\r\n      </Modal>\r\n\r\n      <Modal\r\n          transparent={true}\r\n          visible={showDiagramOverlay}\r\n          onRequestClose={closeDiagramOverlay}\r\n        >\r\n          <TouchableWithoutFeedback onPress={closeDiagramOverlay}>\r\n            <View style={styles.modalOverlay}>\r\n              <View style={styles.overlayBackground} />\r\n              <Animated.View style={[styles.diagramImageContainer, { opacity: diagramFadeAnim }]}>\r\n                <TouchableOpacity \r\n                  style={styles.closeButton}\r\n                  onPress={closeDiagramOverlay}\r\n                >\r\n                  <Text style={styles.closeButtonText}></Text>\r\n                </TouchableOpacity>\r\n                <Image\r\n                  source={require('../assets/end2_thread_diagram.png')}\r\n                  style={styles.enlargedDiagram}\r\n                  resizeMode=\"contain\"\r\n                />\r\n              </Animated.View>\r\n            </View>\r\n          </TouchableWithoutFeedback>\r\n        </Modal>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignSelf: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    marginTop: 30,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 25,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  diagram: {\r\n    width: '100%',\r\n    height: 200,\r\n    marginVertical: 20,\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n    paddingBottom: 20,\r\n  },\r\n  fittingButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    overflow: 'hidden',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedFittingButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  fittingContent: {\r\n    padding: 15,\r\n    paddingRight: 44,\r\n  },\r\n  fittingButtonText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n  },\r\n  fittingDescription: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  helpIcon: {\r\n    position: 'absolute',\r\n    top: 0,  // Changed from 5\r\n    right: 0, // Changed from 5\r\n    width: 44, // Increased from 24 - Apple's recommended minimum touch target size\r\n    height: 44, // Increased from 24\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  helpIconText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    width: 24,  // Keep visual size the same\r\n    height: 24, // Keep visual size the same\r\n    borderRadius: 12,\r\n    textAlign: 'center',\r\n    lineHeight: 24, // Center text vertically\r\n  },\r\n  helpIconBackground: {\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  clickToEnlargeText: {\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n    fontSize: 18,\r\n    marginTop: 5,\r\n    fontWeight: 'Bold',\r\n    marginBottom: 20,\r\n  },\r\n  diagramImageContainer: {\r\n    width: '90%',\r\n    height: '80%',\r\n    backgroundColor: 'white',\r\n    borderRadius: 20,\r\n    padding: 20,\r\n  },\r\n  enlargedDiagram: {\r\n    width: '100%',\r\n    height: '100%',\r\n    borderRadius: 10,\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n  },\r\n  helpImageContainer: {\r\n    width: '80%',\r\n    height: '80%',\r\n  },\r\n  helpImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: -20,\r\n    right: -20,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#4a4a4a',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  closeButtonText: {\r\n    color: 'white',\r\n    fontSize: 35,\r\n    textAlign: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default End2FittingScreen;","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getBSPPrices } from '../components/Prices/BSPPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n\r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {price} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst BSPFittingScreen2 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const {selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params || {};\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'BSP Male Straight Tapered', image: require('../assets/bsp_male_straight_tapered.png') },\r\n    { name: 'BSP Male Straight Parallel', image: require('../assets/bsp_male_straight_parallel.png') },\r\n    { name: 'BSP Female Straight', image: require('../assets/bsp_female_straight.png') },\r\n    { name: 'BSP Female 45', image: require('../assets/bsp_female_45.png') },\r\n    { name: 'BSP Female 90', image: require('../assets/bsp_female_90.png') },\r\n    { name: 'BSP Banjo', image: require('../assets/bsp_banjo.png') }\r\n  ];\r\n\r\n  // Define all available sizes & therir prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '1/8\" - 28', basePrice: `${prices[\"1/8\"]}` },\r\n    { size: '1/4\" - 19', basePrice: `${prices[\"1/4\"]}` },\r\n    { size: '3/8\" - 19', basePrice: `${prices[\"3/8\"]}` },\r\n    { size: '1/2\" - 14', basePrice: `${prices[\"1/2\"]}` },\r\n    { size: '3/4\" - 14', basePrice: `${prices[\"3/4\"]}` },\r\n    { size: '1\" - 11', basePrice: `${prices[\"1\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the compatibility matrix\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['1/8\"', '1/4\"', '3/8\"'],\r\n    '3/8\"': ['1/4\"', '3/8\"', '1/2\"'],\r\n    '1/2\"': ['3/8\"', '1/2\"', '3/4\"'],\r\n    '5/8\"': ['1/2\"', '3/4\"'],\r\n    '3/4\"': ['3/4\"', '1\"'],\r\n    '1\"': ['1\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getBSPPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces and converting to number\r\n      const priceNumeric = parseFloat(selectedSizeObj.basePrice);\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    \r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice, \r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest prices for BSP Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.basePrice}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>BSP 60 (British Standard Pipe)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1, // Fixed typo from 'fkex: 1'\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  }, \r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default BSPFittingScreen2;","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Animated, Platform } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getJICPrices } from '../components/Prices/JICPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n\r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst JICFittingScreen2 = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params || {};\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'JIC Male Straight', image: require('../assets/jic_male_straight.png') },\r\n    { name: 'JIC Female Straight', image: require('../assets/jic_female_straight.png') },\r\n    { name: 'JIC Female 45', image: require('../assets/jic_female_45.png') },\r\n    { name: 'JIC Female 90', image: require('../assets/jic_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '7/16\" - 20', basePrice: `${prices[\"7/16\"]}` },\r\n    { size: '9/16\" - 18', basePrice: `${prices[\"9/16\"]}` },\r\n    { size: '3/4\" - 16', basePrice: `${prices[\"3/4\"]}` },\r\n    { size: '7/8\" - 14', basePrice: `${prices[\"7/8\"]}` },\r\n    { size: '1-1/16\" - 12', basePrice: `${prices[\"1-1/16\"]}` },\r\n    { size: '1-3/16\" - 12', basePrice: `${prices[\"1-3/16\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the JIC compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['7/16\"', '9/16\"', '3/4\"'],\r\n    '3/8\"': ['9/16\"', '3/4\"', '7/8\"'],\r\n    '1/2\"': ['3/4\"', '7/8\"', '1-1/16\"'],\r\n    '5/8\"': ['7/8\"', '1-1/16\"'],\r\n    '3/4\"': ['7/8\"', '1-1/16\"', '1-3/16\"'],\r\n    '1\"': ['1-1/16\"', '1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getJICPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces\r\n      const priceNumeric = parseFloat(selectedSizeObj.basePrice.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n   \r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice, \r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest prices for JIC Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.basePrice}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>JIC 37 (Joint Industrial Council)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default JICFittingScreen2;","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getMetricPrices } from '../components/Prices/MetricPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\nconst isMobile = screenWidth < 800;\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\n// Modified SizeButton component\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n\r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst MetricFittingScreen2 = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params || {};\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'METRIC LIGHT Male Straight', image: require('../assets/metric_light_male_straight.png') },\r\n    { name: 'METRIC LIGHT Female Straight', image: require('../assets/metric_light_female_straight.png') },\r\n    { name: 'METRIC LIGHT Female 45', image: require('../assets/metric_light_female_45.png') },\r\n    { name: 'METRIC LIGHT Female 90', image: require('../assets/metric_light_female_90.png') },\r\n  ];\r\n\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: 'M12 - 1.5', basePrice: `${prices[\"M12\"]}` },\r\n    { size: 'M14 - 1.5', basePrice: `${prices[\"M14\"]}` },\r\n    { size: 'M16 - 1.5', basePrice: `${prices[\"M16\"]}` },\r\n    { size: 'M18 - 1.5', basePrice: `${prices[\"M18\"]}` },\r\n    { size: 'M22 - 1.5', basePrice: `${prices[\"M22\"]}` },\r\n    { size: 'M26 - 1.5', basePrice: `${prices[\"M26\"]}` },\r\n    { size: 'M30 - 2', basePrice: `${prices[\"M30\"]}` },\r\n    { size: 'M36 - 2', basePrice: `${prices[\"M36\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['M12', 'M14', 'M16', 'M18'],\r\n    '3/8\"': ['M18', 'M22'],\r\n    '1/2\"': ['M22', 'M26'],\r\n    '5/8\"': ['M26', 'M30'],\r\n    '3/4\"': ['M30', 'M36'],\r\n    '1\"': ['M36']\r\n  };\r\n\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    return allSizes.filter(sizeObj => compatibleSizes.includes(sizeObj.size.split(' ')[0]));\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n      return () => contentFadeAnim.setValue(0);\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      try {\r\n        const fetchedPrices = await getMetricPrices();\r\n        setPrices(fetchedPrices);\r\n        Animated.sequence([\r\n          Animated.timing(loadingFadeAnim, { toValue: 0, duration: 200, useNativeDriver: Platform.OS === 'native' }),\r\n          Animated.delay(100),\r\n          Animated.timing(contentFadeAnim, { toValue: 1, duration: 200, useNativeDriver: Platform.OS === 'native' })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null);\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      const priceNumeric = parseFloat(selectedSizeObj.basePrice.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n\r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting, end2Shape: shape, end2Size: size, end2Price: price,\r\n        });\r\n      } else {\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting, end2Shape: shape, end2Size: size, end2Price: price,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[styles.mainContainer, styles.loadingContainer, { opacity: loadingFadeAnim }]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image source={require('../assets/fluidpower_logo.gif')} style={styles.loadingLogo} resizeMode=\"contain\" />\r\n          <Text style={styles.loadingText}>Fetching lowest price for Metric Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      <TouchableOpacity style={styles.floatingBackButton} onPress={() => navigation.goBack()}>\r\n      <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image source={require('../assets/fluidpower_logo.gif')} style={styles.logo} resizeMode=\"contain\" />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Thread Pitch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.basePrice}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>METRIC LIGHT 24 (O-Ring Cone)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n  \r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, //Adjsut this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n},\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n      width: BUTTON_WIDTH,\r\n      alignItems: 'center',\r\n      marginTop: 10,\r\n      marginBottom: 15,\r\n      padding: 15,\r\n      backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n      width: '50%',\r\n      height: 150,\r\n      marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n      alignSelf: 'center',\r\n      marginBottom: 30,\r\n      backgroundColor: '#ffc100',\r\n      borderWidth: 4,\r\n      borderColor: '#4a4a4a',\r\n      borderRadius: 25,\r\n      paddingVertical: 8,\r\n      paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n      fontSize: 16,\r\n      fontWeight: 'bold',\r\n      color: '#4a4a4a',\r\n      textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default MetricFittingScreen2;","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getORFSPrices } from '../components/Prices/ORFSPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n\r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst OrfsScreen2 = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'ORFS Male Straight', image: require('../assets/orfs_male_straight.png') },\r\n    { name: 'ORFS Female Straight', image: require('../assets/orfs_female_straight.png') },\r\n    { name: 'ORFS Female 45', image: require('../assets/orfs_female_45.png') },\r\n    { name: 'ORFS Female 90', image: require('../assets/orfs_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '9/16\" - 18', basePrice: `${prices[\"9/16\"]}` },\r\n    { size: '11/16\" - 16', basePrice: `${prices[\"11/16\"]}` },\r\n    { size: '13/16\" - 16', basePrice: `${prices[\"13/16\"]}` },\r\n    { size: '1\" - 14', basePrice: `${prices[\"1\"]}` },\r\n    { size: '1-3/16\" - 12', basePrice: `${prices[\"1-3/16\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the ORFS compatibility matrix\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['9/16\"', '11/16\"'],\r\n    '3/8\"': ['11/16\"', '13/16\"'],\r\n    '1/2\"': ['13/16\"', '1\"'],\r\n    '5/8\"': ['1\"', '1-3/16\"'],\r\n    '3/4\"': ['1\"', '1-3/16\"'],\r\n    '1\"': ['1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getORFSPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces\r\n      const priceNumeric = parseFloat(selectedSizeObj.basePrice.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price for ORFS Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.basePrice}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>O.R.F.S (O-Ring Flat Seal)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default OrfsScreen2;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, Modal, StyleSheet, TouchableOpacity, TouchableWithoutFeedback, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst isMobile = SCREEN_WIDTH < 700;\r\n\r\nconst AngleButton = ({ angle, image, onPress, isSelected, onHelpPress }) => (\r\n  <TouchableOpacity \r\n    style={[styles.angleButton, isSelected && styles.selectedAngleButton]} \r\n    onPress={onPress}\r\n  >\r\n    <Image source={image} style={styles.angleImage} resizeMode=\"contain\" />\r\n    <Text style={styles.angleText}>{angle}</Text>\r\n    <TouchableOpacity \r\n      style={styles.helpIcon} \r\n      onPress={onHelpPress}\r\n      hitSlop={{ top: 10, right: 10, bottom: 10, left: 10 }} // Additional hit area\r\n    >\r\n      <View style={styles.helpIconVisual}>\r\n        <Text style={styles.helpIconText}>?</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst NotSureButton = ({ onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[\r\n      styles.notSureButton, \r\n      isSelected && styles.selectedAngleButton\r\n    ]} \r\n    onPress={onPress}\r\n  >\r\n    <Text style={styles.notSureText}>NOT SURE</Text>\r\n    <Text style={styles.notSureSubtext1}>Click Here if you're Unsure and</Text>\r\n    <Text style={styles.notSureSubtext2}>we'll contact you to understand your Requirements</Text>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst OrientationSelectionScreen = ({ route }) => { \r\n  const navigation = useNavigation();\r\n  const [selectedAngle, setSelectedAngle] = useState(null);\r\n  const { selectedHose, selectedHosePrice,  selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting, end2Shape, end2Size, end2Price  } = route.params;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false);\r\n  const [currentHelpImage, setCurrentHelpImage] = useState(null);\r\n  const helpFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showDiagramOverlay, setShowDiagramOverlay] = useState(false);\r\n  const diagramFadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const angles = [\r\n    { angle: '0', image: require('../assets/0_degrees.png'), helpImage: require('../assets/0_degrees_help.png') },\r\n    { angle: '45', image: require('../assets/45_degrees.png'), helpImage: require('../assets/45_degrees_help.png') },\r\n    { angle: '90', image: require('../assets/90_degrees.png'), helpImage: require('../assets/90_degrees_help.png') },\r\n    { angle: '135', image: require('../assets/135_degrees.png'), helpImage: require('../assets/135_degrees_help.png') },\r\n    { angle: '180', image: require('../assets/180_degrees.png'), helpImage: require('../assets/180_degrees_help.png') },\r\n    { angle: '225', image: require('../assets/225_degrees.png'), helpImage: require('../assets/225_degrees_help.png') },\r\n    { angle: '270', image: require('../assets/270_degrees.png'), helpImage: require('../assets/270_degrees_help.png') },\r\n    { angle: '315', image: require('../assets/315_degrees.png'), helpImage: require('../assets/315_degrees_help.png') },\r\n    { angle: 'NOT SURE', image: null }\r\n  ];\r\n\r\n\r\n\r\n  const handleAngleSelection = (angle) => {\r\n    setSelectedAngle(angle);\r\n    // Start fade-out animation\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      // Navigate to next screen after fade-out completes\r\n      navigation.navigate('CutLengths', { \r\n        selectedHose,\r\n        selectedHosePrice, \r\n        selectedFitting,\r\n        end1Shape, \r\n        end1Size,\r\n        end1Price,\r\n        selectedEnd2Fitting,\r\n        end2Shape,\r\n        end2Size,\r\n        end2Price,\r\n        selectedAngle: angle\r\n      });\r\n    });\r\n  };\r\n\r\n  const handleHelpPress = (helpImage) => {\r\n    setCurrentHelpImage(helpImage);\r\n    setShowHelpOverlay(true);\r\n    helpFadeAnim.setValue(0);\r\n    Animated.timing(helpFadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  };\r\n  \r\n  const closeHelpOverlay = () => {\r\n    Animated.timing(helpFadeAnim, {\r\n      toValue: 0,\r\n      duration: 300,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      setShowHelpOverlay(false);\r\n    });\r\n  };\r\n\r\n  const handleDiagramPress = () => {\r\n    setShowDiagramOverlay(true);\r\n    diagramFadeAnim.setValue(0);\r\n    Animated.timing(diagramFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  };\r\n\r\n  const closeDiagramOverlay = () => {\r\n    Animated.timing(diagramFadeAnim, {\r\n        toValue: 0,\r\n        duration: 300,\r\n        useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n        setShowDiagramOverlay(false);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Fade in animation when the component mounts\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  // Reset fade-in when screen comes into focus\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      //setSelectedAngle(null);\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>      \r\n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <Text style={styles.titleText}>Select ORIENTATION</Text>\r\n            </View>\r\n            <View style={styles.subtitleContainer}>\r\n              <Text style={styles.subtitleText}>*No Extra Charges*</Text>\r\n            </View>\r\n            <TouchableOpacity onPress={handleDiagramPress}>\r\n                <Image\r\n                    source={require('../assets/line_of_sight.png')}\r\n                    style={styles.diagram}\r\n                    resizeMode=\"contain\"\r\n                />\r\n                <Text style={styles.clickToEnlargeText}>Click photo to enlarge</Text>\r\n            </TouchableOpacity>\r\n            <ScrollView \r\n                style={styles.scrollView} \r\n                contentContainerStyle={styles.scrollViewContent}\r\n                centerContent={true}\r\n              >\r\n                <View style={styles.angleButtonsContainer}>\r\n                  {angles.slice(0, 8).map((angleData, index) => (\r\n                    <View key={index} style={styles.angleButtonWrapper}>\r\n                      <AngleButton\r\n                        angle={angleData.angle}\r\n                        image={angleData.image}\r\n                        onPress={() => handleAngleSelection(angleData.angle)}\r\n                        isSelected={selectedAngle === angleData.angle}\r\n                        onHelpPress={() => angleData.helpImage && handleHelpPress(angleData.helpImage)}\r\n                      />\r\n                    </View>\r\n                  ))}\r\n                  <NotSureButton\r\n                    onPress={() => handleAngleSelection('NOT SURE')}\r\n                    isSelected={selectedAngle === 'NOT SURE'}\r\n                  />\r\n                </View>\r\n              </ScrollView>\r\n          </Animated.View>\r\n\r\n          <Modal\r\n                transparent={true}\r\n                visible={showDiagramOverlay}\r\n                onRequestClose={closeDiagramOverlay}\r\n            >\r\n                <TouchableWithoutFeedback onPress={closeDiagramOverlay}>\r\n                    <View style={styles.modalOverlay}>\r\n                        <View style={styles.overlayBackground} />\r\n                        <Animated.View style={[styles.diagramImageContainer, { opacity: diagramFadeAnim }]}>\r\n                            <TouchableOpacity \r\n                                style={styles.closeButton}\r\n                                onPress={closeDiagramOverlay}\r\n                            >\r\n                                <Text style={styles.closeButtonText}></Text>\r\n                            </TouchableOpacity>\r\n                            <Image\r\n                                source={require('../assets/line_of_sight.png')}\r\n                                style={styles.enlargedDiagram}\r\n                                resizeMode=\"contain\"\r\n                            />\r\n                        </Animated.View>\r\n                    </View>\r\n                </TouchableWithoutFeedback>\r\n            </Modal>\r\n\r\n            <Modal\r\n              transparent={true}\r\n              visible={showHelpOverlay}\r\n              onRequestClose={closeHelpOverlay}\r\n            >\r\n              <TouchableWithoutFeedback onPress={closeHelpOverlay}>\r\n                <View style={styles.modalOverlay}>\r\n                  <View style={styles.overlayBackground} />\r\n                  <Animated.View style={[styles.helpImageContainer, { opacity: helpFadeAnim }]}>\r\n                    <TouchableOpacity \r\n                      style={styles.closeButton}\r\n                      onPress={closeHelpOverlay}\r\n                    >\r\n                      <Text style={styles.closeButtonText}></Text>\r\n                    </TouchableOpacity>\r\n                    <Image\r\n                      source={currentHelpImage}\r\n                      style={styles.helpImage}\r\n                      resizeMode=\"contain\"\r\n                    />\r\n                  </Animated.View>\r\n                </View>\r\n              </TouchableWithoutFeedback>\r\n            </Modal>\r\n\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 5,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  subtitleContainer: {\r\n  alignItems: 'center',\r\n  marginTop: 20,\r\n  },\r\n  subtitleText: {\r\n  fontSize: 24,\r\n  fontWeight: 'bold',\r\n  color: '#ffc100',\r\n  textAlign: 'center',\r\n  },\r\n  logo: {\r\n    width: '100%',\r\n    height: undefined,\r\n    aspectRatio: 2, // Adjust based on your logo's aspect ratio\r\n    resizeMode: 'contain',\r\n    maxWidth: 400,\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    flexGrow: 1,\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    paddingVertical: 0,\r\n    paddingBottom: isMobile ? 200 : 170,\r\n    minHeight: '100%',\r\n  },\r\n  angleButtonsContainer: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-evenly',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    maxWidth: 800,\r\n    alignSelf: 'center',\r\n    paddingHorizontal: 15,\r\n    marginTop: 0,\r\n  },\r\n  angleButtonWrapper: {\r\n    width: isMobile ? '45%' : '23%', // Change from 23% to 45% for mobile (2 columns)\r\n    aspectRatio: 1,\r\n    paddingVertical: isMobile ? 10 : 18,\r\n    paddingHorizontal: isMobile ? 5 : 8,\r\n    marginBottom: isMobile ? 20 : 0,\r\n  },\r\n  notSureButton: {\r\n    width: isMobile ? '92%' : '48%', // Wider for mobile\r\n    aspectRatio: isMobile ? 3 : 2, // More rectangular on mobile\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    overflow: 'hidden',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#fff',\r\n    marginTop: 20,\r\n    marginBottom: isMobile ? 40 : 20,\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  notSureText: {\r\n    fontSize: isMobile ? 20 : 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    marginBottom: 5,\r\n  },\r\n  notSureSubtext1: {\r\n    fontSize: 16,\r\n    color: 'black',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  notSureSubtext2: {\r\n    fontSize: 16,\r\n    color: 'black',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  diagram: {\r\n    width: '100%',\r\n    height: undefined,\r\n    aspectRatio: 16 / 9, // Adjust this ratio based on your image's dimensions\r\n    maxWidth: 600,\r\n    alignSelf: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  angleButton: {\r\n    width: '100%',\r\n    height: '100%',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    overflow: 'hidden',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n    backgroundColor: '#fff',\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedAngleButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  angleImage: {\r\n    marginTop: 8,\r\n    width: isMobile ? '75%' : '65%',\r\n    height: isMobile ? '75%' : '65%',\r\n    resizeMode: 'contain',\r\n  },\r\n  angleText: {\r\n    fontSize: isMobile ? 14 : 16,\r\n    fontWeight: 'bold',\r\n    marginTop: 5,\r\n    marginBottom: 2,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  helpIcon: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    width: 44,\r\n    height: 44,\r\n    //borderRadius: 12,\r\n    //backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1,\r\n  },\r\n  helpIconVisual: {\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  helpIconText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n  },\r\n  helpImageContainer: {\r\n    width: '80%',\r\n    height: '80%',\r\n  },\r\n  helpImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  clickToEnlargeText: {\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n    fontSize: 18,\r\n    marginTop: 5,\r\n    fontWeight: 'Bold',\r\n    marginBottom: 20,\r\n},\r\ndiagramImageContainer: {\r\n    width: '90%',\r\n    height: '80%',\r\n    backgroundColor: 'white',\r\n    borderRadius: 20,\r\n    padding: 20,\r\n},\r\nenlargedDiagram: {\r\n    width: '100%',\r\n    height: '100%',\r\n    borderRadius: 10,\r\n},\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: -20,\r\n    right: -20,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#4a4a4a',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  closeButtonText: {\r\n    color: 'white',\r\n    fontSize: 35,\r\n    textAlign: 'center',\r\n    alignSelf: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default OrientationSelectionScreen;","import React from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\r\n\r\nconst NextArrowButton = ({ onPress, isActive }) => {\r\n  return (\r\n    <TouchableOpacity onPress={onPress} activeOpacity={0.7}>\r\n      <View style={[styles.button, isActive && styles.buttonActive]}>\r\n        <Text style={[styles.text, isActive && styles.textActive]}>NEXT</Text>\r\n        <View style={[styles.arrow, isActive && styles.arrowActive]} />\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  button: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    backgroundColor: 'white',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 20,\r\n    paddingRight: 40, // Space for arrow\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  text: {\r\n    color: 'black',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n  },\r\n  arrow: {\r\n    width: 0,\r\n    height: 0,\r\n    marginLeft: 10,\r\n    borderTopWidth: 10,\r\n    borderBottomWidth: 10,\r\n    borderLeftWidth: 15,\r\n    borderTopColor: 'transparent',\r\n    borderBottomColor: 'transparent',\r\n    borderLeftColor: 'black',\r\n  },\r\n  buttonActive: {\r\n    backgroundColor: '#4a4a4a',\r\n  },\r\n  textActive: {\r\n    color: 'white',\r\n  },\r\n  arrowActive: {\r\n    borderLeftColor: 'white',\r\n  },\r\n});\r\n\r\nexport default NextArrowButton;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { View, Text, StyleSheet, SafeAreaView, Image, Dimensions, Platform, TextInput, ScrollView, Animated, TouchableOpacity } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport NextArrowButton from './NextArrowButton';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\n\r\nconst CutLengthsScreen = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const { selectedHose, selectedHosePrice, isHoseOnly, selectedFitting, end1Shape, end1Size, end1Price, isOrderFittingMode , selectedEnd2Fitting, end2Shape, end2Size, end2Price, selectedAngle } = route.params || {};\r\n\r\n  const [quantity, setQuantity] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [cutLengths, setCutLengths] = useState(isHoseOnly ? [{ length: '', unit: 'mm' }] : []);\r\n  const [showCutLengths, setShowCutLengths] = useState(isHoseOnly);\r\n  const [allLengthsFilled, setAllLengthsFilled] = useState(false);\r\n  const [lastInputIndex, setLastInputIndex] = useState(-1);\r\n  const [cutLengthErrors, setCutLengthErrors] = useState([]);\r\n  const quantityInputRef = useRef(null);\r\n  const inputRefs = useRef([]);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [cutLengthPrice, setCutLengthPrice] = useState(0);\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [hasSubmitted, setHasSubmitted] = useState(false);\r\n  const [initialValidationDone, setInitialValidationDone] = useState(false);\r\n  const [devModeActive, setDevModeActive] = useState(false);\r\n  const [easterEggMessage, setEasterEggMessage] = useState('');\r\n  const [showEasterEgg, setShowEasterEgg] = useState(false);\r\n\r\n  const SelectedHoseDisplay = ({ size, price }) => (\r\n    <View style={styles.selectedHoseContainer}>\r\n      <Text style={styles.selectedHoseHeader}>Selected Hose Size</Text>\r\n      <Text style={styles.selectedHoseSize}>{size}</Text>\r\n      <View style={styles.selectedHosePriceContainer}>\r\n        <Text style={styles.selectedHosePrice}>A$ {price}/meter</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  const DynamicPriceDisplay = ({ totalPrice, isHoseOnly }) => (\r\n    <View style={styles.selectedHoseContainer}>\r\n      <Text style={styles.selectedHoseHeader}>\r\n        {isOrderFittingMode ? 'Total Fitting Price' : \r\n         isHoseOnly ? 'Hose Only Price' : 'Total Hose and Fitting Price'}\r\n      </Text>\r\n      <View style={styles.selectedHosePriceContainer}>\r\n        <Text style={styles.selectedHosePrice}>A$ {totalPrice.toFixed(2)}</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  const isIOSBrowser = () => {\r\n    return (\r\n      Platform.OS === 'ios' ||\r\n      (Platform.OS === 'web' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)\r\n    );\r\n  };\r\n\r\n  const isIOS = () => {\r\n    return (\r\n      Platform.OS === 'ios' ||\r\n      (Platform.OS === 'web' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Short timeout to ensure the input is rendered\r\n    const timer = setTimeout(() => {\r\n      if (isHoseOnly && inputRefs.current[0]) {\r\n        inputRefs.current[0].focus();\r\n      } else if (!isHoseOnly && quantityInputRef.current) {\r\n        quantityInputRef.current.focus();\r\n      }\r\n    }, 100);\r\n  \r\n    return () => clearTimeout(timer);\r\n  }, [isHoseOnly]);\r\n  \r\nuseEffect(() => {\r\n  if (!isHoseOnly && showCutLengths) {\r\n    const num = parseInt(quantity, 10);\r\n    const maxQuantity = isOrderFittingMode ? 100 : 20;  // Match the max quantity logic\r\n    if (!isNaN(num) && num > 0 && num <= maxQuantity) {  // Updated condition\r\n      setCutLengths(Array(num).fill({ length: '', unit: 'mm' }));\r\n      setCutLengthErrors(Array(num).fill(''));\r\n      inputRefs.current = inputRefs.current.slice(0, num);\r\n      setTimeout(() => {\r\n        if (inputRefs.current[0]) {\r\n          inputRefs.current[0].focus();\r\n        }\r\n      }, 100);\r\n    } else {\r\n      setCutLengths([]);\r\n      setCutLengthErrors([]);\r\n    }\r\n  }\r\n}, [quantity, showCutLengths, isHoseOnly, isOrderFittingMode]);\r\n\r\n  useEffect(() => {\r\n    const allFilled = cutLengths.length > 0 && cutLengths.every(cut => cut.length !== '');\r\n    \r\n    // Only handle error clearing if initial validation hasn't been done yet\r\n    if (!initialValidationDone) {\r\n      if (cutLengths.length > 1) {\r\n        if (lastInputIndex === cutLengths.length - 1) {\r\n          const emptyFields = cutLengths.map((cut, index) => cut.length === '' ? index : -1)\r\n                                      .filter(index => index !== -1);\r\n          \r\n          if (emptyFields.length > 0) {\r\n            const newErrors = [...cutLengthErrors];\r\n            emptyFields.forEach(index => {\r\n              newErrors[index] = 'Please enter value in the empty fields';\r\n            });\r\n            setCutLengthErrors(newErrors);\r\n            setAllLengthsFilled(false);\r\n          } else {\r\n            const allNumeric = cutLengths.every(cut => /^\\d+$/.test(cut.length));\r\n            if (allNumeric) {\r\n              setCutLengthErrors(Array(cutLengths.length).fill(''));\r\n            }\r\n            setAllLengthsFilled(true && showCutLengths);\r\n          }\r\n        }\r\n      } else {\r\n        setAllLengthsFilled(allFilled && showCutLengths);\r\n      }\r\n    }\r\n  }, [cutLengths, showCutLengths, lastInputIndex, initialValidationDone]);\r\n\r\n  useEffect(() => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      // Only reset the animation\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      // We'll keep this to ensure the keyboard appears when needed\r\n      if (!quantity && quantityInputRef.current) {\r\n        const timer = setTimeout(() => {\r\n          quantityInputRef.current.focus();\r\n        }, 100);\r\n        return () => clearTimeout(timer);\r\n      }\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const validateQuantity = (value) => {\r\n    // Reset states for both modes\r\n    setShowCutLengths(false);\r\n    setHasSubmitted(false);\r\n    \r\n    if (value === '') {\r\n      setQuantity(value);\r\n      setTotalPrice(0);\r\n      setError(''); // Clear any existing errors\r\n      return;\r\n    }\r\n\r\n    // Hidden developer feature for Fittings mode\r\n    if (value === '696' && isOrderFittingMode) {\r\n      setQuantity('1');\r\n      setError('');\r\n      setDevModeActive(true);\r\n      \r\n      // Set Easter egg message instead of alert\r\n      setEasterEggMessage(' Secret Fitting Discount Unlocked! As the developer, you get the special price. Enjoy your discount, boss! ');\r\n      setShowEasterEgg(true);\r\n      \r\n      // Auto-hide the message after 5 seconds\r\n      setTimeout(() => {\r\n        setShowEasterEgg(false);\r\n      }, 5000);\r\n      \r\n      return;\r\n    }\r\n    \r\n    // Immediately show error for non-numeric input\r\n    if (!/^\\d+$/.test(value)) {\r\n      setError('Please enter numbers only');\r\n      setTotalPrice(0);\r\n      return;\r\n    }\r\n    \r\n    // If we get here, we have a valid number\r\n    const num = parseInt(value, 10);\r\n    setError(''); // Clear any existing errors\r\n    setQuantity(value);\r\n    \r\n    // For Fitting Mode: Calculate price immediately\r\n    if (isOrderFittingMode) {\r\n      const fittingPrice = parseFloat(end1Price || 0);\r\n      const totalPrice = fittingPrice * num;\r\n      setTotalPrice(totalPrice);\r\n      setCutLengthPrice(totalPrice);\r\n    }\r\n  };\r\n  \r\n  const handleQuantitySubmit = () => {\r\n    // Validate quantity limits on submit\r\n    const num = parseInt(quantity, 10);\r\n    const maxQuantity = isOrderFittingMode ? 100 : 20;\r\n  \r\n    if (quantity === '') {\r\n      setError('Please enter a quantity');\r\n      return;\r\n    }\r\n    \r\n    // Add minimum quantity validation\r\n    if (num < 1) {\r\n      setError('Minimum quantity is 1');\r\n      return;\r\n    }\r\n    \r\n    if (num > maxQuantity) {\r\n      setError(`Maximum quantity is ${isOrderFittingMode ? '100' : '20'}`);\r\n      return;\r\n    }\r\n  \r\n    // If we get here, there are no errors\r\n    setError('');\r\n  \r\n    // Proceed based on mode\r\n    if (isOrderFittingMode) {\r\n      setHasSubmitted(true);\r\n      calculatePrice([]); // Ensure price is calculated\r\n    } else {\r\n      setShowCutLengths(true);\r\n      setTimeout(() => {\r\n        if (inputRefs.current[0]) {\r\n          inputRefs.current[0].focus();\r\n        }\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const updateCutLength = (index, length) => {\r\n    const updatedLengths = [...cutLengths];\r\n    const updatedErrors = [...cutLengthErrors];\r\n\r\n      // Hidden developer feature check\r\n      if (length === '20162025') {\r\n        updatedLengths[index] = { ...updatedLengths[index], length: '100' }; // Set a valid length\r\n        updatedErrors[index] = '';\r\n        setCutLengths(updatedLengths);\r\n        setCutLengthErrors(updatedErrors);\r\n        setDevModeActive(true);\r\n        \r\n        // Set Easter egg message instead of alert\r\n        setEasterEggMessage(' Developer Mode Activated! Welcome to the secret lair... all hoses lead to magic! ');\r\n        setShowEasterEgg(true);\r\n        \r\n        // Auto-hide the message after 5 seconds\r\n        setTimeout(() => {\r\n          setShowEasterEgg(false);\r\n        }, 5000);\r\n        \r\n        if (!initialValidationDone && index === cutLengths.length - 1) {\r\n          setInitialValidationDone(true);\r\n        }\r\n        setHasSubmitted(true);\r\n        return;\r\n      }\r\n  \r\n    // Update the length regardless of content\r\n    updatedLengths[index] = { ...updatedLengths[index], length };\r\n  \r\n    // Special handling for Hose Only mode\r\n    if (isHoseOnly) {\r\n      // Only check numeric validation\r\n      if (!/^\\d+$/.test(length) && length !== '') {\r\n        updatedErrors[index] = 'Please enter numbers only';\r\n      } else if (hasSubmitted) {\r\n        // Only show minimum length error if user has submitted before\r\n        const lengthValue = parseInt(length, 10);\r\n        if (lengthValue < 50) {\r\n          updatedErrors[index] = 'Minimum length is 50mm';\r\n        } else {\r\n          updatedErrors[index] = '';\r\n        }\r\n      } else {\r\n        updatedErrors[index] = '';\r\n      }\r\n      \r\n      setCutLengths(updatedLengths);\r\n      setCutLengthErrors(updatedErrors);\r\n      calculatePrice(updatedLengths);\r\n      return;\r\n    }\r\n  \r\n      // Normal mode validation\r\n    if (!isHoseOnly && !isOrderFittingMode) {\r\n      if (!/^\\d+$/.test(length) && length !== '') {\r\n        // Non-numeric input validation\r\n        updatedErrors[index] = 'Please enter numbers only';\r\n        setHasSubmitted(false);\r\n      } else if (length === '') {\r\n        // Empty field validation\r\n        updatedErrors[index] = 'Please enter value in the empty fields';\r\n        setHasSubmitted(false);\r\n      } else if (/^\\d+$/.test(length)) {\r\n        const numLength = parseInt(length, 10);\r\n        \r\n        // After initial validation, always check minimum length\r\n        if (initialValidationDone) {\r\n          if (numLength < 50) {\r\n            updatedErrors[index] = 'Minimum length is 50mm';\r\n            setHasSubmitted(false);\r\n          } else {\r\n            updatedErrors[index] = '';\r\n            \r\n            // Check all other fields\r\n            const allFieldsValid = updatedLengths.every((cut, idx) => {\r\n              if (!cut.length) return false;\r\n              if (!/^\\d+$/.test(cut.length)) return false;\r\n              const len = parseInt(cut.length, 10);\r\n              return len >= 50;\r\n            });\r\n\r\n            // Update errors for all fields\r\n            updatedLengths.forEach((cut, idx) => {\r\n              if (!cut.length) {\r\n                updatedErrors[idx] = 'Please enter value in the empty fields';\r\n              } else if (!/^\\d+$/.test(cut.length)) {\r\n                updatedErrors[idx] = 'Please enter numbers only';\r\n              } else {\r\n                const len = parseInt(cut.length, 10);\r\n                if (len < 50) {\r\n                  updatedErrors[idx] = 'Minimum length is 50mm';\r\n                }\r\n              }\r\n            });\r\n\r\n            // Only set hasSubmitted to true if all fields are valid\r\n            if (allFieldsValid) {\r\n              setHasSubmitted(true);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Always calculate price for valid numeric inputs\r\n    if (/^\\d+$/.test(length)) {\r\n      calculatePrice(updatedLengths);\r\n    }\r\n\r\n    setCutLengths(updatedLengths);\r\n    setCutLengthErrors(updatedErrors);\r\n  };\r\n\r\nconst handleNext = () => {\r\n  // Animation config to reuse\r\n  const animationConfig = {\r\n    toValue: 0,\r\n    duration: 800,\r\n    useNativeDriver: Platform.OS === 'native',\r\n  };\r\n\r\n  // Fitting Only mode\r\n  if (isOrderFittingMode && quantity !== '' && !error && hasSubmitted) {\r\n    Animated.timing(fadeAnim, animationConfig).start(() => {\r\n      navigation.navigate('OrderConfirmation1', {\r\n        quantity: parseInt(quantity, 10),\r\n        selectedFitting: route.params.selectedFitting,\r\n        end1Shape: route.params.end1Shape,\r\n        end1Size: route.params.end1Size,\r\n        end1Price: route.params.end1Price,\r\n        cutLengthPrice,\r\n        isDevMode: devModeActive,\r\n        selectedHose: null,\r\n        selectedHosePrice: null,\r\n        selectedEnd2Fitting: null,\r\n        end2Shape: null,\r\n        end2Size: null,\r\n        end2Price: null,\r\n        selectedAngle: null,\r\n        isHoseOnly: false,\r\n        isOrderFittingMode: true\r\n      });\r\n    });\r\n  } \r\n  // Hose Only mode\r\n  else if (isHoseOnly && cutLengths[0].length && !cutLengthErrors[0] && hasSubmitted) {\r\n    Animated.timing(fadeAnim, animationConfig).start(() => {\r\n      navigation.navigate('HoseProtection', {\r\n        cutLengths,\r\n        cutLengthPrice,\r\n        isDevMode: devModeActive,\r\n        selectedHose,\r\n        selectedHosePrice,\r\n        selectedFitting,\r\n        end1Shape,\r\n        end1Size,\r\n        end1Price,\r\n        selectedEnd2Fitting,\r\n        end2Shape,\r\n        end2Size,\r\n        end2Price,\r\n        selectedAngle,\r\n        isHoseOnly: true\r\n      });\r\n    });\r\n  }\r\n  // Normal mode\r\n  else if (!isOrderFittingMode && !isHoseOnly && allLengthsFilled && hasSubmitted) {\r\n\r\n    const qty = parseInt(quantity, 10);\r\n    const totalEnd1Price = parseFloat(end1Price || 0) * qty;\r\n    const totalEnd2Price = parseFloat(end2Price || 0) * qty;\r\n\r\n    Animated.timing(fadeAnim, animationConfig).start(() => {\r\n      navigation.navigate('HoseProtection', {\r\n        quantity: parseInt(quantity, 10),\r\n        cutLengths,\r\n        cutLengthPrice,\r\n        isDevMode: devModeActive,\r\n        selectedHose,\r\n        selectedHosePrice,\r\n        selectedFitting,\r\n        end1Shape,\r\n        end1Size,\r\n        end1Price: totalEnd1Price,\r\n        selectedEnd2Fitting,\r\n        end2Shape,\r\n        end2Size,\r\n        end2Price: totalEnd2Price,\r\n        selectedAngle,\r\n        isHoseOnly: false\r\n      });\r\n    });\r\n  }\r\n};\r\n\r\nconst calculatePrice = (lengths) => {\r\n\r\n  // Check if we're in developer mode (any length is '20162025')\r\n  const isDevMode = lengths.some(cut => cut.length === '20162025');\r\n  if (isDevMode) {\r\n  }\r\n\r\n  if (isOrderFittingMode) {\r\n    // For fitting mode, price is simply end1Price * quantity\r\n    const fittingPrice = parseFloat(end1Price || 0);\r\n    const qty = parseInt(quantity, 10);\r\n    const totalPrice = fittingPrice * qty;\r\n    \r\n    setTotalPrice(totalPrice);\r\n    setCutLengthPrice(totalPrice);\r\n  } else {\r\n    // Original price calculation for hose mode\r\n    const totalLengthInMeters = lengths.reduce((sum, cut) => {\r\n      const lengthInMillimeters = parseInt(cut.length || '0', 10);\r\n      return sum + (lengthInMillimeters / 1000);\r\n    }, 0);\r\n    \r\n    const pricePerMeter = parseFloat(selectedHosePrice);\r\n    const hosePrice = totalLengthInMeters * pricePerMeter;\r\n    \r\n    let calculatedPrice;\r\n    if (isHoseOnly) {\r\n      calculatedPrice = hosePrice;\r\n    } else {\r\n      // Normal mode - multiply fittings by quantity\r\n      const qty = parseInt(quantity, 10);\r\n      const fittingsPrice = (parseFloat(end1Price || 0) + parseFloat(end2Price || 0)) * qty;\r\n      calculatedPrice = hosePrice + fittingsPrice;\r\n    }\r\n    \r\n    setTotalPrice(calculatedPrice);\r\n    setCutLengthPrice(calculatedPrice);\r\n  }\r\n};\r\n\r\nconst handleInputSubmit = (index) => {\r\n  const currentValue = cutLengths[index].length;\r\n  \r\n  // iOS-specific handling for \"Done\" button\r\n  if (Platform.OS === 'ios') {\r\n    // Validate and handle the input regardless of focus management\r\n    validateAndProcessInput(index, currentValue);\r\n    return;\r\n  }\r\n  \r\n  // Original logic for non-iOS platforms\r\n  if (!currentValue || !/^\\d+$/.test(currentValue)) {\r\n    return;\r\n  }\r\n\r\n  if (index < cutLengths.length - 1) {\r\n    inputRefs.current[index + 1].focus();\r\n    calculatePrice(cutLengths);\r\n  } else {\r\n    // Check minimum length for normal mode only when on last input\r\n    if (!isHoseOnly && !isOrderFittingMode) {\r\n      const newErrors = [...cutLengthErrors];\r\n      let hasErrors = false;\r\n      \r\n      // Check all cut lengths at once\r\n      cutLengths.forEach((cut, idx) => {\r\n        const length = parseInt(cut.length, 10);\r\n        if (length < 50) {\r\n          newErrors[idx] = 'Minimum length is 50mm';\r\n          hasErrors = true;\r\n        } else {\r\n          newErrors[idx] = ''; // Clear any existing errors for valid lengths\r\n        }\r\n      });\r\n\r\n      setCutLengthErrors(newErrors);\r\n      setInitialValidationDone(true); // Set the flag when first validation is done\r\n      if (hasErrors) {\r\n        setHasSubmitted(false);\r\n        return;\r\n      }\r\n    }\r\n    \r\n    setHasSubmitted(true);\r\n    calculatePrice(cutLengths);\r\n  }\r\n  \r\n  const allFilled = cutLengths.every(cut => cut.length !== '' && /^\\d+$/.test(cut.length));\r\n  setAllLengthsFilled(allFilled);\r\n  \r\n  setLastInputIndex(index);\r\n};\r\n\r\n// Add this new function right after the handleInputSubmit function\r\nconst validateAndProcessInput = (index, currentValue) => {\r\n  if (!currentValue || !/^\\d+$/.test(currentValue)) {\r\n    return false;\r\n  }\r\n  \r\n  const length = parseInt(currentValue, 10);\r\n  \r\n  if (isHoseOnly) {\r\n    if (length < 50) {\r\n      setCutLengthErrors(['Minimum length is 50mm']);\r\n      return false;\r\n    } else {\r\n      setCutLengthErrors(['']);\r\n      setHasSubmitted(true);\r\n      calculatePrice(cutLengths);\r\n      return true;\r\n    }\r\n  } else if (!isOrderFittingMode) {\r\n    const newErrors = [...cutLengthErrors];\r\n    let hasErrors = false;\r\n    \r\n    cutLengths.forEach((cut, idx) => {\r\n      if (!cut.length) {\r\n        newErrors[idx] = 'Please enter value in the empty fields';\r\n        hasErrors = true;\r\n      } else if (!/^\\d+$/.test(cut.length)) {\r\n        newErrors[idx] = 'Please enter numbers only';\r\n        hasErrors = true;\r\n      } else {\r\n        const len = parseInt(cut.length, 10);\r\n        if (len < 50) {\r\n          newErrors[idx] = 'Minimum length is 50mm';\r\n          hasErrors = true;\r\n        } else {\r\n          newErrors[idx] = '';\r\n        }\r\n      }\r\n    });\r\n    \r\n    setCutLengthErrors(newErrors);\r\n    setInitialValidationDone(true);\r\n    \r\n    if (hasErrors) {\r\n      setHasSubmitted(false);\r\n      return false;\r\n    }\r\n    \r\n    setHasSubmitted(true);\r\n    calculatePrice(cutLengths);\r\n    return true;\r\n  }\r\n  \r\n  return true;\r\n}\r\n\r\n  const handleKeyPress = (e, index) => {\r\n    if (e.nativeEvent.key === 'Tab') {\r\n      e.preventDefault();\r\n      handleInputSubmit(index);\r\n    }\r\n  };\r\n\r\n  const renderCutLengthRows = () => {\r\n    if (!showCutLengths) return null;\r\n  \r\n    if (isHoseOnly) {\r\n      // Single cut length input for Hose Only mode\r\n      return (\r\n        <View>\r\n          <View style={styles.cutLengthRow}>\r\n            <View style={styles.cutLengthInputContainer}>\r\n              <TextInput\r\n                ref={el => inputRefs.current[0] = el}\r\n                style={[\r\n                  styles.cutLengthInput,\r\n                  cutLengthErrors[0] ? styles.inputError : null\r\n                ]}\r\n                value={cutLengths[0].length}\r\n                placeholder=\"Enter length in millimeters\"\r\n                placeholderTextColor=\"#999999\"\r\n                onChangeText={(text) => updateCutLength(0, text)}\r\n                onSubmitEditing={() => handleInputSubmit(0)}\r\n                keyboardType=\"numeric\"\r\n                returnKeyType=\"done\"\r\n                blurOnSubmit={true}  // Changed from Platform.OS === 'ios'\r\n                onEndEditing={() => handleInputSubmit(0)}  // Changed - removed conditional\r\n                onBlur={() => handleInputSubmit(0)}  // Added this line for iOS browsers\r\n                enterKeyHint=\"done\"\r\n                inputMode=\"numeric\"\r\n                autoComplete=\"off\"\r\n              />\r\n              <Text style={styles.unitText}>mm</Text>\r\n            </View>\r\n          </View>\r\n          {cutLengthErrors[0] ? <Text style={styles.errorText}>{cutLengthErrors[0]}</Text> : null}\r\n        </View>\r\n      );\r\n    }\r\n  \r\n    // Original multiple cut lengths rendering for normal mode\r\n    return (\r\n      <View>\r\n        {cutLengths.map((cut, index) => (\r\n          <View key={index}>\r\n            <View style={styles.cutLengthRow}>\r\n              <View style={styles.rowLabelContainer}>\r\n                <View style={styles.rowNumberContainer}>\r\n                  <Text style={styles.rowNumber}>{index + 1}.</Text>\r\n                </View>\r\n                <Text style={styles.cutLengthText}>Cut Length</Text>\r\n              </View>\r\n              <View style={styles.cutLengthInputContainer}>\r\n              <TextInput\r\n                ref={el => inputRefs.current[index] = el}\r\n                style={[\r\n                  styles.cutLengthInput,\r\n                  cutLengthErrors[index] ? styles.inputError : null\r\n                ]}\r\n                value={cut.length}\r\n                placeholder=\"Enter length in millimeters\"\r\n                placeholderTextColor=\"#999999\"\r\n                onChangeText={(text) => updateCutLength(index, text)}\r\n                onSubmitEditing={() => handleInputSubmit(index)}\r\n                onKeyPress={(e) => handleKeyPress(e, index)}\r\n                keyboardType=\"numeric\"\r\n                returnKeyType={index === cutLengths.length - 1 ? \"done\" : \"next\"}\r\n                blurOnSubmit={true}  // Changed from conditional\r\n                onEndEditing={() => handleInputSubmit(index)}  // Changed - removed conditional\r\n                onBlur={() => handleInputSubmit(index)}  // Added this line for iOS browsers\r\n                enterKeyHint={index === cutLengths.length - 1 ? \"done\" : \"next\"}\r\n                inputMode=\"numeric\"\r\n                autoComplete=\"off\"\r\n              />\r\n                <Text style={styles.unitText}>{cut.unit}</Text>\r\n              </View>\r\n            </View>\r\n            {cutLengthErrors[index] ? <Text style={styles.errorText}>{cutLengthErrors[index]}</Text> : null}\r\n          </View>\r\n        ))}\r\n      </View>\r\n    );\r\n  };\r\n\r\n\r\n  return (\r\n    <View style={styles.mainContainer}> \r\n      {/* Easter Egg Message */}\r\n      {showEasterEgg && (\r\n        <View style={styles.easterEggContainer}>\r\n          <Text style={styles.easterEggText}>{easterEggMessage}</Text>\r\n        </View>\r\n      )}\r\n  \r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n  \r\n          <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\r\n            <ScrollView contentContainerStyle={styles.scrollContent}>\r\n              <View style={styles.contentContainer}>\r\n                {isOrderFittingMode ? (\r\n                  // Render only for fitting mode\r\n                  <>\r\n                    <View style={styles.titleContainer}>\r\n                      <Text style={styles.titleText}>Number of Fittings</Text>\r\n                    </View>\r\n                    <View style={styles.quantityRow}>\r\n                      <View style={styles.quantityContainer}>\r\n                        <Text style={styles.titleText}>QTY</Text>\r\n                      </View>\r\n                      <TextInput\r\n                        ref={quantityInputRef}\r\n                        style={styles.quantityInput}\r\n                        value={quantity}\r\n                        onChangeText={validateQuantity}\r\n                        onSubmitEditing={handleQuantitySubmit}\r\n                        onEndEditing={handleQuantitySubmit}\r\n                        onBlur={handleQuantitySubmit}\r\n                        blurOnSubmit={true}\r\n                        keyboardType=\"numeric\"\r\n                        maxLength={3}\r\n                        returnKeyType=\"done\"\r\n                        enterKeyHint=\"done\"\r\n                        inputMode=\"numeric\"\r\n                        autoComplete=\"off\"\r\n                      />\r\n                    </View>\r\n                    {error ? (\r\n                      <View style={styles.errorContainer}>\r\n                        <Text style={styles.errorText}>{error}</Text>\r\n                      </View>\r\n                    ) : null}\r\n                    {totalPrice > 0 && (\r\n                      <View style={styles.pricingContainer}>\r\n                        <DynamicPriceDisplay \r\n                          totalPrice={totalPrice}\r\n                          isHoseOnly={isHoseOnly}\r\n                        />\r\n                      </View>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  // Existing render for non-fitting modes\r\n                  <>\r\n                    {selectedHose && selectedHosePrice && (\r\n                      <SelectedHoseDisplay \r\n                        size={selectedHose.size}\r\n                        price={selectedHosePrice}\r\n                      />\r\n                    )}\r\n  \r\n                    {!isHoseOnly && (\r\n                      <>\r\n                        <View style={styles.titleContainer}>\r\n                          <Text style={styles.titleText}>No. of Hoses REQUIRED</Text>\r\n                        </View>\r\n                        <View style={styles.quantityRow}>\r\n                          <View style={styles.quantityContainer}>\r\n                            <Text style={styles.titleText}>QTY</Text>\r\n                          </View>\r\n                          <TextInput\r\n                            ref={quantityInputRef}\r\n                            style={styles.quantityInput}\r\n                            value={quantity}\r\n                            onChangeText={validateQuantity}\r\n                            onSubmitEditing={handleQuantitySubmit}\r\n                            onEndEditing={handleQuantitySubmit}\r\n                            onBlur={handleQuantitySubmit}\r\n                            blurOnSubmit={true}\r\n                            keyboardType=\"numeric\"\r\n                            maxLength={3}\r\n                            returnKeyType=\"done\"\r\n                            enterKeyHint=\"done\"\r\n                            inputMode=\"numeric\"\r\n                            autoComplete=\"off\"\r\n                          />\r\n                        </View>\r\n                        {/* Add error message display here */}\r\n                        {error ? (\r\n                          <View style={styles.errorContainer}>\r\n                            <Text style={styles.errorText}>{error}</Text>\r\n                          </View>\r\n                        ) : null}\r\n                      </>\r\n                    )}\r\n                    \r\n                    <View style={styles.subtitleContainer}>\r\n                      <Text style={styles.titleText}>\r\n                        {isHoseOnly ? 'Hose Cut LENGTH' : 'Hose Cut LENGTHS'}\r\n                      </Text>\r\n                    </View>\r\n                    \r\n                    <Image\r\n                      source={require('../assets/hose_cut_length.png')}\r\n                      style={styles.diagram}\r\n                      resizeMode=\"contain\"\r\n                    />\r\n                    \r\n                    <View style={styles.cutLengthsContainer}>\r\n                      {renderCutLengthRows()}\r\n                    </View>\r\n  \r\n                    {totalPrice > 0 && (\r\n                      <View style={styles.pricingContainer}>\r\n                        <DynamicPriceDisplay \r\n                          totalPrice={totalPrice}\r\n                          isHoseOnly={isHoseOnly}\r\n                        />\r\n                      </View>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </View>\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n  \r\n      {/* iOS Validation Button */}\r\n      {isIOSBrowser() && !hasSubmitted && (\r\n        <View style={styles.iosValidationContainer}>\r\n          <TouchableOpacity\r\n            style={styles.iosValidationButton}\r\n            onPress={() => {\r\n              if (isOrderFittingMode && quantity) {\r\n                handleQuantitySubmit();\r\n              } else if (isHoseOnly && cutLengths[0]?.length) {\r\n                handleInputSubmit(0);\r\n              } else if (!isHoseOnly && !isOrderFittingMode) {\r\n                // For normal mode with multiple lengths\r\n                const allValid = cutLengths.every((cut, idx) => {\r\n                  if (cut.length) {\r\n                    return handleInputSubmit(idx);\r\n                  }\r\n                  return false;\r\n                });\r\n              }\r\n            }}\r\n          >\r\n          </TouchableOpacity>\r\n        </View>\r\n      )}\r\n    \r\n      {/* Define the condition for showing next button once */}\r\n      {(() => {\r\n        const shouldShowNextButton = (\r\n          (isOrderFittingMode && quantity !== '' && !error && hasSubmitted) || // Fitting Only mode\r\n          (isHoseOnly && cutLengths[0]?.length && \r\n          /^\\d+$/.test(cutLengths[0]?.length) && \r\n          parseInt(cutLengths[0]?.length) >= 50 && hasSubmitted) || // Hose Only mode\r\n          (!isOrderFittingMode && !isHoseOnly && // Normal mode\r\n          initialValidationDone && \r\n          cutLengths.every(cut => {\r\n            if (!cut.length) return false;\r\n            if (!/^\\d+$/.test(cut.length)) return false;\r\n            return parseInt(cut.length, 10) >= 50;\r\n          }) && \r\n          hasSubmitted)\r\n        );\r\n  \r\n        // Return a fragment with conditional content\r\n        return (\r\n          <>\r\n            {/* Platform-specific next button rendering */}\r\n            {shouldShowNextButton && (\r\n              <View style={styles.iosNextButtonContainer}>\r\n                <NextArrowButton onPress={handleNext} isActive={true} />\r\n              </View>\r\n            )}\r\n          </>\r\n        );\r\n      })()}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollContent: {\r\n    flexGrow: 1,\r\n    alignItems: 'center',\r\n    backgroundColor: 'transparent',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n    backgroundColor: 'white',\r\n  },\r\n  contentContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: '100%',\r\n    height: undefined,\r\n    aspectRatio: 2,\r\n    resizeMode: 'contain',\r\n    maxWidth: 400,\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginTop: 15,\r\n    marginBottom: 5,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  selectedHoseContainer: {\r\n    alignItems: 'center',\r\n    marginVertical: 15,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 12,\r\n    width: '80%',\r\n    maxWidth: 300,\r\n    backgroundColor: 'white',\r\n  },\r\n  selectedHoseHeader: {\r\n    fontSize: 18,\r\n    color: '#4a4a4a',\r\n    marginBottom: 4,\r\n  },\r\n  selectedHoseSize: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: 8,\r\n  },\r\n  selectedHosePriceContainer: {\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 12,\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 15,\r\n  },\r\n  selectedHosePrice: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  quantityRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n  },\r\n  quantityContainer: {\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  quantityInput: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    width: 120,\r\n    height: 60,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  errorContainer: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    marginTop: 5,\r\n  },\r\n  errorText: {\r\n    color: 'red',\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n  },\r\n  inputError: {\r\n    borderColor: 'red',\r\n  },\r\n  subtitleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 5,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n    marginTop: 20,\r\n  },\r\n  diagram: {\r\n    width: '80%',\r\n    height: undefined,\r\n    aspectRatio: 16 / 12,\r\n    maxWidth: 300,\r\n    alignSelf: 'center',\r\n  },\r\n  cutLengthsContainer: {\r\n    width: '100%',\r\n    maxWidth: 500,\r\n    alignItems: 'center',\r\n    marginTop: 20,\r\n  },\r\n  cutLengthRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 10,\r\n    width: '100%',\r\n  },\r\n  cutLengthText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  rowLabelContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    flex: 1,\r\n  },\r\n  rowNumberContainer: {\r\n    width: 40, // Adjust this width as needed\r\n    alignItems: 'flex-end',\r\n    marginRight: 5,\r\n  },\r\n  rowNumber: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    marginRight: 10,\r\n  },\r\n  cutLengthInputContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  cutLengthInput: {\r\n    fontSize: 18,\r\n    fontWeight: 'normal',\r\n    textAlign: 'left',\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 8,\r\n    width: 230,  // Increased width to accommodate placeholder\r\n    height: 45,\r\n    marginRight: 5,\r\n    marginLeft: 30,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: '#F5F5F5',\r\n  },\r\n  unitText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    width: 40,\r\n    marginLeft: 5,\r\n  },\r\n  pricingContainer: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  easterEggContainer: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 120 : 80,\r\n    left: 0,\r\n    right: 0,\r\n    backgroundColor: '#ffc100',\r\n    padding: 15,\r\n    margin: 20,\r\n    borderRadius: 10,\r\n    borderWidth: 3,\r\n    borderColor: '#4a4a4a',\r\n    zIndex: 2000,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 4,\r\n    },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 5,\r\n    elevation: 8,\r\n  },\r\n  easterEggText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  iosNextButtonContainer: {\r\n    position: 'absolute',\r\n    bottom: 100,\r\n    right: 20,\r\n    marginRight: 20,\r\n    zIndex: 1500,\r\n  },\r\n  /*iosValidationContainer: {\r\n    alignItems: 'center',\r\n    marginTop: 15,\r\n    marginBottom: 20,\r\n  },\r\n  iosValidationButton: {\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 25,\r\n    borderRadius: 25,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  iosValidationButtonText: {\r\n    color: 'white',\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n  iosNextPromptContainer: {\r\n    position: 'absolute',\r\n    bottom: 170,\r\n    right: 20,\r\n    backgroundColor: 'rgba(255, 193, 0, 0.9)',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    maxWidth: 200,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    zIndex: 1400,\r\n  },\r\n  iosNextPromptText: {\r\n    color: '#4a4a4a',\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  }*/\r\n  viewportFooter: {\r\n    position: 'absolute',\r\n    bottom: Platform.OS === 'ios' ? 40 : 20,\r\n    right: 20,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)', // semi-transparent white background\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  footerContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  footerRight: {\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nexport default CutLengthsScreen;","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated, } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8); // Button width, capped at 320\n\nconst ProtectionTypeButton = ({ type, image, onPress, isSelected, priceText }) => (\n  <TouchableOpacity \n    style={[\n      styles.protectionButton, \n      isSelected && styles.selectedProtectionButton\n    ]} \n    onPress={onPress}\n  >\n    <View style={styles.protectionContent}>\n      {image ? (\n        <>\n          <Text style={styles.protectionButtonText}>{type}</Text>\n          <View style={styles.contentRow}>\n            <View style={styles.imageContainer}>\n              <Image source={image} style={styles.protectionImage} resizeMode=\"contain\" />\n            </View>\n            <View style={styles.priceContainer}>\n              <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\n                <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\n                  {priceText}\n                </Text>\n              </View>\n            </View>\n          </View>\n        </>\n      ) : (\n        <View style={styles.noImageContentCentered}>\n          <Text style={styles.protectionButtonText}>{type}</Text>\n        </View>\n      )}\n    </View>\n  </TouchableOpacity>\n);\n\nconst PriceDisplay = ({ price, isHoseOnly, hasProtection, titleFade, priceFade }) => (\n    <View style={styles.pricingCard}>\n      <Animated.Text style={[styles.pricingHeader, { opacity: titleFade }]}>\n        {hasProtection ? 'Hose Price with Protection' : (isHoseOnly ? 'Hose Only Price' : 'Total Hose and Fitting Price')}\n      </Animated.Text>\n      <View style={styles.pricingValueContainer}>\n        <Animated.Text style={[styles.pricingValue, { opacity: priceFade }]}>\n          A$ {price.toFixed(2)}\n        </Animated.Text>\n      </View>\n    </View>\n  );\n\n  const HoseProtectionScreen = () => {\n    const navigation = useNavigation();\n    const route = useRoute();\n    const [selectedProtection, setSelectedProtection] = useState(null);\n    const [initialPrice, setInitialPrice] = useState(0);\n    const [protectionPrice, setProtectionPrice] = useState(0);\n    const priceFade = useRef(new Animated.Value(1)).current;\n    const fadeAnim = useRef(new Animated.Value(0)).current;\n    const titleFade = useRef(new Animated.Value(1)).current;\n    \n    const { \n      selectedHose, \n      selectedHosePrice,\n      selectedFitting, \n      end1Shape, \n      end1Size,\n      end1Price, \n      selectedEnd2Fitting, \n      end2Shape, \n      end2Size,\n      end2Price, \n      selectedAngle, \n      quantity, \n      cutLengths,\n      cutLengthPrice,\n      isDevMode: devModeActive,\n      isHoseOnly\n    } = route.params || {};\n  \n    // Move protectionTypes outside of useEffect\n    const protectionTypes = [\n      { type: 'NOT REQUIRED', image: null },\n      { type: 'Nylon Hose Sleeve', image: require('../assets/nylon_sleeve.png') },\n      { type: 'Plastic Spiral Cover', image: require('../assets/plastic_spiral.png') },\n      { type: 'Metal Spiral Wrap', image: require('../assets/metal_spiral.png') },\n    ];\n\n    useEffect(() => {\n      if (cutLengthPrice) {\n        setInitialPrice(cutLengthPrice);\n        setProtectionPrice(cutLengthPrice);\n      }\n    }, [cutLengthPrice]);\n  \n    // Third useEffect for fade animation\n    useEffect(() => {\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start();\n    }, []);\n  \n    useFocusEffect(\n      React.useCallback(() => {\n       // setSelectedProtection(null);\n        fadeAnim.setValue(0);\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 800,\n          useNativeDriver: Platform.OS === 'native',\n        }).start();\n  \n        return () => {\n          // Optional cleanup if needed\n        };\n      }, [fadeAnim])\n    );\n\n    const PROTECTION_PRICE_MULTIPLIERS = {\n      'Nylon Hose Sleeve': 1.30,  // 30% increase\n      'Plastic Spiral Cover': 1.40, // 40% increase\n      'Metal Spiral Wrap': 1.50,   // 50% increase\n      'NOT REQUIRED': 1.0  // No increase\n    };\n  \n    const handleProtectionSelection = (type) => {\n      setSelectedProtection(type);\n      \n      if (type === 'NOT REQUIRED') {\n        // Simple navigation with current price\n        Animated.timing(fadeAnim, {\n          toValue: 0,\n          duration: 800,\n          useNativeDriver: Platform.OS === 'native',\n        }).start(() => {\n          navigateToNext(type, initialPrice);\n        });\n      } else {\n        // Parallel animation for title and price\n        Animated.sequence([\n          Animated.parallel([\n            // Fade out both title and price\n            Animated.timing(titleFade, {\n              toValue: 0,\n              duration: 500,\n              useNativeDriver: Platform.OS === 'native',\n            }),\n            Animated.timing(priceFade, {\n              toValue: 0,\n              duration: 500,\n              useNativeDriver: Platform.OS === 'native',\n            })\n          ]),\n          Animated.timing(new Animated.Value(0), {\n            toValue: 1,\n            duration: 100,\n            useNativeDriver: Platform.OS === 'native',\n          }),\n        ]).start(() => {\n          // Update price state after fade out\n          const multiplier = PROTECTION_PRICE_MULTIPLIERS[type];\n          const newPrice = initialPrice * multiplier;\n          setProtectionPrice(newPrice);\n          \n          // Fade in both title and price\n          Animated.parallel([\n            Animated.timing(titleFade, {\n              toValue: 1,\n              duration: 500,\n              useNativeDriver: Platform.OS === 'native',\n            }),\n            Animated.timing(priceFade, {\n              toValue: 1,\n              duration: 500,\n              useNativeDriver: Platform.OS === 'native',\n            })\n          ]).start(() => {\n            // Start navigation animation after price update\n            setTimeout(() => {\n              Animated.timing(fadeAnim, {\n                toValue: 0,\n                duration: 800,\n                useNativeDriver: Platform.OS === 'native',\n              }).start(() => {\n                navigateToNext(type, newPrice);\n              });\n            }, 1000);\n          });\n        });\n      }\n    };\n    \n    // Update the navigateToNext function to include protection cost calculation\n    const navigateToNext = (type, price) => {\n      const nextScreen = isHoseOnly ? 'OrderConfirmation1' : 'PressureTesting';\n      navigation.navigate(nextScreen, {\n        selectedProtection: type,\n        selectedHose,\n        selectedHosePrice,\n        selectedFitting,\n        end1Shape,\n        end1Size,\n        end1Price,\n        selectedEnd2Fitting,\n        end2Shape,\n        end2Size,\n        end2Price, \n        selectedAngle,\n        cutLengths,\n        quantity,\n        isHoseOnly,\n        isDevMode: devModeActive,\n        cutLengthPrice: initialPrice, // Pass the original cut length price\n        basePrice: initialPrice,\n        hoseProtectionPrice: price,\n        protectionCost: type === 'NOT REQUIRED' ? 0 : (price - initialPrice),\n        \n      });\n    };\n  \n    return (\n      <View style={styles.mainContainer}>\n        {/* Floating Back Button */}\n        <TouchableOpacity \n          style={styles.floatingBackButton}\n          onPress={() => navigation.goBack()}\n        >\n          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n            <Path \n              d=\"M19 12H5M12 19L5 12L12 5\" \n              stroke=\"#4a4a4a\" \n              strokeWidth=\"2.5\" \n              strokeLinecap=\"round\" \n              strokeLinejoin=\"round\"\n            />\n          </Svg>\n        </TouchableOpacity>\n        \n        <ScrollableGradientWrapper>\n          <SafeAreaView style={styles.container}>\n            <View style={styles.logoContainer}>\n              <Image\n                source={require('../assets/fluidpower_logo.gif')}\n                style={styles.logo}\n                resizeMode=\"contain\"\n              />\n            </View>\n            \n            <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n              <View style={styles.titleContainer}>\n                <View style={styles.titleWrapper}>\n                  <Text style={styles.titleText}>Hose PROTECTION</Text>\n                  <Text style={styles.titleText}>(Optional)</Text>\n                </View>\n              </View>\n    \n              <View style={styles.subtitleContainer}>\n                <Text style={styles.subtitleText}>Get your Hose Protected</Text>\n                <Text style={styles.subtitleText}>Safety and Long Life</Text>\n              </View>\n\n              <View style={styles.subtitleContainer2}>\n                <Text style={styles.subtitleText2}>*Hose Protection Prices Applied</Text>\n                <Text style={styles.subtitleText2}>On Hose Lengths Only</Text>\n              </View>\n    \n              <View style={styles.scrollViewContent}>\n              {protectionTypes.map((protection, index) => (\n                <ProtectionTypeButton\n                  key={index}\n                  type={protection.type}\n                  image={protection.image}\n                  onPress={() => handleProtectionSelection(protection.type)}\n                  isSelected={selectedProtection === protection.type}\n                  priceText={\n                    protection.type === 'NOT REQUIRED' ? '' :\n                    `A$ ${(initialPrice * (PROTECTION_PRICE_MULTIPLIERS[protection.type] - 1)).toFixed(2)}`\n                  }\n                />\n              ))}\n    \n                <View style={styles.pricingSection}>\n                  <PriceDisplay \n                    price={selectedProtection && selectedProtection !== 'NOT REQUIRED' ? protectionPrice : initialPrice}\n                    isHoseOnly={isHoseOnly}\n                    hasProtection={selectedProtection && selectedProtection !== 'NOT REQUIRED'}\n                    titleFade={titleFade}\n                    priceFade={priceFade}\n                  />\n                </View>\n              </View>\n            </Animated.View>\n          </SafeAreaView>\n        </ScrollableGradientWrapper>\n      </View>\n    );\n   };\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  mainScrollView: {\n    flex: 1,\n  },\n  mainScrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: 20,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: 400,\n    height: 200,\n    resizeMode: 'contain',\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  subtitleContainer: {\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  subtitleText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#ffc100',\n    textAlign: 'center',\n  },\n  subtitleContainer2: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  subtitleText2: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n  },\n  protectionButton: {\n    marginBottom: 20,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    overflow: 'hidden',\n    width: BUTTON_WIDTH,\n    height: 140, // Reduced height\n    backgroundColor: '#fff',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  selectedProtectionButton: {\n    backgroundColor: '#ffc100',\n  },\n  protectionButtonText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  protectionContent: {\n    flex: 1,\n    padding: 15,\n    alignItems: 'center',\n  },\n  selectedProtectionButton: {\n    backgroundColor: '#ffc100',\n  },\n  noImageButton: {\n    height: 80, // Smaller height for no-image button\n  },\n  contentRow: {\n    flexDirection: 'row',\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    paddingTop: 5,\n  },\n  noImageContent: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 10,\n  },\n  imageContainer: {\n    flex: 1,\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    paddingLeft: 20,\n  },\n  priceContainer: {\n    flex: 1,\n    alignItems: 'flex-end',\n    justifyContent: 'center',\n    paddingRight: 20,\n  },\n  noImageContentCentered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  protectionImage: {\n    width: 100,\n    height: 50,\n    marginTop: 10,\n  },\n  noImagePlaceholder: {\n    width: 100,\n    height: 100,\n  },\n  noImageSubtext: {\n    fontSize: 18,\n    color: '#666',\n    marginTop: 10,\n  },\n  leftColumn: {\n    flex: 2, // Takes up 2/3 of the space\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  rightColumn: {\n    flex: 1, // Takes up 1/3 of the space\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingLeft: 10,\n  },\n  priceSummaryContainer: {\n    backgroundColor: '#fff',\n    borderRadius: 15,\n    padding: 15,\n    marginHorizontal: 20,\n    marginTop: 20,\n    alignItems: 'center',\n  },\n  priceRow: {\n    flexDirection: 'column', // Stack label and value vertically\n    alignItems: 'center', // Center horizontally\n    marginBottom: 10,\n  },\n  priceLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n    textAlign: 'center',\n  },\n  priceValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#ffc100',\n    textAlign: 'center',\n  },\n  protectionCost: {\n    fontSize: 14,\n    color: '#666',\n    fontStyle: 'italic',\n    textAlign: 'center',\n  },\n  pricingSection: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  pricingCard: {\n    backgroundColor: '#fff',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    padding: 12,\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 300,\n    alignSelf: 'center',\n  },\n  marginBottom20: {\n    marginBottom: 20,\n  },\n  pricingHeader: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  pricingValueContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 12,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n  },\n  pricingValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  priceBorder: {\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n    backgroundColor: '#ffc100',\n    minWidth: 80,\n    alignItems: 'center',\n  },\n  priceText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },  \n  selectedPriceBorder: {\n    backgroundColor: 'transparent',\n  },\n  selectedPriceText: {\n    color: '#333',\n  },\n  protectionContent: {\n    flex: 1,\n    padding: 15,\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  protectionImage: {\n    width: 100,\n    height: 80, // Adjusted to accommodate price\n    marginVertical: 5,\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n    backgroundColor: 'transparent',\n  },\n  footerLeft: {\n    flex: 1,\n  },\n  footerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  footerRight: {\n    flex: 1,\n    alignItems: 'flex-end',\n  },\n  placeholderButton: {\n    width: 50,\n    height: 50,\n  },\n});\n\nexport default HoseProtectionScreen;","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\n\n// Price Display Component\nconst PriceDisplay = ({ price, hasTestingSelected, titleFade, priceFade }) => (\n  <View style={styles.pricingCard}>\n    <Animated.Text style={[styles.pricingHeader, { opacity: titleFade }]}>\n      {hasTestingSelected ? 'Price with Pressure Testing' : 'Total Hose and Fitting Price'}\n    </Animated.Text>\n    <View style={styles.pricingValueContainer}>\n      <Animated.Text style={[styles.pricingValue, { opacity: priceFade }]}>\n        A$ {price.toFixed(2)}\n      </Animated.Text>\n    </View>\n  </View>\n);\n\nconst PressureButton = ({ type, onPress, isSelected }) => (\n  <TouchableOpacity \n    style={[styles.pressureButton, isSelected && styles.selectedPressureButton]} \n    onPress={onPress}\n  >\n    <Text style={styles.pressureButtonText}>{type}</Text>\n  </TouchableOpacity>\n);\n\nconst PressureTestingScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [selectedPressure, setSelectedPressure] = useState(null);\n  const [initialPrice, setInitialPrice] = useState(0);\n  const [pressureTestPrice, setPressureTestPrice] = useState(0);\n  const priceFade = useRef(new Animated.Value(1)).current;\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const titleFade = useRef(new Animated.Value(1)).current;\n\n  const { \n    selectedHose,\n    selectedHosePrice,\n    selectedFitting, \n    end1Shape, \n    end1Size,\n    end1Price, \n    selectedEnd2Fitting, \n    end2Shape, \n    end2Size,\n    end2Price, \n    selectedAngle,\n    quantity,\n    cutLengths,\n    selectedProtection,\n    cutLengthPrice,\n    isDevMode: devModeActive,\n    basePrice,\n    hoseProtectionPrice,\n    protectionCost\n  } = route.params || {};\n\n  const pressureOptions = [\n    'Not Required',\n    '6000psi'\n  ];\n\n  // Set initial price\n  useEffect(() => {\n    if (hoseProtectionPrice) {\n      setInitialPrice(hoseProtectionPrice);  // Show price from Hose Protection\n      setPressureTestPrice(hoseProtectionPrice);\n    }\n  }, [hoseProtectionPrice]);\n\n  useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start();\n  }, []);\n\n  useFocusEffect(\n    React.useCallback(() => {\n      fadeAnim.setValue(0);\n      const timer = setTimeout(() => {\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 400,\n          useNativeDriver: Platform.OS === 'native',\n        }).start();\n      }, 50);\n\n      return () => clearTimeout(timer);\n    }, [fadeAnim])\n  );\n\n  const handlePressureSelection = (pressure) => {\n    setSelectedPressure(pressure);\n    \n    if (pressure === 'Not Required') {\n      // Simple navigation with current price from Hose Protection\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start(() => {\n        navigateToNext(pressure, initialPrice);\n      });\n    } else {\n      // Parallel animation for title and price\n      Animated.sequence([\n        Animated.parallel([\n          // Fade out both title and price\n          Animated.timing(titleFade, {\n            toValue: 0,\n            duration: 500,\n            useNativeDriver: Platform.OS === 'native',\n          }),\n          Animated.timing(priceFade, {\n            toValue: 0,\n            duration: 500,\n            useNativeDriver: Platform.OS === 'native',\n          })\n        ]),\n        Animated.timing(new Animated.Value(0), {\n          toValue: 1,\n          duration: 100,\n          useNativeDriver: Platform.OS === 'native',\n        }),\n      ]).start(() => {\n        // Calculate pressure test cost based on quantity\n        const pressureTestCostPerHose = 10;\n        const numberOfHoses = quantity ? parseInt(quantity) : 1; // Use quantity if available\n        const totalPressureTestCost = pressureTestCostPerHose * numberOfHoses;\n        \n        // Add this to the price from Hose Protection\n        const newPrice = hoseProtectionPrice + totalPressureTestCost;\n        setPressureTestPrice(newPrice);\n        \n        // Fade in both title and price\n        Animated.parallel([\n          Animated.timing(titleFade, {\n            toValue: 1,\n            duration: 500,\n            useNativeDriver: Platform.OS === 'native',\n          }),\n          Animated.timing(priceFade, {\n            toValue: 1,\n            duration: 500,\n            useNativeDriver: Platform.OS === 'native',\n          })\n        ]).start(() => {\n          // Start navigation animation after price update\n          setTimeout(() => {\n            Animated.timing(fadeAnim, {\n              toValue: 0,\n              duration: 800,\n              useNativeDriver: Platform.OS === 'native',\n            }).start(() => {\n              navigateToNext(pressure, newPrice);\n            });\n          }, 1000);\n        });\n      });\n    }\n  };\n\n  const navigateToNext = (pressure, price) => {\n    const numberOfHoses = quantity ? parseInt(quantity) : 1;\n    const pressureTestTotalCost = pressure === 'Not Required' ? 0 : (10 * numberOfHoses);\n    \n    navigation.navigate('OrderConfirmation1', {\n      selectedPressure: pressure,\n      selectedProtection,\n      selectedHose,\n      selectedHosePrice,\n      selectedFitting,\n      end1Shape,\n      end1Size,\n      end1Price,\n      selectedEnd2Fitting,\n      end2Shape,\n      end2Size,\n      end2Price,\n      selectedAngle,\n      quantity,\n      cutLengths,\n      cutLengthPrice,\n      isDevMode: devModeActive,\n      basePrice,\n      hoseProtectionPrice: price,  // Pass the new total price\n      protectionCost,\n      pressureTestPrice: pressureTestTotalCost  // Pass the total pressure test cost\n    });\n  };\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Back Button */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n      </TouchableOpacity>\n      <ScrollableGradientWrapper>\n        <SafeAreaView style={styles.container}>\n        <View style={styles.logoContainer}>\n          <Image\n            source={require('../assets/fluidpower_logo.gif')}\n            style={styles.logo}\n            resizeMode=\"contain\"\n          />\n        </View>\n        <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n          <View style={styles.titleContainer}>\n            <View style={styles.titleWrapper}>\n              <Text style={styles.titleText}>Pressure TESTING</Text>\n              <Text style={styles.titleText}>(Optional)</Text>\n            </View>\n          </View>\n          <Image\n            source={require('../assets/pressure_testing_diagram.png')}\n            style={styles.diagram}\n            resizeMode=\"contain\"\n          />\n          <View style={styles.subtitleContainer}>\n            <Text style={styles.subtitleText}>\n              Get your Hose Pressure Tested for an additional A$ 10.00 per Hose\n            </Text>\n          </View>\n          <View style={styles.buttonsContainer}>\n            {pressureOptions.map((pressure, index) => (\n              <PressureButton\n                key={index}\n                type={pressure}\n                onPress={() => handlePressureSelection(pressure)}\n                isSelected={selectedPressure === pressure}\n              />\n            ))}\n          </View>\n\n          <View style={styles.pricingSection}>\n            <PriceDisplay \n              price={selectedPressure && selectedPressure !== 'Not Required' ? pressureTestPrice : initialPrice}\n              hasTestingSelected={selectedPressure && selectedPressure !== 'Not Required'}\n              titleFade={titleFade}\n              priceFade={priceFade}\n            />\n          </View>\n        </Animated.View>\n        </SafeAreaView>\n      </ScrollableGradientWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: 400,\n    height: 200,\n    resizeMode: 'contain',\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 10,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  diagram: {\n    width: '100%',\n    height: 180,\n    marginVertical: 5,\n  },\n  subtitleContainer: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  subtitleText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#ffc100',\n    textAlign: 'center',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n  },\n  pressureButton: {\n    marginBottom: 10,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    overflow: 'hidden',\n    width: BUTTON_WIDTH,\n    height: 100,\n    alignSelf: 'center',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 30,\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  selectedPressureButton: {\n    backgroundColor: '#ffc100',\n  },\n  pressureButtonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  pricingSection: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  pricingCard: {\n    backgroundColor: '#fff',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    padding: 12,\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 300,\n    alignSelf: 'center',\n  },\n  pricingHeader: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  pricingValueContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 12,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n  },\n  pricingValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n    backgroundColor: 'transparent',\n  },\n  footerLeft: {\n    flex: 1,\n  },\n  footerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  footerRight: {\n    flex: 1,\n    alignItems: 'flex-end',\n  },\n  placeholderButton: {\n    width: 50,\n    height: 50,\n  },\n});\n\nexport default PressureTestingScreen;","import React, { useRef, useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\n\n// Shipping Button Component\nconst ShippingButton = ({ type, price, onPress, isSelected }) => (\n  <TouchableOpacity \n    style={[\n      styles.shippingButton,\n      isSelected && styles.selectedShippingButton\n    ]}\n    onPress={onPress}\n  >\n    <View style={styles.shippingContent}>\n      <Text style={styles.shippingButtonText}>{type}</Text>\n      <View style={[styles.pricingValueContainer, isSelected && styles.selectedPricingValueContainer]}>\n        <Text style={styles.priceText}>\n          {price === 'FREE' ? 'FREE' : `A$ ${price}`}\n        </Text>\n      </View>\n    </View>\n  </TouchableOpacity>\n);\n\n// Price Display Component\nconst PriceDisplay = ({ price, hasProtection, withShipping, titleFade, priceFade }) => (\n  <View style={styles.pricingCard}>\n    <Animated.Text style={[styles.pricingHeader, { opacity: titleFade }]}>\n      {withShipping ? 'Price with Express Shipping' : \n       (hasProtection ? 'Hose Price with Protection' : 'Hose Only Price')}\n    </Animated.Text>\n    <View style={styles.pricingValueContainer}>\n      <Animated.Text style={[styles.pricingValue, { opacity: priceFade }]}>\n        A$ {price.toFixed(2)}\n      </Animated.Text>\n    </View>\n  </View>\n);\n\nconst ShippingOptionsScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [selectedService, setSelectedService] = useState(null);\n  const [basePrice, setBasePrice] = useState(0);\n  const [shippingPrice, setShippingPrice] = useState(0);\n  const priceFade = useRef(new Animated.Value(1)).current;\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const titleFade = useRef(new Animated.Value(1)).current;\n  const [easterEggMessage, setEasterEggMessage] = useState('');\n  const [showEasterEgg, setShowEasterEgg] = useState(false);\n\n  const { \n    selectedHose,\n    selectedHosePrice, \n    selectedFitting, \n    end1Shape, \n    end1Size,\n    end1Price, \n    selectedEnd2Fitting, \n    end2Shape, \n    end2Size,\n    end2Price,\n    selectedAngle, \n    quantity, \n    cutLengths,\n    isDevMode: devModeActive,\n    selectedProtection,\n    basePrice: receivedBasePrice,\n    totalPrice: receivedTotalPrice,\n    protectionCost,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    cutLengthPrice,  // Added this\n    totalBeforeShipping  // Added this\n  } = route.params || {};\n\n  useEffect(() => {\n    if (devModeActive) {\n      // Override prices for dev mode\n      setBasePrice(0.2);\n      setShippingPrice(0.2);\n      \n      // Show Easter egg message\n      setEasterEggMessage(' Developer Super Discount Activated! All shipping is magic... enjoy your $0.20 price! ');\n      setShowEasterEgg(true);\n      \n      // Auto-hide the message after 5 seconds\n      setTimeout(() => {\n        setShowEasterEgg(false);\n      }, 5000);\n    } else if (totalBeforeShipping) {\n      setBasePrice(totalBeforeShipping);\n      setShippingPrice(totalBeforeShipping);\n    } else if (hoseProtectionPrice) {\n      setBasePrice(hoseProtectionPrice);\n      setShippingPrice(hoseProtectionPrice);\n    } else if (cutLengthPrice) {\n      setBasePrice(cutLengthPrice);\n      setShippingPrice(cutLengthPrice);\n    }\n  }, [totalBeforeShipping, hoseProtectionPrice, cutLengthPrice, devModeActive]);\n\n  useEffect(() => {\n    if (totalBeforeShipping) {\n      setBasePrice(totalBeforeShipping);\n      setShippingPrice(totalBeforeShipping);\n    } else if (hoseProtectionPrice) {\n      setBasePrice(hoseProtectionPrice);\n      setShippingPrice(hoseProtectionPrice);\n    } else if (cutLengthPrice) {\n      setBasePrice(cutLengthPrice);\n      setShippingPrice(cutLengthPrice);\n    }\n  }, [totalBeforeShipping, hoseProtectionPrice, cutLengthPrice]);\n\n  useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start();\n  }, []);\n\n  useFocusEffect(\n    React.useCallback(() => {\n      //setSelectedService(null);\n      fadeAnim.setValue(0);\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start();\n    }, [fadeAnim])\n  );\n\n  const handleServiceSelection = (service) => {\n    setSelectedService(service);\n  \n    // Express shipping with animation\n    Animated.sequence([\n      Animated.parallel([\n        Animated.timing(titleFade, {\n          toValue: 0,\n          duration: 500,\n          useNativeDriver: Platform.OS === 'native',\n        }),\n        Animated.timing(priceFade, {\n          toValue: 0,\n          duration: 500,\n          useNativeDriver: Platform.OS === 'native',\n        })\n      ]),\n      Animated.timing(new Animated.Value(0), {\n        toValue: 1,\n        duration: 100,\n        useNativeDriver: Platform.OS === 'native',\n      }),\n    ]).start(() => {\n      // Always set to 0.2 in dev mode, otherwise normal calculation\n      const shippingCost = devModeActive ? 0 : 12.85;\n      const newPrice = devModeActive ? 0.2 : basePrice + shippingCost;\n      setShippingPrice(newPrice);\n      \n      Animated.parallel([\n        Animated.timing(titleFade, {\n          toValue: 1,\n          duration: 500,\n          useNativeDriver: Platform.OS === 'native',\n        }),\n        Animated.timing(priceFade, {\n          toValue: 1,\n          duration: 500,\n          useNativeDriver: Platform.OS === 'native',\n        })\n      ]).start(() => {\n        setTimeout(() => {\n          Animated.timing(fadeAnim, {\n            toValue: 0,\n            duration: 800,\n            useNativeDriver: Platform.OS === 'native',\n          }).start(() => {\n            navigateToNext(service, newPrice);\n          });\n        }, 1000);\n      });\n    });\n  };\n\n  const navigateToNext = (service, finalPrice) => {\n    const devPrice = devModeActive ? 0.2 : finalPrice;\n\n\n    navigation.navigate('OrderConfirmation1', {\n      selectedService: service,\n      cutLengths,\n      selectedHose,\n      selectedHosePrice,\n      selectedFitting,\n      end1Shape,\n      end1Size,\n      end1Price,\n      selectedEnd2Fitting,\n      end2Shape,\n      end2Size,\n      end2Price,\n      selectedAngle,\n      quantity,\n      selectedProtection,\n      isDevMode: devModeActive,\n      hoseProtectionPrice,\n      selectedPressure,\n      pressureTestPrice,\n      basePrice: receivedBasePrice,\n      totalBeforeShipping: devModeActive ? 0.2 : (totalBeforeShipping || hoseProtectionPrice || cutLengthPrice),\n      cutLengthPrice: devModeActive ? 0.2 : cutLengthPrice,\n      shippingCost: devModeActive ? 0 : 12.85,\n      totalPriceWithShipping: devPrice,\n      protectionCost: devModeActive ? 0 : protectionCost,\n    });\n  };\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Keep Floating Back Button outside scroll wrapper */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n      </TouchableOpacity>\n\n        {/* Easter Egg Message */}\n        {showEasterEgg && (\n          <View style={styles.easterEggContainer}>\n            <Text style={styles.easterEggText}>{easterEggMessage}</Text>\n          </View>\n        )}\n  \n      <ScrollableGradientWrapper>\n        <SafeAreaView style={styles.container}>\n          <View style={styles.logoContainer}>\n            <Image\n              source={require('../assets/fluidpower_logo.gif')}\n              style={styles.logo}\n              resizeMode=\"contain\"\n            />\n          </View>\n          \n          <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n            <View style={styles.titleContainer}>\n              <View style={styles.titleWrapper}>\n                <Text style={styles.titleText}>Select Shipping OPTION</Text>\n              </View>\n            </View>\n  \n            <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\n              <ShippingButton\n                type=\"EXPRESS\"\n                price=\"12.85\"\n                onPress={() => handleServiceSelection('EXPRESS')}\n                isSelected={selectedService === 'EXPRESS'}\n              />\n\n              <View style={styles.pricingSection}>\n                <PriceDisplay \n                  price={selectedService === 'EXPRESS' ? shippingPrice : basePrice}\n                  hasProtection={selectedProtection && selectedProtection !== 'NOT REQUIRED'}\n                  withShipping={selectedService === 'EXPRESS'}\n                  titleFade={titleFade}\n                  priceFade={priceFade}\n                />\n              </View>\n            </ScrollView>\n          </Animated.View>\n        </SafeAreaView>\n      </ScrollableGradientWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 30,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n  },\n  shippingButton: {\n    width: BUTTON_WIDTH,\n    height: 150,\n    marginBottom: 20,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 20,\n    backgroundColor: 'transparent',\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  selectedShippingButton: {\n    backgroundColor: '#ffc100',\n  },\n  shippingContent: {\n    flex: 1,\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  shippingButtonText: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  pricingSection: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  pricingCard: {\n    backgroundColor: '#fff',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    padding: 12,\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 300,\n    alignSelf: 'center',\n  },\n  pricingHeader: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  pricingValueContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 12,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n  },\n  selectedPricingValueContainer: {\n    backgroundColor: 'transparent',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  pricingValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  easterEggContainer: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 120 : 80,\n    left: 0,\n    right: 0,\n    backgroundColor: '#ffc100',\n    padding: 15,\n    margin: 20,\n    borderRadius: 10,\n    borderWidth: 3,\n    borderColor: '#4a4a4a',\n    zIndex: 2000,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 4,\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 5,\n    elevation: 8,\n  },\n  easterEggText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n});\n\nexport default ShippingOptionsScreen;","import React, { useRef, useEffect } from 'react';\nimport { View, Text, StyleSheet, SafeAreaView, Image, ScrollView, TouchableOpacity, Platform, Dimensions, Animated } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\n// Helper Components\nconst LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nconst BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.cutLengthsPriceBorder}>\n            <Text style={styles.priceText}>\n              {typeof price === 'number' ? `A$${price.toFixed(2)}` : price}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {typeof price === 'number' ? `A$${price.toFixed(2)}` : price}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nconst NumberedCircle = ({ number }) => (\n  <View style={styles.numberedCircle}>\n    <Text style={styles.numberedCircleText}>{number}</Text>\n  </View>\n);\n\nconst TotalPriceDisplay = ({ total }) => (\n  <View style={styles.totalPriceContainer}>\n    <View style={styles.totalPriceLabelItem}>\n      <Text style={styles.totalPriceLabelText}>TOTAL PRICE</Text>\n    </View>\n    <View style={styles.totalPriceValueContainer}>\n      <Text style={styles.totalPriceValueText}>\n        A${total ? total.toFixed(2) : '0.00'}\n      </Text>\n    </View>\n  </View>\n);\n\nconst ShippingCostNotice = () => (\n  <View style={styles.shippingNoticeContainer}>\n    <Text style={styles.shippingNoticeText}>\n      *All our shipping costs are capped at A$ 12.85\n    </Text>\n  </View>\n);\n\n// Helper Functions\nconst cleanPriceString = (priceStr) => {\n  if (!priceStr) return 0;\n  return parseFloat(priceStr.replace(/\\s+/g, '').split('/')[0]);\n};\n\n// Main Component\nconst OrderConfirmationScreen1 = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [isSelected, setIsSelected] = React.useState(false);\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n\n  const { \n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice,\n    isDevMode: devModeActive,\n    selectedProtection,\n    selectedPressure,\n    selectedMethod,\n    selectedService,\n    basePrice,\n    hoseProtectionPrice,\n    pressureTestPrice,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    isOrderFittingMode\n  } = route.params || {};\n\n  // Helper function for getting total length\n  const getTotalLength = () => {\n    if (!cutLengths) return 0;\n    return cutLengths.reduce((total, cut) => {\n      if (!cut.length) return total;\n      return total + (parseFloat(cut.length) / 1000); // Convert mm to meters\n    }, 0);\n  };\n\n  useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start();\n  }, []);\n\n  useFocusEffect(\n    React.useCallback(() => {\n      setIsSelected(null);\n      fadeAnim.setValue(0);\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start();\n    }, [fadeAnim])\n  );\n\n  const orderDetails = {\n    hoseSize: selectedHose ? selectedHose.size : null,\n    end1: end1Shape && end1Size ? { type: end1Shape, size: end1Size } : null,\n    end2: end2Shape && end2Size ? { \n      type: end2Shape, \n      size: end2Size,\n    } : null,\n    angle: selectedAngle || null,\n    qty: quantity || null,\n    cutLengths: cutLengths && cutLengths.length > 0 ? cutLengths : null,\n    hoseProtection: selectedProtection || null,\n    pressureTest: selectedPressure || null,\n    shippingMethod: selectedMethod || null,\n    shippingService: selectedService || null\n  };\n\n  // Calculate total price components\n  const calculatePrices = () => {\n    const totalLength = getTotalLength();\n    const baseHosePrice = totalLength * cleanPriceString(selectedHosePrice);\n    const protectionAmount = selectedProtection === 'NOT REQUIRED' ? 0 : protectionCost;\n    \n    // Get end fitting prices and pressure test price\n    const end1Cost = typeof end1Price === 'number' ? end1Price : parseFloat(end1Price) || 0;\n    const end2Cost = typeof end2Price === 'number' ? end2Price : parseFloat(end2Price) || 0;\n    const pressureTestCost = selectedPressure === 'Not Required' ? 0 : pressureTestPrice || 0;\n    \n    // Set shipping cost to zero\n    const finalShippingCost = 0;\n    \n    // Calculate total with all components\n    const total = baseHosePrice + end1Cost + end2Cost + protectionAmount + pressureTestCost + finalShippingCost;\n  \n    return {\n      baseHosePrice,\n      protectionAmount,\n      finalShippingCost,\n      total\n    };\n  };\n\n  const renderPriceSummary = () => {\n    return (\n      <View style={styles.priceSummaryContainer}>\n        {/* Empty container kept for potential future use */}\n      </View>\n    );\n  };\n\n  const renderOrderDetails = () => {\n    // Let's modify how we get the details to control the order\n    // without losing the dynamic filtering\n    const details = [];\n    \n    // Add items in specific order, they'll only be added if they exist\n    if (orderDetails.hoseSize !== null) {\n      details.push(['hoseSize', orderDetails.hoseSize]);\n    }\n    \n    // Add qty next, right after hoseSize\n    if (orderDetails.qty !== null) {\n      details.push(['qty', orderDetails.qty]);\n    }\n    \n    // Then add the rest of the items in their original order\n    Object.entries(orderDetails).forEach(([key, value]) => {\n      // Skip hoseSize and qty as we've already added them\n      if (key !== 'hoseSize' && key !== 'qty' && value !== null) {\n        details.push([key, value]);\n      }\n    });\n    \n    // Now render the details as before\n    return details.map(([key, value], index) => {\n      let label, content, price;\n\n      switch (key) {\n        case 'hoseSize':\n          label = 'HOSE SIZE';\n          content = value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n          case 'qty':\n            label = 'QTY';\n            content = value;\n            return (\n              <View key={index} style={styles.rowContainer}>\n                <LabelItem>{label}</LabelItem>\n                <BorderedItem>\n                  {content}\n                </BorderedItem>\n              </View>\n            );\n        \n        case 'end1':\n          label = isOrderFittingMode ? 'FITTING' : 'END1';\n          content = `${value.type} - ${value.size}`;\n          price = end1Price;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'end2':\n          label = 'END2';\n          content = `${value.type} - ${value.size}`;\n          price = end2Price;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'angle':\n          label = 'ANGLE';\n          content = value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'cutLengths':\n          const totalLength = getTotalLength();\n          const cutLengthPrice = totalLength * cleanPriceString(selectedHosePrice);\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>CUT LENGTHS</LabelItem>\n              <BorderedItem \n                price={cutLengthPrice}\n                isCutLengths={true}\n                style={styles.cutLengthsContainer}\n              >\n                <View>\n                  {value.map((cut, i) => (\n                    <View key={i} style={styles.cutLengthRow}>\n                      <NumberedCircle number={i + 1} />\n                      <Text style={styles.cutLengthText}>{`${cut.length} ${cut.unit}`}</Text>\n                    </View>\n                  ))}\n                </View>\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'hoseProtection':\n          label = 'HOSE PROTECTION';\n          content = value;\n          price = value === 'NOT REQUIRED' ? 'NOT REQUIRED' : protectionCost;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'pressureTest':\n          label = 'PRESSURE TEST';\n          content = value;\n          price = value === 'Not Required' ? 'NOT REQUIRED' : pressureTestPrice;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'shippingService':\n          if (!value) return null;\n          label = 'SHIPPING SERVICE';\n          content = value;\n          price = shippingCost > 0 ? shippingCost : 'FREE';\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        default:\n          label = key.toUpperCase().replace('_', ' ');\n          content = typeof value === 'object' ? \n            `${value.type} - ${value.size}` : value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n      }\n    });\n  };\n  \n  const handleShippingDetails = () => {\n    setIsSelected(true);\n    Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start(() => {\n      navigation.navigate('ShippingDetails', {\n        selectedHose,\n        selectedHosePrice,\n        selectedFitting,\n        end1Shape,\n        end1Size,\n        end1Price,\n        selectedEnd2Fitting,\n        end2Shape,\n        end2Size,\n        end2Price,\n        selectedAngle,\n        quantity,\n        cutLengths,\n        isDevMode: devModeActive,\n        cutLengthPrice,isOrderFittingMode,\n        selectedProtection,\n        selectedPressure,\n        selectedMethod,\n        selectedService,\n        basePrice,\n        hoseProtectionPrice,\n        pressureTestPrice,\n        protectionCost,\n        shippingCost: 12.85,\n        selectedMethod: 'Standard',\n        selectedService: 'Standard Shipping',\n        totalBeforeShipping,\n        totalPriceWithShipping: calculatePrices().total,\n      });\n    });\n  };\n\n  const calculatedPrices = calculatePrices();\nconst displayTotalPrice = isOrderFittingMode ? cutLengthPrice : calculatedPrices.total;\n\n  return (\n    <SafeAreaView style={styles.mainContainer}>\n      {/* Floating Back Button */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n      </TouchableOpacity>\n\n      <View style={styles.mainContentContainer}>\n        <ScrollableGradientWrapper>\n          <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.scrollContent}>\n              <View style={styles.logoContainer}>\n                <Image\n                  source={require('../assets/fluidpower_logo.gif')}\n                  style={styles.logo}\n                  resizeMode=\"contain\"\n                />\n              </View>\n              <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n                <View style={styles.titleContainer}>\n                  <Text style={styles.titleText}>ORDER Summary</Text>\n                </View>\n                <View style={styles.orderDetailsContainer}>\n                  {renderOrderDetails()}\n                </View>\n                {renderPriceSummary()}\n                <TotalPriceDisplay total={displayTotalPrice} />\n                  <ShippingCostNotice />\n                  <TouchableOpacity \n                    style={[styles.confirmButton, isSelected && { backgroundColor: '#ffc100' }]} \n                    onPress={handleShippingDetails}\n                  >\n                    <Text style={styles.confirmButtonText}>SHIPPING Details</Text>\n                  </TouchableOpacity>\n              </Animated.View>\n            </ScrollView>\n          </View>\n        </ScrollableGradientWrapper>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContentContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingBottom: 20,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n    marginBottom: 15,\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  animatedContainer: {\n    width: '100%',\n    alignItems: 'center',\n  },\n  titleContainer: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    marginVertical: 20,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  orderDetailsContainer: {\n    width: '95%',\n    maxWidth: 800,\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemContent: {\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  itemImage: {\n    width: 40,\n    height: 40,\n    marginLeft: 10,\n  },\n  cutLengthsContainer: {\n    //minHeight: 150,\n  },\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginLeft: 10,\n  },\n  cutLengthsLayout: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  cutLengthsContent: {\n    flex: 1,\n    paddingRight: 10,\n  },\n  cutLengthsPriceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    alignSelf: 'center',\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  priceSummaryContainer: {\n    width: '95%',\n    maxWidth: 800,\n    marginTop: 20,\n  },\n  priceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  totalPriceBorder: {\n    backgroundColor: '#ffc100',\n  },\n  totalPriceContainer: {\n    width: '95%',\n    maxWidth: 800,\n    marginVertical: 20,\n    alignItems: 'center',\n  },\n  totalPriceLabelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    marginBottom: 10,\n  },\n  totalPriceLabelText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  totalPriceValueContainer: {\n    width: 200,\n    height: 200,\n    borderRadius: 25,\n    backgroundColor: '#ffc100',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  totalPriceValueText: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  confirmButton: {\n    backgroundColor: 'transparent',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    marginVertical: 20,\n    alignSelf: 'center',\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  confirmButtonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  shippingNoticeContainer: {\n    width: '95%',\n    maxWidth: 800,\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  shippingNoticeText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    fontStyle: 'italic',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n});\n\nexport default OrderConfirmationScreen1;","import React, { useState, useRef } from 'react';\nimport { View, Text, StyleSheet, SafeAreaView, Image, Dimensions, Platform, TextInput, ScrollView, Animated, TouchableOpacity } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport { Picker } from '@react-native-picker/picker';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\nconst STATES = ['Select State', 'ACT', 'NSW', 'NT', 'QLD', 'SA', 'TAS', 'VIC', 'WA'];\n\nconst ShippingDetailsScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const buttonRef = React.useRef(null);\n  const [isSelected, setIsSelected] = React.useState(false);\n  const [hadTenDigits, setHadTenDigits] = useState(false);\n  const [formSubmitAttempted, setFormSubmitAttempted] = useState(false);\n\n  const isIOSBrowser = () => {\n    return (\n      Platform.OS === 'ios' ||\n      (Platform.OS === 'web' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)\n    );\n  };\n\n  const { \n    selectedHose,\n        selectedHosePrice,\n        selectedFitting,\n        end1Shape,\n        end1Size,\n        end1Price,\n        selectedEnd2Fitting,\n        end2Shape,\n        end2Size,\n        end2Price,\n        selectedAngle,\n        quantity,\n        cutLengths,\n        isDevMode: devModeActive,\n        cutLengthPrice, isOrderFittingMode,\n        selectedProtection,\n        selectedPressure,\n        selectedMethod,\n        selectedService,\n        basePrice,\n        hoseProtectionPrice,\n        pressureTestPrice,\n        protectionCost,\n        shippingCost,\n        totalBeforeShipping,\n        totalPriceWithShipping\n  } = route.params || {};\n  \n  // State for form fields\n  const [formFields, setFormFields] = useState({\n    name: '',\n    companyName: '',\n    address: '',\n    suburb: '',\n    state: 'Select State', // Default state selection\n    postcode: '',\n    email: '',\n    contactNumber: ''\n  });\n\n  const [touchedFields, setTouchedFields] = useState({\n    name: false,\n    companyName: false,\n    address: false,\n    suburb: false,\n    state: false,\n    postcode: false,\n    email: false,\n    contactNumber: false\n  })\n  \n  const [errors, setErrors] = useState({\n    name: '',\n    companyName: '',\n    address: '',\n    suburb: '',\n    state: '',\n    postcode: '',\n    email: '',\n    contactNumber: ''\n  });\n\n  const [allFieldsFilled, setAllFieldsFilled] = useState(false);\n  const inputRefs = useRef([]);\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n\n  // Initial fade-in animation\n  React.useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start();\n  }, []);\n\n  // Screen focus animation and cleanup\n  useFocusEffect(\n    React.useCallback(() => {\n      fadeAnim.setValue(0);\n      setIsSelected(false);\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start();\n\n      return () => {\n        // Cleanup if needed\n      };\n    }, [fadeAnim])\n  );\n\n  React.useEffect(() => {\n    // Small delay to ensure the input is mounted\n    const timer = setTimeout(() => {\n      if (inputRefs.current[0]) {\n        inputRefs.current[0].focus();\n      }\n    }, 100);\n  \n    return () => clearTimeout(timer);\n  }, []);\n\n  {/*\n  // Check if all required fields are filled\n  React.useEffect(() => {\n    const requiredFields = {\n      name: formFields.name,\n      address: formFields.address,\n      suburb: formFields.suburb,\n      state: formFields.state !== 'Select State' ? formFields.state : '',\n      postcode: formFields.postcode,\n      email: formFields.email,\n      //contactNumber: formFields.contactNumber \n    };\n\n    const isFilled = Object.entries(requiredFields).every(([key, value]) => value.trim() !== '');\n\n    const isContactNumberValid = \n    formFields.contactNumber.length === 10 && \n    /^\\d{10}$/.test(formFields.contactNumber);\n  \n    const hasNoErrors = Object.values(errors).every(error => error === '');\n    \n    setAllFieldsFilled(isFilled && hasNoErrors && isContactNumberValid);\n  }, [formFields, errors]);\n*/}\n\n  const validateField = (name, value) => {\n    let error = '';\n    \n    switch (name) {\n      case 'name':\n      case 'address':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        }\n        break;\n\n      case 'suburb':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else if (!/^[a-zA-Z\\s]+$/.test(value)) {\n          error = 'Please enter letters only';\n        }\n        break;\n\n      case 'state':\n        if (value === 'Select State') {\n          error = 'Please select a state';\n        }\n        break;\n\n      case 'postcode':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else if (!/^\\d{4}$/.test(value)) {\n          error = 'Please enter 4 digits';\n        }\n        break;\n\n      case 'email':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else {\n          const emailRegex = /^[a-zA-Z0-9._]+@[a-zA-Z]{2,}\\.[a-zA-Z]{2,}(\\.[a-zA-Z]{2,})*$/;\n          if (!emailRegex.test(value)) {\n            error = 'Please enter a valid email address';\n          }\n        }\n        break;\n\n      case 'contactNumber':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else if (!/^\\d{10}$/.test(value)) {\n          error = 'Contact number must be 10 digits';\n        }\n        break;\n    }\n    \n    return error;\n  };\n\n  const updateField = (name, value) => {\n    setFormFields(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Only show errors if form submission was attempted\n    if (formSubmitAttempted) {\n      const error = validateField(name, value);\n      setErrors(prev => ({\n        ...prev,\n        [name]: error\n      }));\n    }\n  };\n\n  const handleNext = () => {\n    setFormSubmitAttempted(true);\n    \n    // Validate all required fields using our new helper function\n    const newErrors = {};\n    let hasErrors = false;\n    \n    Object.entries(formFields).forEach(([fieldName, value]) => {\n      if (fieldName !== 'companyName') { // Skip optional fields\n        const error = validateField(fieldName, value);\n        newErrors[fieldName] = error;\n        if (error) hasErrors = true;\n      }\n    });\n    \n    setErrors(newErrors);\n  \n    if (!hasErrors) {\n      setIsSelected(true);\n      // Start the fade out animation\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start(() => {\n        // Navigate after animation completes\n        navigation.navigate('Payment', {\n          // Previous parameters from route\n          selectedHose,\n          selectedHosePrice,\n          selectedFitting,\n          end1Shape,\n          end1Size,\n          end1Price,\n          selectedEnd2Fitting,\n          end2Shape,\n          end2Size,\n          end2Price,\n          selectedAngle,\n          quantity,\n          cutLengths,\n          isDevMode: devModeActive,\n          cutLengthPrice, isOrderFittingMode,\n          selectedProtection,\n          hoseProtectionPrice,\n          selectedPressure,\n          pressureTestPrice,\n          selectedMethod,\n          selectedService,\n          basePrice,\n          shippingCost,\n          totalBeforeShipping,\n          totalPriceWithShipping,\n          protectionCost,\n          shippingDetails: formFields,\n        });\n      });\n    }\n  };\n      \n\nconst handleInputSubmit = (index) => {\n  const currentFieldName = Object.keys(formFields)[index];\n  \n  // Show required field error immediately when skipping\n  setTouchedFields(prev => ({\n    ...prev,\n    [currentFieldName]: true\n  }));\n\n  const currentValue = formFields[currentFieldName];\n  const error = validateField(currentFieldName, currentValue, true);\n  setErrors(prev => ({\n    ...prev,\n    [currentFieldName]: error\n  }));\n\n  // iOS platform check - don't auto-advance focus on iOS\n  if (Platform.OS !== 'ios' && index < 6) {\n    inputRefs.current[index + 1].focus();\n  }\n};\n    \nconst handleInputBlur = (name) => {\n  setTouchedFields(prev => ({\n    ...prev,\n    [name]: true\n  }));\n  \n  // Always validate on blur for iOS\n  const error = validateField(name, formFields[name]);\n  setErrors(prev => ({\n    ...prev,\n    [name]: error\n  }));\n  \n  // If on iOS and this was a successful submission of a field,\n  // check if we should validate all fields\n  if (Platform.OS === 'ios' && formSubmitAttempted) {\n    validateAllFields();\n  }\n};\n\n// Helper function to validate all fields\nconst validateAllFields = () => {\n  const newErrors = {};\n  let hasErrors = false;\n  \n  Object.entries(formFields).forEach(([fieldName, value]) => {\n    if (fieldName !== 'companyName') { // Skip optional fields\n      const error = validateField(fieldName, value);\n      newErrors[fieldName] = error;\n      if (error) hasErrors = true;\n    }\n  });\n  \n  setErrors(newErrors);\n  return !hasErrors;\n};\n\nconst renderInputField = (label, name, index, keyboardType = 'default', isOptional = false, additionalProps = {}) => {\n  // Determine the appropriate input mode based on field type\n  let inputModeValue;\n  switch (name) {\n    case 'postcode':\n    case 'contactNumber':\n      inputModeValue = 'numeric';\n      break;\n    case 'email':\n      inputModeValue = 'email';\n      break;\n    default:\n      inputModeValue = 'text';\n  }\n\n  return (\n    <View key={name} style={styles.inputRow}>\n      <View style={styles.labelContainer}>\n        <Text style={styles.labelText}>\n          {label}{!isOptional && <Text style={styles.asterisk}>*</Text>}{isOptional ? ' (Optional)' : ''}\n        </Text>\n      </View>\n      <View style={styles.inputContainer}>\n        <TextInput\n          ref={el => inputRefs.current[index] = el}\n          style={[\n            styles.input,\n            formSubmitAttempted && errors[name] ? styles.inputError : null\n          ]}\n          value={formFields[name]}\n          onChangeText={(text) => updateField(name, text)}\n          onSubmitEditing={() => handleInputSubmit(index)}\n          onEndEditing={() => Platform.OS === 'ios' ? handleInputBlur(name) : null} // Handle iOS \"Done\" button\n          onBlur={() => {\n            handleInputBlur(name);\n            // On iOS browsers, we may want to validate the entire form\n            if (isIOSBrowser() && formSubmitAttempted) {\n              validateAllFields();\n            }\n          }}\n          keyboardType={keyboardType}\n          returnKeyType={index === 6 ? \"done\" : \"next\"}  // Last field shows \"done\", others show \"next\"\n          enterKeyHint={index === 6 ? \"done\" : \"next\"}   // HTML equivalent for web views\n          inputMode={inputModeValue}\n          autoComplete=\"off\"\n          blurOnSubmit={Platform.OS === 'ios' || index === 6}   // Allow keyboard to dismiss on iOS or last field\n          maxLength={name === 'postcode' ? 4 : (name === 'contactNumber' ? 10 : additionalProps?.maxLength)}\n          placeholder={additionalProps?.placeholder}\n          {...additionalProps}\n        />\n      </View>\n      {formSubmitAttempted && errors[name] ? \n        <Text style={styles.errorText}>{errors[name]}</Text> : null}\n    </View>\n  );\n};\n\n    return (\n      <View style={styles.mainContainer}>\n        {/* Floating Back Button */}\n        <TouchableOpacity \n          style={styles.floatingBackButton}\n          onPress={() => navigation.goBack()}\n        >\n          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n            <Path \n              d=\"M19 12H5M12 19L5 12L12 5\" \n              stroke=\"#4a4a4a\" \n              strokeWidth=\"2.5\" \n              strokeLinecap=\"round\" \n              strokeLinejoin=\"round\"\n            />\n          </Svg>\n        </TouchableOpacity>\n    \n        <ScrollableGradientWrapper>\n          <SafeAreaView style={styles.container}>\n            <View style={styles.logoContainer}>\n              <Image\n                source={require('../assets/fluidpower_logo.gif')}\n                style={styles.logo}\n                resizeMode=\"contain\"\n              />\n            </View>\n            \n            <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\n              <ScrollView \n                style={styles.mainScrollView}\n                contentContainerStyle={styles.mainScrollViewContent}\n                showsVerticalScrollIndicator={true}\n              >\n                <View style={styles.titleContainer}>\n                  <Text style={styles.titleText}>Shipping Details</Text>\n                </View>\n                <Text style={styles.requiredFieldsText}>Fields marked with * are required</Text>\n            \n            <View style={styles.formContainer}>\n              {renderInputField('Name', 'name', 0)}\n              {renderInputField('Company Name', 'companyName', 1, 'default', true)}\n              {renderInputField('Address', 'address', 2)}\n              {renderInputField('Suburb', 'suburb', 3)}\n      \n              {/* State Picker */}\n              <View style={styles.inputRow}>\n                <View style={styles.labelContainer}>\n                  <Text style={styles.labelText}>\n                    State<Text style={styles.asterisk}>*</Text>\n                  </Text>\n                </View>\n                <View style={styles.pickerContainer}>\n                  <Picker\n                    selectedValue={formFields.state}\n                    onValueChange={(itemValue) => {\n                      updateField('state', itemValue);\n                      if (Platform.OS === 'ios') {\n                        // On iOS, immediately validate after selection\n                        const error = validateField('state', itemValue);\n                        setErrors(prev => ({\n                          ...prev,\n                          state: error\n                        }));\n                        setTouchedFields(prev => ({\n                          ...prev,\n                          state: true\n                        }));\n                      }\n                    }}\n                    style={styles.picker}\n                    itemStyle={{ fontSize: 20, fontWeight: 'bold' }}\n                  >\n                    {STATES.map((state) => (\n                      <Picker.Item \n                        key={state} \n                        label={state} \n                        value={state}\n                        style={{ fontSize: 20, fontWeight: 'bold' }}\n                      />\n                    ))}\n                  </Picker>\n                </View>\n                {formSubmitAttempted && errors.state ? \n                  <Text style={styles.errorText}>{errors.state}</Text> : null}\n              </View>\n              \n              {renderInputField('Postcode', 'postcode', 4, 'numeric')}\n              {renderInputField('Email', 'email', 5, 'email-address')}\n              {renderInputField('Contact Number', 'contactNumber', 6, 'numeric', false, { maxLength: 10 })}\n              \n              {/* Proceed to Payment Button - Always visible */}\n              <TouchableOpacity \n                style={[\n                  styles.proceedButton,\n                  { backgroundColor: isSelected ? '#ffc100' : 'transparent' },\n                  { borderColor: '#4a4a4a' }\n                ]}\n                onPress={handleNext}\n                activeOpacity={0.8}\n              >\n                <Text style={styles.proceedButtonText}>Proceed to Payment</Text>\n              </TouchableOpacity>\n              </View>\n          </ScrollView>\n        </Animated.View>\n      </SafeAreaView>\n    </ScrollableGradientWrapper>\n  </View>\n)\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  mainScrollView: {\n    flex: 1,\n  },\n  mainScrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: 20,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 10,\n    paddingBottom: 20,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',  // This ensures horizontal centering\n    paddingHorizontal: 20, // Add horizontal padding\n    width: '100%',        // Ensure full width\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginTop: 15,\n    marginBottom: 20,\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,  // Increased padding\n    alignSelf: 'center',\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  requiredFieldsText: {\n    color: 'red',\n    fontSize: 16,\n    marginTop: 5,\n    marginBottom: 15,\n    alignItems: 'center', // Center the form elements\n    alignSelf: 'center',\n  },\n  asterisk: {\n    color: 'red',\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  formContainer: {\n    width: '100%',\n    maxWidth: 400,       // Maximum width for the form\n    alignItems: 'center', // Center the form elements\n    alignSelf: 'center',  // Center the container itself\n  },\n  inputRow: {\n    marginBottom: 20,\n    width: '100%',   \n  },\n  labelContainer: {\n    marginBottom: 5,\n  },\n  labelText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  input: {\n    width: '100%',      // Ensure full width\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'left',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 10,\n    height: 40,\n    paddingHorizontal: 10,\n  },\n  pickerContainer: {\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 10,\n    overflow: 'hidden',\n    width: '100%', \n  },\n  picker: {\n    height: 40,\n    backgroundColor: 'transparent',\n  },\n  inputError: {\n    borderColor: 'red',\n  },\n  errorText: {\n    color: 'red',\n    fontSize: 14,\n    marginTop: 5,\n  },\n  proceedButton: {\n    marginTop: 30,\n    marginBottom: 20,\n    paddingVertical: 12,\n    paddingHorizontal: 20,\n    borderRadius: 25,\n    borderWidth: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center',\n    minWidth: 200,\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n},\nproceedButtonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n},\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n    backgroundColor: 'transparent',\n  },\n  footerLeft: {\n    flex: 1,\n  },\n  footerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  footerRight: {\n    flex: 1,\n    alignItems: 'flex-end',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n});\n\nexport default ShippingDetailsScreen;","// PayPalWeb.js\nimport React from 'react';\n\nconst PayPalWeb = ({ visible, paypalUrl, onNavigationStateChange, onRequestClose }) => {\n  const paypalWindowRef = React.useRef(null);\n  const checkIntervalRef = React.useRef(null);\n  const hasOpenedWindow = React.useRef(false);\n\n  React.useEffect(() => {\n    // Only open the window if it hasn't been opened yet for this payment attempt\n    if (visible && paypalUrl && !hasOpenedWindow.current) {\n      hasOpenedWindow.current = true;\n      \n      // Open PayPal in new window\n      paypalWindowRef.current = window.open(paypalUrl, '_blank');\n\n      checkIntervalRef.current = setInterval(() => {\n        try {\n          if (paypalWindowRef.current?.closed) {\n            cleanupAndClose();\n          } else if (paypalWindowRef.current?.location?.href) {\n            const currentUrl = paypalWindowRef.current.location.href;\n            \n            if (currentUrl.includes('payment_success')) {\n              handleSuccess();\n            } else if (currentUrl.includes('payment_cancel')) {\n              handleCancel();\n            }\n          }\n        } catch (e) {\n          // Cross-origin errors are expected\n        }\n      }, 1000);\n    }\n\n    return () => cleanupAndClose();\n  }, [visible, paypalUrl]);\n\n  const handleSuccess = () => {\n    if (checkIntervalRef.current) {\n      clearInterval(checkIntervalRef.current);\n      checkIntervalRef.current = null;\n    }\n    \n    setTimeout(() => {\n      if (paypalWindowRef.current) {\n        paypalWindowRef.current.close();\n        paypalWindowRef.current = null;\n      }\n      hasOpenedWindow.current = false;\n      onNavigationStateChange({ url: 'payment_success' });\n    }, 2000);\n  };\n\n  const handleCancel = () => {\n    cleanupAndClose();\n    onNavigationStateChange({ url: 'payment_cancel' });\n  };\n\n  const cleanupAndClose = () => {\n    if (checkIntervalRef.current) {\n      clearInterval(checkIntervalRef.current);\n      checkIntervalRef.current = null;\n    }\n    \n    if (paypalWindowRef.current && !paypalWindowRef.current.closed) {\n      paypalWindowRef.current.close();\n      paypalWindowRef.current = null;\n    }\n    \n    hasOpenedWindow.current = false;\n  };\n\n  return null;\n};\n\nexport default PayPalWeb;","import React from 'react';\nimport { StyleSheet, Modal, SafeAreaView } from 'react-native';\nimport { WebView } from 'react-native-webview';\n\nconst PayPalNative = ({ visible, paypalUrl, onNavigationStateChange, onRequestClose }) => {\n  if (!visible || !paypalUrl) return null;\n\n  return (\n    <Modal\n      visible={visible}\n      onRequestClose={onRequestClose}\n      animationType=\"slide\"\n      presentationStyle=\"fullScreen\"\n    >\n      <SafeAreaView style={styles.container}>\n        <WebView\n          source={{ uri: paypalUrl }}\n          style={styles.webView}\n          onNavigationStateChange={onNavigationStateChange}\n          javaScriptEnabled={true}\n          domStorageEnabled={true}\n          startInLoadingState={true}\n          incognito={true}\n        />\n      </SafeAreaView>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  webView: {\n    flex: 1,\n  },\n});\n\nexport default PayPalNative;","import { Platform } from 'react-native';\nimport PayPalWeb from './PayPalWeb';\nimport PayPalNative from './PayPalNative';\n\n// Export the appropriate component based on platform\nexport default Platform.select({\n  web: PayPalWeb,\n  default: PayPalNative,\n});","const getEnvironmentConfig = async () => {\n  try {\n    if (typeof window !== 'undefined') {\n      const API_BASE_URL = process.env.REACT_APP_API_URL;\n      const response = await fetch(`${API_BASE_URL}/api/get-paypal-config`, {\n        headers: {\n          'x-server-key': process.env.REACT_APP_SERVER_KEY,\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch PayPal config: ${response.status}');\n      }\n\n      return await response.json();\n    }\n\n    return {\n      environment: process.env.EXPO_PUBLIC_PAYPAL_ENVIRONMENT || 'sandbox',\n      sandboxEmail: process.env.EXPO_PUBLIC_PAYPAL_SANDBOX_EMAIL,\n      productionEmail: process.env.EXPO_PUBLIC_PAYPAL_PRODUCTION_EMAIL\n    };\n  } catch (error) {\n    console.error('Error fetching PayPal config:', error);\n    return {\n      environment: 'sandbox',\n      sandboxEmail: process.env.EXPO_PUBLIC_PAYPAL_SANDBOX_EMAIL,\n      productionEmail: process.env.EXPO_PUBLIC_PAYPAL_PRODUCTION_EMAIL\n    };\n  }\n};\n\nconst PAYPAL_CONFIG = {\n  IS_SANDBOX: true,\n  MERCHANT_EMAIL: {\n    SANDBOX: '',\n    PRODUCTION: ''\n  },\n  BASE_URLS: {\n    SANDBOX: 'https://www.sandbox.paypal.com/cgi-bin/webscr',\n    PRODUCTION: 'https://www.paypal.com/cgi-bin/webscr'\n  }\n};\n\nexport const getPayPalConfig = async () => {\n  try {\n    const envConfig = await getEnvironmentConfig();\n\n    PAYPAL_CONFIG.IS_SANDBOX = envConfig.environment === 'sandbox';\n    PAYPAL_CONFIG.MERCHANT_EMAIL.SANDBOX = envConfig.sandboxEmail;\n    PAYPAL_CONFIG.MERCHANT_EMAIL.PRODUCTION = envConfig.productionEmail;\n\n    const mode = PAYPAL_CONFIG.IS_SANDBOX ? 'SANDBOX' : 'PRODUCTION';\n\n    return {\n      isSandbox: PAYPAL_CONFIG.IS_SANDBOX,\n      merchantEmail: PAYPAL_CONFIG.MERCHANT_EMAIL[mode],\n      baseUrl: PAYPAL_CONFIG.BASE_URLS[mode]\n    };\n  } catch (error) {\n    console.error('Error in getPayPalConfig:', error);\n    throw error;\n  }\n};","import React, { useState, useRef, useEffect } from 'react';\nimport { \n  View, Text, StyleSheet, SafeAreaView, Image, ScrollView, \n  Animated, TouchableOpacity, Dimensions, Platform, ActivityIndicator, Alert\n} from 'react-native';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport PayPalWebView from '../components/PayPal/PayPalWebView';\nimport { getPayPalConfig } from '../components/PayPal/paypalConfig';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\nconst PaymentScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [isLoading, setIsLoading] = useState(false);\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const [showPayPalModal, setShowPayPalModal] = useState(false);\n  const [paypalUrl, setPaypalUrl] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  \n  // Get all parameters from the route\n  const { \n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice,\n    isDevMode: devModeActive,\n    isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod = 'Standard',\n    selectedService = 'Standard Shipping',\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    shippingDetails\n  } = route.params || {};\n\n  // Add the cleanPriceString helper function\n  const cleanPriceString = (priceStr) => {\n    if (!priceStr) return 0;\n    return parseFloat(priceStr.replace(/\\s+/g, '').split('/')[0]);\n  };\n\n// Revised calculation function that preserves fittings only mode\n  const calculateTotalBeforeShipping = () => {\n    // If we're in isOrderFittingMode, don't recalculate - use the cutLengthPrice directly\n    if (isOrderFittingMode) {\n      return cutLengthPrice || 0;\n    }\n  \n  // For normal hose orders, use the same approach as in OrderConfirmation1\n  // Get end fitting prices\n  const end1Cost = typeof end1Price === 'number' ? end1Price : parseFloat(end1Price) || 0;\n  const end2Cost = typeof end2Price === 'number' ? end2Price : parseFloat(end2Price) || 0;\n  \n  // Get base hose price from cut lengths\n  let cutLengthCost = 0;\n  if (cutLengths && cutLengths.length > 0) {\n    const totalLength = cutLengths.reduce((total, cut) => {\n      if (!cut.length) return total;\n      return total + (parseFloat(cut.length) / 1000); // Convert mm to meters\n    }, 0);\n    \n    cutLengthCost = totalLength * cleanPriceString(selectedHosePrice);\n  } else {\n    cutLengthCost = cutLengthPrice || 0;\n  }\n  \n  // Get protection cost\n  const protectionAmount = selectedProtection === 'NOT REQUIRED' ? 0 : (protectionCost || 0);\n  \n  // Get pressure test cost\n  const pressureTestAmount = selectedPressure === 'Not Required' ? 0 : (pressureTestPrice || 0);\n  \n  // Sum all components\n  return end1Cost + end2Cost + cutLengthCost + protectionAmount + pressureTestAmount;\n};\n\n// First, try to use the passed values directly for consistency between screens\nconst calculatedSubtotal = calculateTotalBeforeShipping();\n\n// Use the same approach as OrderConfirmation1\nconst subtotal = isOrderFittingMode ? \n  cutLengthPrice : \n  (totalPriceWithShipping || calculatedSubtotal);\n\nconst shippingAmount = devModeActive ? 0 : 12.85;\nconst total = subtotal + shippingAmount;\nconst gst = total * 0.10;\nconst finalTotal = devModeActive ? 0.2 : total + gst;\n\n  // Initial fade-in animation\n  useEffect(() => { \n    const animation = Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    });\n    \n    animation.start();\n  \n    return () => {\n      animation.stop();\n      fadeAnim.setValue(0);\n    };\n  }, []);\n\n  const handlePayPalPress = async () => {\n    if (isProcessing) return;\n    \n    try {\n      setIsProcessing(true);\n      console.log(\"Starting PayPal process...\");\n      \n      const config = await getPayPalConfig();\n      \n      if (!config.merchantEmail) {\n        console.error('PayPal merchant email not configured');\n        setIsProcessing(false);\n        return;\n      }\n      \n      let description = 'Custom Hydraulic';\n      if (selectedHose) {\n        description += ` Hose - ${typeof selectedHose === 'object' ? selectedHose.name || 'Custom Hose' : selectedHose}`;\n      }\n      if (selectedFitting) {\n        description += ` with ${typeof selectedFitting === 'object' ? selectedFitting.name || 'Custom Fitting' : selectedFitting}`;\n      }\n  \n      const { baseUrl, merchantEmail } = config;\n  \n      // Build return URLs based on platform type\n      let successUrl, cancelUrl;\n      \n      if (Platform.OS === 'web') {\n        // Use simple and direct redirect URLs that point to our dedicated page\n        const origin = window.location.origin;\n        successUrl = `${origin}/paypal-redirect.html?success=true`; \n        cancelUrl = `${origin}/paypal-redirect.html?success=false`;\n        \n        console.log('PayPal success URL:', successUrl);\n        console.log('PayPal cancel URL:', cancelUrl);\n        \n        // IMPORTANT: Store the order details in sessionStorage\n        // Make sure we have comprehensive order details\n        const orderDetails = {\n          ...route.params,\n          userDetails: shippingDetails,\n          paymentId: Date.now().toString(),\n          amount: finalTotal.toFixed(2),\n          // Add extra verification data\n          timestamp: new Date().toISOString(),\n          checksum: 'order_' + Math.random().toString(36).substring(2)\n        };\n        \n        // Log data size to verify it's substantial\n        console.log('Storing order data:', JSON.stringify(orderDetails).length, 'bytes');\n        \n        try {\n          // Clear any existing data first\n          window.sessionStorage.removeItem('pendingOrderData');\n          \n          // Store new data\n          window.sessionStorage.setItem('pendingOrderData', JSON.stringify(orderDetails));\n          \n          // Verify data was stored\n          const stored = window.sessionStorage.getItem('pendingOrderData');\n          if (stored) {\n            console.log('Order data successfully stored in session');\n          } else {\n            console.error('Failed to verify stored data');\n          }\n        } catch (error) {\n          console.error('Error storing order data in sessionStorage:', error);\n        }\n      }\n  \n      const queryParams = new URLSearchParams({\n        cmd: '_xclick',\n        business: merchantEmail,\n        amount: finalTotal.toFixed(2),\n        currency_code: 'AUD',\n        item_name: description,\n        return: successUrl,\n        cancel_return: cancelUrl,\n        rm: '1'  // Keep using GET\n      }).toString();\n  \n      const paypalRedirectUrl = `${baseUrl}?${queryParams}`;\n      \n      if (!paypalRedirectUrl || !baseUrl || !merchantEmail) {\n        console.error('Invalid PayPal configuration:', { paypalRedirectUrl, baseUrl, merchantEmail });\n        setIsProcessing(false);\n        return;\n      }\n  \n      console.log('Redirecting to PayPal URL:', paypalRedirectUrl);\n      \n      // Choose navigation method based on platform\n      if (Platform.OS === 'web') {\n        // Direct browser redirect for web platform\n        window.location.href = paypalRedirectUrl;\n      } else {\n        // For native platforms, continue using WebView\n        setPaypalUrl(paypalRedirectUrl);\n        setShowPayPalModal(true);\n      }\n    } catch (error) {\n      console.error('Error in PayPal initialization:', error);\n      setIsProcessing(false);\n      Alert.alert(\n        'PayPal Error',\n        'Unable to initialize PayPal. Please try again later.'\n      );\n    }\n  };\n\n  const handleNavigationStateChange = (navState) => {\n    if (navState.url.includes('payment_success') || navState.url.includes('payment_cancel')) {\n      // Pass all route params along with payment details\n      const orderDetails = {\n        ...route.params,\n        userDetails: shippingDetails,\n        paymentId: Date.now().toString(),\n        amount: finalTotal.toFixed(2)\n      };\n\n      navigation.reset({\n        index: 0,\n        routes: [\n          {\n            name: 'OrderConfirmation',\n            params: {\n              success: navState.url.includes('payment_success'),\n            orderDetails: orderDetails, // Always pass orderDetails\n            error: navState.url.includes('payment_cancel') ? \n              'Payment was cancelled' : \n              'Payment processing failed'\n            }\n          }\n        ]\n      });\n      \n      setIsProcessing(false);\n      setShowPayPalModal(false);\n      setPaypalUrl('');\n    }\n  };\n\n  const renderShippingDetails = () => (\n    <View style={styles.shippingDetailsContainer}>\n      <View style={styles.sectionTitleContainer}>\n        <Text style={styles.sectionTitleText}>Shipping Details</Text>\n      </View>\n      \n      <View style={styles.detailsGrid}>\n        {shippingDetails?.name && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Name:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.name}</Text>\n          </View>\n        )}\n        \n        {shippingDetails?.companyName && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Company:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.companyName}</Text>\n          </View>\n        )}\n        \n        {shippingDetails?.address && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Address:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.address}</Text>\n          </View>\n        )}\n        \n        {shippingDetails?.suburb && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Suburb:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.suburb}</Text>\n          </View>\n        )}\n        \n        {shippingDetails?.state && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>State:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.state}</Text>\n          </View>\n        )}\n        \n        {shippingDetails?.postcode && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Postcode:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.postcode}</Text>\n          </View>\n        )}\n\n        {shippingDetails?.email && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Email:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.email}</Text>\n          </View>\n        )}\n        \n        {shippingDetails?.contactNumber && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Contact:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.contactNumber}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderPriceBreakdown = () => (\n    <View style={styles.priceBreakdownContainer}>\n      <View style={styles.sectionTitleContainer}>\n        <Text style={styles.sectionTitleText}>Price Breakdown</Text>\n      </View>\n      \n      <View style={styles.priceDetailsGrid}>\n        <View style={styles.priceRow}>\n          <Text style={styles.priceLabel}>Subtotal:</Text>\n          <Text style={styles.priceValue}>A${subtotal.toFixed(2)}</Text>\n        </View>\n\n        <View style={styles.priceRow}>\n          <Text style={styles.priceLabel}>Shipping Cost:</Text>\n          <Text style={styles.priceValue}>\n            {shippingAmount > 0 ? `A$${shippingAmount.toFixed(2)}` : 'FREE'}\n          </Text>\n        </View>\n        \n        <View style={styles.priceRow}>\n          <Text style={styles.priceLabel}>GST (10%):</Text>\n          <Text style={styles.priceValue}>A${gst.toFixed(2)}</Text>\n        </View>\n      </View>\n    </View>\n  );\n\n  return (\n    <View style={styles.mainContainer}>\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n      </TouchableOpacity>\n  \n      <ScrollableGradientWrapper>\n        <SafeAreaView style={styles.container}>\n          <View style={styles.logoContainer}>\n            <Image\n              source={require('../assets/fluidpower_logo.gif')}\n              style={styles.logo}\n              resizeMode=\"contain\"\n            />\n          </View>\n          \n          <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n            <ScrollView \n              contentContainerStyle={styles.scrollContent}\n              showsVerticalScrollIndicator={true}\n            >\n              <View style={styles.titleContainer}>\n                <Text style={styles.titleText}>Payment Details</Text>\n              </View>\n              \n              <View style={styles.formContainer}>\n                {renderShippingDetails()}\n                {renderPriceBreakdown()}\n  \n                <View style={styles.totalContainer}>\n                  <Text style={styles.totalText}>\n                  {devModeActive ? 'Dev Mode Amount: ' : 'Total Amount: '}A${finalTotal.toFixed(2)}\n                  </Text>\n                </View>\n  \n                <View style={styles.paypalContainer}>\n                <TouchableOpacity \n                    style={styles.paypalButton}\n                    onPress={handlePayPalPress}\n                  >\n                    <Text style={styles.paypalButtonText}>\n                      {getPayPalConfig().isSandbox ? '(Sandbox) Proceed to Payment' : 'Proceed to Secure Payment'}\n                    </Text>\n                  </TouchableOpacity>\n                  <Text style={styles.securePaymentText}>\n                    {getPayPalConfig().isSandbox \n                      ? 'Test Mode - No real payment will be processed'\n                      : 'You will be redirected to PayPal secure payment page, can pay using PayPal or Credit/Debit Card'}\n                  </Text>\n                </View>\n              </View>\n            </ScrollView>\n          </Animated.View>\n        </SafeAreaView>\n      </ScrollableGradientWrapper>\n  \n      <PayPalWebView\n        visible={showPayPalModal}\n        paypalUrl={paypalUrl}\n        onNavigationStateChange={handleNavigationStateChange}\n        onRequestClose={() => {\n          setShowPayPalModal(false);\n          setPaypalUrl('');\n          setIsProcessing(false);\n        }}\n      />\n  \n      {isProcessing && (\n        <View style={styles.loadingOverlay}>\n          <ActivityIndicator size=\"large\" color=\"#4a4a4a\" />\n          <Text style={styles.loadingText}>Processing your payment...</Text>\n        </View>\n      )}\n    </View>\n  );\n};\n\n    const styles = StyleSheet.create({\n        container: {\n          flex: 1,\n          backgroundColor: '#fff',\n        },\n        logoContainer: {\n          alignItems: 'center',\n          justifyContent: 'center',\n          marginVertical: 20,\n          width: '100%',\n        },\n        logo: {\n          width: '100%',\n          height: undefined,\n          aspectRatio: 2,\n          resizeMode: 'contain',\n          maxWidth: 400,\n        },\n        animatedContainer: {\n          flex: 1,\n        },\n        scrollContent: {\n          flexGrow: 1,\n          alignItems: 'center',\n          paddingBottom: 40,\n        },\n        titleContainer: {\n          alignItems: 'center',\n          marginTop: 15,\n          marginBottom: 20,\n          backgroundColor: '#4a4a4a',\n          borderRadius: 25,\n          paddingVertical: 15,\n          paddingHorizontal: 20,\n        },\n        titleText: {\n          fontSize: 24,\n          fontWeight: 'bold',\n          color: 'white',\n        },\n        formContainer: {\n          width: '100%',\n          maxWidth: 400,\n          paddingHorizontal: 20,\n          paddingBottom: 30,\n        },\n        totalContainer: {\n          backgroundColor: '#4a4a4a',\n          borderRadius: 25,\n          padding: 15,\n          marginBottom: 20,\n          alignItems: 'center',\n        },\n        totalText: {\n          fontSize: 24,\n          fontWeight: 'bold',\n          color: 'white',\n        },\n        paypalContainer: {\n          marginTop: 20,\n          alignItems: 'center',\n          width: '100%',\n        },\n        paypalButton: {\n          width: '100%',\n          height: 50,\n          backgroundColor: '#ffc439', // PayPal's brand color\n          borderRadius: 25,\n          justifyContent: 'center',\n          alignItems: 'center',\n          marginBottom: 10,\n        },\n        paypalButtonDisabled: {\n          opacity: 0.7,\n        },\n        paypalButtonText: {\n          fontSize: 18,\n          fontWeight: 'bold',\n          color: '#142C8E', // PayPal's brand blue color\n        },\n        securePaymentText: {\n          marginTop: 10,\n          fontSize: 14,\n          color: '#666',\n          textAlign: 'center',\n        },\n        shippingDetailsContainer: {\n          backgroundColor: '#f5f5f5',\n          borderRadius: 15,\n          padding: 15,\n          marginBottom: 20,\n          borderWidth: 2,\n          borderColor: '#4a4a4a',\n        },\n        sectionTitleContainer: {\n          backgroundColor: '#4a4a4a',\n          borderRadius: 10,\n          padding: 8,\n          marginBottom: 15,\n          alignItems: 'center',\n        },\n        sectionTitleText: {\n          fontSize: 20,\n          fontWeight: 'bold',\n          color: 'white',\n        },\n        detailsGrid: {\n          gap: 10,\n        },\n        detailRow: {\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          paddingVertical: 5,\n          borderBottomWidth: 1,\n          borderBottomColor: '#e0e0e0',\n        },\n        detailLabel: {\n          fontSize: 16,\n          fontWeight: 'bold',\n          color: '#4a4a4a',\n          flex: 1,\n        },\n        detailValue: {\n          fontSize: 16,\n          color: '#4a4a4a',\n          flex: 2,\n          textAlign: 'right',\n        },\n        priceBreakdownContainer: {\n          backgroundColor: '#f5f5f5',\n          borderRadius: 15,\n          padding: 15,\n          marginBottom: 20,\n          borderWidth: 2,\n          borderColor: '#4a4a4a',\n        },\n        priceDetailsGrid: {\n          gap: 10,\n        },\n        priceRow: {\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          paddingVertical: 10,\n          borderBottomWidth: 1,\n          borderBottomColor: '#e0e0e0',\n        },\n        priceLabel: {\n          fontSize: 18,\n          fontWeight: 'bold',\n          color: '#4a4a4a',\n          flex: 1,\n        },\n        priceValue: {\n          fontSize: 18,\n          color: '#4a4a4a',\n          fontWeight: 'bold',\n          textAlign: 'right',\n        },\n        totalContainer: {\n          backgroundColor: '#ffc100',\n          borderRadius: 25,\n          padding: 15,\n          marginBottom: 20,\n          alignItems: 'center',\n          borderWidth: 4,\n          borderColor: '#4a4a4a',\n        },\n        totalText: {\n          fontSize: 24,\n          fontWeight: 'bold',\n          color: '#4a4a4a',\n        },\n        loadingOverlay: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(255, 255, 255, 0.9)',\n          justifyContent: 'center',\n          alignItems: 'center',\n        },\n        loadingContainer: {\n          alignItems: 'center',\n          padding: 20,\n        },\n        loadingLogo: {\n          width: 200,\n          height: 100,\n          resizeMode: 'contain',\n          marginBottom: 20,\n        },\n        loadingText: {\n          fontSize: 18,\n          color: '#4a4a4a',\n          textAlign: 'center',\n          fontWeight: 'bold',\n        },\n        webView: {\n          flex: 1,\n        },\n        floatingBackButton: {\n          position: 'absolute',\n          top: Platform.OS === 'ios' ? 60 : 20,\n          left: 30,\n          backgroundColor: 'rgba(255, 255, 255, 0.9)',\n          width: 60,\n          height: 60,\n          borderRadius: 30,\n          justifyContent: 'center',\n          alignItems: 'center',\n          shadowColor: '#000',\n          shadowOffset: {\n            width: 0,\n            height: 2,\n          },\n          shadowOpacity: 0.25,\n          shadowRadius: 3.84,\n          elevation: 5,\n          zIndex: 1000,\n        },\n        backButtonText: {\n          fontSize: 24,\n          color: '#4a4a4a',\n        },\n      });\n      \n      export default PaymentScreen;","import { Platform } from 'react-native';\n\n// Import the platform-specific implementation\nconst PDFGenerator = Platform.select({\n  web: () => require('./WebPDFGenerator').default,\n  default: () => require('./NativePDFGenerator').default,\n})();\n\nexport default PDFGenerator;","// utils/emailService.js\n\nexport const sendOrderEmail = async (orderDetails) => {\n  try {\n    const API_BASE_URL = process.env.REACT_APP_API_URL;\n\n    // Format price breakdown for email template\n    const priceBreakdown = calculatePriceBreakdown(orderDetails);\n    const priceBreakdownHTML = generatePriceBreakdownHTML(priceBreakdown);\n\n    // Prepare PDF attachment if available\n    let pdfAttachment = null;\n    if (orderDetails.pdfAttachment) {\n      const uint8Array = new Uint8Array(orderDetails.pdfAttachment);\n      const binaryString = uint8Array.reduce((acc, byte) => acc + String.fromCharCode(byte), '');\n      pdfAttachment = btoa(binaryString);\n    }\n\n    // Prepare the complete email data\n    const emailData = {\n      ...orderDetails,\n      pdfAttachment,\n      priceBreakdown,\n      emailTemplates: {\n        priceBreakdownHTML,\n        businessEmailContent: generateBusinessEmailContent(orderDetails, priceBreakdownHTML),\n        customerEmailContent: generateCustomerEmailContent(orderDetails, priceBreakdownHTML)\n      }\n    };\n\n    // Send to server\n    const response = await fetch(`${API_BASE_URL}/api/send-email`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-server-key': process.env.REACT_APP_SERVER_KEY,\n      },\n      body: JSON.stringify(emailData)\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      throw new Error(data.error || 'Failed to send email');\n    }\n\n    return { success: true };\n  } catch (error) {\n    console.error('Error in sendOrderEmail:', error.message);\n    return {\n      success: false,\n      error: error.message,\n    };\n  }\n};\n\n// Helper Functions\nconst calculatePriceBreakdown = (details) => {\n  if (details.isOrderFittingMode) {\n    const subtotal = details.cutLengthPrice || 0;\n    const shipping = 10;\n    const subtotalWithShipping = subtotal + shipping;\n    const gst = subtotalWithShipping * 0.1;\n    const total = subtotalWithShipping + gst;\n    return { subtotal, shipping, gst, total };\n  } else {\n    const subtotal = details.totalBeforeShipping || 0;\n    const shipping = details.shippingCost || 0;\n    const gst = (subtotal + shipping) * 0.1;\n    const total = subtotal + shipping + gst;\n    return { subtotal, shipping, gst, total };\n  }\n};\n\nconst formatPrice = (amount) => `A$${amount.toFixed(2)}`;\n\nconst generatePriceBreakdownHTML = (priceBreakdown) => `\n  <h3>Price Breakdown:</h3>\n  <table style=\"width: 100%; max-width: 400px; margin: 10px 0;\">\n    <tr>\n      <td><strong>Subtotal:</strong></td>\n      <td style=\"text-align: right\">${formatPrice(priceBreakdown.subtotal)}</td>\n    </tr>\n    <tr>\n      <td><strong>Shipping:</strong></td>\n      <td style=\"text-align: right\">${formatPrice(priceBreakdown.shipping)}</td>\n    </tr>\n    <tr>\n      <td><strong>GST (10%):</strong></td>\n      <td style=\"text-align: right\">${formatPrice(priceBreakdown.gst)}</td>\n    </tr>\n    <tr style=\"border-top: 1px solid #ccc;\">\n      <td><strong>Total Amount:</strong></td>\n      <td style=\"text-align: right\"><strong>${formatPrice(priceBreakdown.total)}</strong></td>\n    </tr>\n  </table>\n`;\n\nconst generateBusinessEmailContent = (orderDetails, priceBreakdownHTML) => `\n  <h2>New Order Received</h2>\n  <p>A new order has been placed with the following details:</p>\n  <p><strong>Order Number:</strong> ${orderDetails.orderNumber || 'Unknown'}</p>\n  ${priceBreakdownHTML}\n  <p><strong>Customer Details:</strong></p>\n  <ul>\n    <li><strong>Name:</strong> ${orderDetails.userDetails?.name || 'N/A'}</li>\n    <li><strong>Email:</strong> ${orderDetails.userDetails?.email || 'N/A'}</li>\n    <li><strong>Contact:</strong> ${orderDetails.userDetails?.contactNumber || 'N/A'}</li>\n  </ul>\n  <p><strong>Shipping Address:</strong></p>\n  <p>\n    ${orderDetails.userDetails?.address || 'N/A'}<br>\n    ${orderDetails.userDetails?.suburb || ''} ${orderDetails.userDetails?.state || ''} ${orderDetails.userDetails?.postcode || ''}\n  </p>\n`;\n\nconst generateCustomerEmailContent = (orderDetails, priceBreakdownHTML) => `\n  <h2>Thank You for Your Order!</h2>\n  <p>Hi ${orderDetails.userDetails?.name || 'Valued Customer'},</p>\n  <p>Thank you for choosing FluidPower Group. We're pleased to confirm that your order has been received and is being processed.</p>\n  \n  <h3>Order Details:</h3>\n  <p><strong>Order Number:</strong> ${orderDetails.orderNumber || 'Unknown'}</p>\n  ${priceBreakdownHTML}\n  \n  <h3>Shipping Details:</h3>\n  <p>\n    ${orderDetails.userDetails?.address || 'N/A'}<br>\n    ${orderDetails.userDetails?.suburb || ''} ${orderDetails.userDetails?.state || ''} ${orderDetails.userDetails?.postcode || ''}\n  </p>\n  \n  <p>We've attached a copy of your order confirmation for your records.</p>\n  \n  <p>If you have any questions about your order, please don't hesitate to contact us:</p>\n  <ul>\n    <li>Phone: 0409 517 333</li>\n    <li>Email: info@fluidpowergroup.com.au</li>\n  </ul>\n  \n  <p>We appreciate you doing business with us!</p>\n  \n  <p>Best regards,<br>\n  FluidPower Group Team</p>\n`;","import React, { useEffect, useState, useRef, useCallback } from 'react';\nimport { \n  View, \n  Text,\n  Image, \n  StyleSheet, \n  SafeAreaView, \n  ScrollView, \n  TouchableOpacity, \n  BackHandler,\n  Dimensions,\n  Animated,\n  Platform,\n  Linking\n} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport PDFGenerator from '../components/PDFGenerator';\nimport { sendOrderEmail } from '../utils/emailService';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\n\n// Helper Components\nconst LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nconst BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nconst OrderConfirmationScreen = ({ route }) => {\n  const navigation = useNavigation();\n  const { success, orderDetails, error } = route.params;\n  const fadeAnim = React.useRef(new Animated.Value(1)).current;\n  const contentRef = useRef(null);\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\n  const orderId = orderDetails?.paymentId || 'Unknown';\n  const [emailSent, setEmailSent] = useState(false);\n  const [selectedButton, setSelectedButton] = useState(null);\n\n  const {\n    userDetails,\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    paymentId,\n    amount\n  } = orderDetails || {};\n\n  const calculatePriceBreakdown = (details) => {\n    if (details.isOrderFittingMode) {\n      const subtotal = details.cutLengthPrice || 0;\n      const shipping = 10; // Fixed $10 shipping for Fitting Mode\n      const subtotalWithShipping = subtotal + shipping;\n      const gst = subtotalWithShipping * 0.1; // 10% GST\n      const total = subtotalWithShipping + gst;\n      \n      return {\n        subtotal,\n        shipping,\n        subtotalWithShipping,\n        gst,\n        total\n      };\n    } else {\n      // Calculate subtotal based on all component prices\n      const end1Cost = typeof details.end1Price === 'number' ? \n        details.end1Price : parseFloat(details.end1Price) || 0;\n        \n      const end2Cost = typeof details.end2Price === 'number' ? \n        details.end2Price : parseFloat(details.end2Price) || 0;\n        \n      // Calculate cut length price\n      let cutLengthPrice = 0;\n      if (details.cutLengths && details.cutLengths.length > 0) {\n        const totalLength = details.cutLengths.reduce((total, cut) => {\n          if (!cut.length) return total;\n          return total + (parseFloat(cut.length) / 1000); // Convert mm to meters\n        }, 0);\n        \n        cutLengthPrice = totalLength * parseFloat(details.selectedHosePrice.replace(/\\s+/g, '').split('/')[0] || 0);\n      }\n      \n      // Calculate protection cost\n      const protectionCost = details.selectedProtection === 'NOT REQUIRED' ? \n        0 : (parseFloat(details.protectionCost) || 0);\n        \n      // Calculate pressure test cost\n      const pressureTestCost = details.selectedPressure === 'Not Required' ? \n        0 : (parseFloat(details.pressureTestPrice) || 0);\n      \n      // Sum for subtotal\n      const subtotal = end1Cost + end2Cost + cutLengthPrice + protectionCost + pressureTestCost;\n      \n      // Get shipping cost (fixed at 12.85 when we skip the shipping screen)\n      const shipping = details.shippingCost || 12.85;\n      \n      const subtotalWithShipping = subtotal + shipping;\n      const gst = subtotalWithShipping * 0.1; // 10% GST\n      const total = subtotalWithShipping + gst;\n      \n      return {\n        subtotal,\n        shipping,\n        subtotalWithShipping,\n        gst,\n        total\n      };\n    }\n  };\n\n  // Calculate price breakdown once for the component\n  const [priceBreakdown, setPriceBreakdown] = useState({\n    subtotal: 0,\n    shipping: 0,\n    subtotalWithShipping: 0,\n    gst: 0,\n    total: 0\n  });\n  \n  // Add this useEffect to calculate price breakdown when orderDetails is available\n  useEffect(() => {\n    if (orderDetails && Object.keys(orderDetails).length > 0) {\n      const calculatedBreakdown = calculatePriceBreakdown(orderDetails);\n      setPriceBreakdown(calculatedBreakdown);\n    }\n  }, [orderDetails]);\n\n  useEffect(() => {\n    // Check if we're missing orderDetails from route params but are on web\n    if (Platform.OS === 'web' && (!orderDetails || Object.keys(orderDetails).length === 0)) {\n      // Try to get the order details from sessionStorage\n      try {\n        const storedOrderData = sessionStorage.getItem('pendingOrderData');\n        if (storedOrderData) {\n          const parsedOrderData = JSON.parse(storedOrderData);\n          // Update the route params\n          navigation.setParams({\n            orderDetails: parsedOrderData,\n            // If success isn't defined in the route, determine it from the URL\n            success: success !== undefined ? success : window.location.search.includes('success=true')\n          });\n          // Clear the stored data after using it\n          sessionStorage.removeItem('pendingOrderData');\n        }\n      } catch (error) {\n        console.error('Failed to retrieve order data from sessionStorage:', error);\n      }\n    }\n  }, [orderDetails, navigation, success]);\n\n  useEffect(() => {\n    const backHandler = BackHandler.addEventListener('hardwareBackPress', () => {\n      handlePlaceAnotherOrder();\n      return true;\n    });\n    return () => backHandler.remove();\n  }, [navigation]);\n\n  const handlePlaceAnotherOrder = () => {\n    navigation.reset({\n      index: 0,\n      routes: [{ name: 'Welcome' }],\n    });\n  };\n\n  // Auto-generate PDF when screen loads\n  useEffect(() => {\n    const autoGeneratePDF = async () => {\n      if (success && contentRef.current && !emailSent) {\n        // Wait a brief moment for content to render\n        setTimeout(async () => {\n          await generatePDF({ silent: true }); // Generate PDF without triggering download\n        }, 1000);\n      }\n    };\n\n    autoGeneratePDF();\n  }, [success, emailSent]);\n\n  const { generatePDF } = PDFGenerator({\n    contentRef,\n    orderId: orderDetails?.paymentId,\n    onGenerateStart: () => {\n      console.log('Starting PDF generation...');\n      setIsGeneratingPDF(true);\n    },\n    onGenerateComplete: async (pdfBuffer) => {\n      console.log('PDF generation completed');\n      setIsGeneratingPDF(false);\n      \n      // If this was an automatic generation and email hasn't been sent yet\n      if (pdfBuffer && !emailSent && success) {\n        console.log('Attempting to send email...');\n        try {\n          // Calculate prices to ensure they're correct\n          const prices = calculatePriceBreakdown(orderDetails);\n          \n          // Prepare the email data\n          const emailData = {\n            ...orderDetails,\n            pdfAttachment: pdfBuffer,\n            userEmail: userDetails?.email || 'absareta@gmail.com',\n            orderNumber: paymentId || 'Unknown',\n            // Make sure we pass the correct total\n            totalAmount: prices.total,\n            // Add these additional values for the email template\n            subtotal: prices.subtotal,\n            shipping: prices.shipping,\n            gst: prices.gst,\n            totalBeforeShipping: prices.subtotal // Ensure this is set for backward compatibility\n          };\n          \n          await sendOrderEmail(emailData);\n          setEmailSent(true);\n          console.log('Order confirmation email sent successfully');\n        } catch (error) {\n          console.error('Failed to send order confirmation email:', error);\n        }\n      }\n    },\n    onError: (error) => {\n      console.error('PDF generation failed:', error);\n      setIsGeneratingPDF(false);\n    }\n  });\n\n  const handlePDFDownload = async () => {\n    if (isGeneratingPDF) return;\n    await generatePDF();\n  };\n\n  const renderShippingDetails = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Shipping Details</Text>\n      </View>\n      \n      <View style={styles.detailsGrid}>\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Name:</Text>\n          <Text style={styles.detailValue}>{userDetails?.name}</Text>\n        </View>\n        \n        {userDetails?.companyName && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Company:</Text>\n            <Text style={styles.detailValue}>{userDetails.companyName}</Text>\n          </View>\n        )}\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Address:</Text>\n          <Text style={styles.detailValue}>{userDetails?.address}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Suburb:</Text>\n          <Text style={styles.detailValue}>{userDetails?.suburb}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>State:</Text>\n          <Text style={styles.detailValue}>{userDetails?.state}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Postcode:</Text>\n          <Text style={styles.detailValue}>{userDetails?.postcode}</Text>\n        </View>\n\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Email:</Text>\n          <Text style={styles.detailValue}>{userDetails?.email}</Text>\n        </View>\n        \n        {userDetails?.contactNumber && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Contact:</Text>\n            <Text style={styles.detailValue}>{userDetails.contactNumber}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderOrderSummary = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Order Summary</Text>\n      </View>\n      \n      <View style={styles.orderDetailsContainer}>\n        {paymentId && (\n          <View style={styles.rowContainer}>\n            <LabelItem>ORDER ID</LabelItem>\n            <BorderedItem>{paymentId}</BorderedItem>\n          </View>\n        )}\n        \n        {selectedHose && (\n          <View style={styles.rowContainer}>\n            <LabelItem>HOSE SIZE</LabelItem>\n            <BorderedItem>\n              {typeof selectedHose === 'object' && selectedHose.size ? selectedHose.size : selectedHose}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {quantity && (\n          <View style={styles.rowContainer}>\n            <LabelItem>QUANTITY</LabelItem>\n            <BorderedItem>{quantity}</BorderedItem>\n          </View>\n        )}\n        \n        {end1Shape && end1Size && (\n          <View style={styles.rowContainer}>\n            <LabelItem>END1</LabelItem>\n            <BorderedItem price={end1Price}>\n              {`${end1Shape} - ${end1Size}`}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {end2Shape && end2Size && (\n          <View style={styles.rowContainer}>\n            <LabelItem>END2</LabelItem>\n            <BorderedItem price={end2Price}>\n              {`${end2Shape} - ${end2Size}`}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {selectedAngle && (\n          <View style={styles.rowContainer}>\n            <LabelItem>ANGLE</LabelItem>\n            <BorderedItem>{selectedAngle}</BorderedItem>\n          </View>\n        )}\n        \n        {cutLengths && cutLengths.length > 0 && (\n          <View style={styles.rowContainer}>\n            <LabelItem>CUT LENGTHS</LabelItem>\n            <BorderedItem \n              price={cutLengths.reduce((total, cut) => {\n                const lengthInMeters = parseFloat(cut.length) / 1000;\n                const basePrice = parseFloat(selectedHosePrice);\n                return total + (lengthInMeters * basePrice);\n              }, 0).toFixed(2)}\n              isCutLengths\n            >\n              {cutLengths.map((cut, index) => (\n                <View key={index} style={styles.cutLengthRow}>\n                  <View style={styles.numberedCircle}>\n                    <Text style={styles.numberedCircleText}>{index + 1}</Text>\n                  </View>\n                  <Text style={styles.cutLengthText}>\n                    {`${cut.length} ${cut.unit}`}\n                  </Text>\n                </View>\n              ))}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {selectedProtection && (\n          <View style={styles.rowContainer}>\n            <LabelItem>PROTECTION</LabelItem>\n            <BorderedItem price={selectedProtection === 'NOT REQUIRED' ? 'NOT REQUIRED' : protectionCost}>\n              {selectedProtection}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {selectedPressure && (\n          <View style={styles.rowContainer}>\n            <LabelItem>PRESSURE TEST</LabelItem>\n            <BorderedItem price={selectedPressure === 'Not Required' ? 'NOT REQUIRED' : pressureTestPrice}>\n              {selectedPressure}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {(selectedService || isOrderFittingMode) && (\n          <View style={styles.rowContainer}>\n            <LabelItem>SHIPPING COST</LabelItem>\n            <BorderedItem price={isOrderFittingMode ? 10 : (shippingCost || 'FREE')}>\n              {isOrderFittingMode ? 'Standard Shipping' : selectedService || 'Standard Shipping'}\n            </BorderedItem>\n          </View>\n        )}\n        \n        <View style={styles.rowContainer}>\n          <LabelItem>SUBTOTAL</LabelItem>\n          <BorderedItem price={priceBreakdown.subtotal}>\n            Items Total\n          </BorderedItem>\n        </View>\n\n        <View style={styles.rowContainer}>\n          <LabelItem>SUBTOTAL WITH SHIPPING</LabelItem>\n          <BorderedItem price={priceBreakdown.subtotalWithShipping}>\n          </BorderedItem>\n        </View>\n\n          <View style={styles.rowContainer}>\n            <LabelItem>GST (10%)</LabelItem>\n            <BorderedItem price={priceBreakdown.gst}>\n            </BorderedItem>\n          </View>\n\n          <View style={styles.totalContainer}>\n            <Text style={styles.totalLabel}>Total Amount (Inc. GST)</Text>\n            <Text style={styles.totalValue}>\n              A${priceBreakdown.total.toFixed(2)}\n            </Text>\n          </View>\n              </View>\n              </View>\n  );\n\n  if (!success) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.logoContainer}>\n          <Image\n            source={require('../assets/fluidpower_logo.gif')}\n            style={styles.logo}\n            resizeMode=\"contain\"\n          />\n        </View>\n        \n        <View style={styles.errorContainer}>\n          <View style={styles.titleWrapper}>\n            <Text style={styles.titleText}> Payment Failed</Text>\n          </View>\n          <Text style={[styles.errorText, { marginTop: 20 }]}>\n            {error || 'Payment processing failed. Please try again.'}\n          </Text>\n          \n          <View style={styles.buttonContainer}>\n            <TouchableOpacity \n              style={[\n                styles.actionButton,\n                { backgroundColor: selectedButton === 'tryAgain' ? '#ffc100' : 'transparent' }\n              ]}\n              onPress={() => {\n                setSelectedButton('tryAgain');\n                setTimeout(() => {\n                  // Navigate to Payment screen with all the necessary values\n                  navigation.navigate('Payment', {\n                    selectedHose,\n                    selectedHosePrice,\n                    selectedFitting,\n                    end1Shape,\n                    end1Size,\n                    end1Price,\n                    selectedEnd2Fitting,\n                    end2Shape,\n                    end2Size,\n                    end2Price,\n                    selectedAngle,\n                    quantity,\n                    cutLengths,\n                    cutLengthPrice,\n                    isOrderFittingMode,\n                    selectedProtection,\n                    hoseProtectionPrice,\n                    selectedPressure,\n                    pressureTestPrice,\n                    selectedMethod,\n                    selectedService,\n                    shippingCost,\n                    totalBeforeShipping,\n                    totalPriceWithShipping,\n                    protectionCost,\n                    shippingDetails: orderDetails.userDetails // Pass the shipping details\n                  });\n                }, 100);\n              }}\n              activeOpacity={0.8}\n            >\n              <Text style={styles.buttonText}>Try Again</Text>\n            </TouchableOpacity>\n  \n            <TouchableOpacity \n              style={[\n                styles.actionButton,\n                { backgroundColor: selectedButton === 'newOrder' ? '#ffc100' : 'transparent' }\n              ]}\n              onPress={() => {\n                setSelectedButton('newOrder');\n                setTimeout(handlePlaceAnotherOrder, 100);\n              }}\n              activeOpacity={0.8}\n            >\n              <Text style={styles.buttonText}>Place New Order</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  const handlePhonePress = () => {\n    Linking.openURL('tel:+61409517333');\n  };\n  \n  const handleEmailPress = () => {\n    Linking.openURL('mailto:info@fluidpowergroup.com.au');\n  };\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Buttons */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={handlePlaceAnotherOrder}\n      >\n        <Text style={styles.backButtonText}>Place New Order</Text>\n      </TouchableOpacity>\n  \n      <TouchableOpacity \n        style={[\n          styles.floatingDownloadButton,\n          isGeneratingPDF && styles.disabledButton\n        ]}\n        onPress={handlePDFDownload}\n        disabled={isGeneratingPDF}\n      >\n        <Text style={styles.backButtonText}>\n          {isGeneratingPDF ? 'Generating PDF...' : 'Download PDF'}\n        </Text>\n      </TouchableOpacity>\n  \n      <ScrollableGradientWrapper>\n        {Platform.OS === 'web' ? (\n          <>\n            {/* Screen View - This won't be included in PDF */}\n            <SafeAreaView style={styles.container}>\n              <View style={styles.logoContainer}>\n                <Image\n                  source={require('../assets/fluidpower_logo.gif')}\n                  style={styles.logo}\n                  resizeMode=\"contain\"\n                />\n              </View>\n  \n              <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\n                <View style={styles.titleContainer}>\n                  <View style={styles.titleWrapper}>\n                    <Text style={styles.titleText}>\n                      {success ? ' Payment Successful!' : ' Payment Failed'}\n                    </Text>\n                  </View>\n                </View>\n  \n                <Text style={styles.successTitle}>Thank You for Your Order!</Text>\n                <Text style={styles.emailTitle}>Don't forget to check Junk/Spam folder of your email for Confirmation</Text>\n  \n                <ScrollView \n                  style={styles.mainScrollView}\n                  contentContainerStyle={styles.mainScrollViewContent}\n                  showsVerticalScrollIndicator={true}\n                >\n                  {success ? (\n                    <>\n                      {renderOrderSummary()}\n                      {renderShippingDetails()}\n                    </>\n                  ) : (\n                    <View style={styles.errorContainer}>\n                      {/* Error content */}\n                    </View>\n                  )}\n                </ScrollView>\n\n                {/* Add this View container here */}\n                <View style={styles.copyrightContainer}>\n                  <Text style={styles.enquiryText}>\n                    For any and all enquiries:\n                  </Text>\n                  \n                  <TouchableOpacity \n                    onPress={handlePhonePress}\n                    style={styles.touchableArea}\n                  >\n                    <Text style={styles.contactText}>\n                      +61 409 517 333\n                    </Text>\n                  </TouchableOpacity>\n                  \n                  <TouchableOpacity \n                    onPress={handleEmailPress}\n                    style={styles.touchableArea}\n                  >\n                    <Text style={styles.contactText}>\n                      email: info@fluidpowergroup.com.au\n                    </Text>\n                  </TouchableOpacity>\n\n                  <Text style={styles.copyrightText}>\n                    FluidPower Group All Rights Reserved {new Date().getFullYear()}\n                  </Text>\n                </View>\n              </Animated.View>\n            </SafeAreaView>\n  \n            {/* PDF View - This div and its contents will be used for PDF generation */}\n            <div \n                ref={contentRef} \n                style={{ \n                  position: 'absolute',\n                  left: '-9999px',\n                  top: 0,\n                  width: '800px',  // Fixed width for PDF generation\n                  backgroundColor: 'white'\n                }}\n              >\n                <SafeAreaView style={[styles.container, { width: '100%' }]}>\n                  <View style={[styles.logoContainer, { width: '100%', height: 'auto' }]}>\n                    <img\n                      src={require('../assets/fluidpower_logo.gif')}\n                      style={{\n                        width: '400px',\n                        height: '200px',\n                        objectFit: 'contain'\n                      }}\n                      alt=\"FluidPower Logo\"\n                    />\n                  </View>\n\n                  <View style={styles.contentContainer}>\n                    <ScrollView \n                      style={styles.mainScrollView}\n                      contentContainerStyle={styles.mainScrollViewContent}\n                    >\n                      {success && (\n                        <>\n                          {renderOrderSummary()}\n                          {renderShippingDetails()}\n                        </>\n                      )}\n                    </ScrollView>\n                  </View>\n\n                  <View style={styles.copyrightContainer}>\n                    <Text style={styles.enquiryText}>\n                      For any and all enquiries:\n                    </Text>\n                    \n                    <TouchableOpacity \n                      onPress={handlePhonePress}\n                      style={styles.touchableArea}\n                    >\n                      <Text style={styles.contactText}>\n                        +61 409 517 333\n                      </Text>\n                    </TouchableOpacity>\n                    \n                    <TouchableOpacity \n                      onPress={handleEmailPress}\n                      style={styles.touchableArea}\n                    >\n                      <Text style={styles.contactText}>\n                        email: info@fluidpowergroup.com.au\n                      </Text>\n                    </TouchableOpacity>\n\n                    <Text style={styles.copyrightText}>\n                      FluidPower Group All Rights Reserved {new Date().getFullYear()}\n                    </Text>\n                  </View>\n                </SafeAreaView>\n              </div>\n          </>\n        ) : (\n          <ViewShot\n            ref={contentRef}\n            options={{\n              format: 'jpg',\n              quality: 0.9,\n            }}\n          >\n            <SafeAreaView style={styles.container}>\n              {/* Your existing content for non-web platforms */}\n            </SafeAreaView>\n          </ViewShot>\n        )}\n      </ScrollableGradientWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  mainScrollView: {\n    flex: 1,\n  },\n  mainScrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: 20,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: 400,\n    height: 200,\n    resizeMode: 'contain',\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  successTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  emailTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n    maxWidth: 600,\n    width: '100%',\n    alignSelf: 'center',\n  },\n  boxHeader: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n  },\n  boxHeaderText: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  detailsGrid: {\n    padding: 15,\n    gap: 10,\n  },\n  detailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 5,\n  },\n  detailLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    flex: 2,\n    textAlign: 'right',\n  },\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n    width: '100%',\n    maxWidth: 600,\n  },\n  orderDetailsContainer: {\n    padding: 15,\n  },\n  totalContainer: {\n    backgroundColor: '#ffc100',\n    padding: 15,\n    alignItems: 'center',\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n  },\n  totalLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  totalValue: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  cutLengthsLayout: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n  },\n  cutLengthsContainer: {\n    flex: 1,\n  },\n  cutLengthsContent: {\n    flex: 1,\n  },\n  cutLengthsContentWrapper: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center', // This centers the content vertically\n    justifyContent: 'space-between',\n  },\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 5,\n    paddingRight: 10, \n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: '#4a4a4a',\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 8,\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  priceContainer: {\n    justifyContent: 'center', // Centers the price container vertically\n    alignItems: 'flex-end', // Keeps the price aligned to the right\n  },\n  buttonContainer: {\n    width: '100%',\n    gap: 10,\n    marginTop: 20,\n    paddingHorizontal: 20,\n    maxWidth: 400,\n  },\n  actionButton: {\n    marginTop: 10,\n    marginBottom: 10,\n    paddingVertical: 12,\n    paddingHorizontal: 20,\n    borderRadius: 25,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    alignItems: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center',\n    minWidth: 200,\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  buttonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    padding: 20,\n    marginTop: 40,\n    width: '100%',\n  },\n  errorText: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n    maxWidth: 300,\n  },\n  bulletPoints: {\n    alignSelf: 'stretch',\n    marginBottom: 20,\n  },\n  bulletPoint: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  tryAgainButton: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n    minWidth: 200,\n  },\n  tryAgainText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  copyrightContainer: {\n    paddingBottom: Platform.OS === 'web' ? 80 : 20, // Increased padding only for web\n    paddingTop: 10,\n    alignItems: 'center',\n    marginTop: 'auto', // This helps push it to the bottom\n},\n  copyrightText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    fontStyle: 'italic',\n    opacity: 0.8,\n    marginTop: 20,\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingDownloadButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    right: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  disabledButton: {\n    opacity: 0.6,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    padding: 20,\n    marginTop: 10, // Change from 40 to 10 to move everything up\n    width: '100%',\n  },\n  errorText: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n    maxWidth: 300\n  },\n  tryAgainButton: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n    minWidth: 200,\n    marginBottom: 20,\n  },\n  tryAgainText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  touchableArea: {\n    padding: 8,\n    marginVertical: 2,\n    width: '100%',\n    alignItems: 'center',\n  },\n  enquiryText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 12,\n  },\n  contactText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginTop: 8,\n    textDecorationLine: 'underline',\n    paddingVertical: 5,\n  },\n});\n\nexport default OrderConfirmationScreen;","// screens/TrialScreen2.js\nimport React from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport PDFGenerator from '../components/PDFGenerator';\n\nconst TrialScreen2 = () => {\n  const testContent = `\n    Hydraulic Hose Builder\n    \n    Your Custom Hose Specifications:\n    - Size: 1/2 inch\n    - Length: 24 inches\n    - End Fittings: Standard\n    \n    Thank you for using our service!\n  `;\n  \n  return (\n    <View style={styles.container}>\n      <PDFGenerator content={testContent} />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n});\n\nexport default TrialScreen2;","import React from 'react';\nimport { \n  View, \n  Text, \n  StyleSheet, \n  SafeAreaView, \n  ScrollView,\n  TouchableOpacity,\n  Share\n} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\n\nconst OrderDetailsScreen = ({ route }) => {\n  const { orderDetails } = route.params;\n  const navigation = useNavigation();\n\n  // Extract order information\n  const {\n    userDetails,\n    paymentId,\n    amount,\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n  } = orderDetails;\n\n  // Function to share order details\n  const handleShareOrder = async () => {\n    try {\n      const shareMessage = `\nOrder Details\nOrder ID: ${paymentId}\nAmount: A$${amount}\nStatus: Confirmed\n\nProduct Details:\n- Hose: ${selectedHose}\n- Fittings: ${selectedFitting}\n- End 1: ${end1Shape} ${end1Size}\n- End 2: ${selectedEnd2Fitting} ${end2Shape} ${end2Size}\n- Quantity: ${quantity}\n`;\n\n      await Share.share({\n        message: shareMessage,\n        title: `Order #${paymentId}`,\n      });\n    } catch (error) {\n      console.error('Error sharing order:', error);\n    }\n  };\n\n  const renderSection = (title, content) => (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>{title}</Text>\n      <View style={styles.sectionContent}>\n        {content}\n      </View>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        {/* Order ID and Status */}\n        <View style={styles.headerSection}>\n          <Text style={styles.orderId}>Order #{paymentId}</Text>\n          <View style={styles.statusBadge}>\n            <Text style={styles.statusText}>Confirmed</Text>\n          </View>\n        </View>\n\n        {/* Product Details */}\n        {renderSection('Product Details', (\n          <>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Hose Type:</Text>\n              <Text style={styles.detailValue}>{selectedHose}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Fitting Type:</Text>\n              <Text style={styles.detailValue}>{selectedFitting}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>End 1:</Text>\n              <Text style={styles.detailValue}>{`${end1Shape} ${end1Size}`}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>End 2:</Text>\n              <Text style={styles.detailValue}>{`${end2Shape} ${end2Size}`}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Angle:</Text>\n              <Text style={styles.detailValue}>{selectedAngle}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Quantity:</Text>\n              <Text style={styles.detailValue}>{quantity}</Text>\n            </View>\n          </>\n        ))}\n\n        {/* Additional Services */}\n        {renderSection('Additional Services', (\n          <>\n            {selectedProtection && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Protection:</Text>\n                <Text style={styles.detailValue}>{selectedProtection}</Text>\n              </View>\n            )}\n            {selectedPressure && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Pressure Test:</Text>\n                <Text style={styles.detailValue}>{selectedPressure}</Text>\n              </View>\n            )}\n            {selectedMethod && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Delivery Method:</Text>\n                <Text style={styles.detailValue}>{selectedMethod}</Text>\n              </View>\n            )}\n          </>\n        ))}\n\n        {/* Price Breakdown */}\n        {renderSection('Price Breakdown', (\n          <>\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>Hose:</Text>\n              <Text style={styles.priceValue}>A${selectedHosePrice.toFixed(2)}</Text>\n            </View>\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>End 1:</Text>\n              <Text style={styles.priceValue}>A${end1Price.toFixed(2)}</Text>\n            </View>\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>End 2:</Text>\n              <Text style={styles.priceValue}>A${end2Price.toFixed(2)}</Text>\n            </View>\n            {hoseProtectionPrice > 0 && (\n              <View style={styles.priceRow}>\n                <Text style={styles.priceLabel}>Protection:</Text>\n                <Text style={styles.priceValue}>A${hoseProtectionPrice.toFixed(2)}</Text>\n              </View>\n            )}\n            {pressureTestPrice > 0 && (\n              <View style={styles.priceRow}>\n                <Text style={styles.priceLabel}>Pressure Test:</Text>\n                <Text style={styles.priceValue}>A${pressureTestPrice.toFixed(2)}</Text>\n              </View>\n            )}\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>Shipping:</Text>\n              <Text style={styles.priceValue}>A${shippingCost.toFixed(2)}</Text>\n            </View>\n            <View style={[styles.priceRow, styles.totalRow]}>\n              <Text style={styles.totalLabel}>Total:</Text>\n              <Text style={styles.totalValue}>A${amount}</Text>\n            </View>\n          </>\n        ))}\n\n        {/* Shipping Details */}\n        {renderSection('Shipping Details', (\n          <>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Name:</Text>\n              <Text style={styles.detailValue}>{userDetails.name}</Text>\n            </View>\n            {userDetails.companyName && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Company:</Text>\n                <Text style={styles.detailValue}>{userDetails.companyName}</Text>\n              </View>\n            )}\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Address:</Text>\n              <Text style={styles.detailValue}>{userDetails.address}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Suburb:</Text>\n              <Text style={styles.detailValue}>{userDetails.suburb}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>State:</Text>\n              <Text style={styles.detailValue}>{userDetails.state}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Postcode:</Text>\n              <Text style={styles.detailValue}>{userDetails.postcode}</Text>\n            </View>\n          </>\n        ))}\n\n        {/* Action Buttons */}\n        <View style={styles.actionButtons}>\n          <TouchableOpacity \n            style={styles.shareButton}\n            onPress={handleShareOrder}\n          >\n            <Text style={styles.shareButtonText}>Share Order Details</Text>\n          </TouchableOpacity>\n          \n          <TouchableOpacity \n            style={styles.newOrderButton}\n            onPress={() => navigation.navigate('CreateOrder')}\n          >\n            <Text style={styles.newOrderButtonText}>Place New Order</Text>\n          </TouchableOpacity>\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  scrollContent: {\n    padding: 20,\n  },\n  headerSection: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  orderId: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  statusBadge: {\n    backgroundColor: '#4CAF50',\n    paddingHorizontal: 15,\n    paddingVertical: 5,\n    borderRadius: 15,\n  },\n  statusText: {\n    color: 'white',\n    fontWeight: 'bold',\n  },\n  section: {\n    marginBottom: 25,\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    padding: 15,\n    borderWidth: 1,\n    borderColor: '#e0e0e0',\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 15,\n  },\n  detailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  detailLabel: {\n    fontSize: 16,\n    color: '#666',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    fontWeight: '500',\n    flex: 2,\n    textAlign: 'right',\n  },\n  priceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  priceLabel: {\n    fontSize: 16,\n    color: '#666',\n  },\n  priceValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    fontWeight: '500',\n  },\n  totalRow: {\n    marginTop: 10,\n    borderBottomWidth: 0,\n    paddingTop: 15,\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n  },\n  totalLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  totalValue: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  actionButtons: {\n    marginTop: 20,\n    gap: 15,\n  },\n  shareButton: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n  },\n  shareButtonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  newOrderButton: {\n    backgroundColor: '#f5f5f5',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  newOrderButtonText: {\n    color: '#4a4a4a',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  sectionContent: {\n    backgroundColor: 'white',\n    borderRadius: 10,\n    padding: 15,\n  },\n});\n\nexport default OrderDetailsScreen;","// components/ScreenWrapper.js\nimport React from 'react';\nimport { Platform } from 'react-native';\n\nconst ScreenWrapper = ({ children }) => {\n  // Only apply web-specific styles on web platform\n  if (Platform.OS === 'web') {\n    return (\n      <div \n        style={{\n          minHeight: '100vh',\n          maxHeight: '100vh',\n          overflowY: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          backgroundColor: '#fff',\n        }}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  // Return children as-is for mobile platforms\n  return children;\n};\n\nexport default ScreenWrapper;","import React, { useCallback } from 'react';\nimport { \n  View, \n  Text, \n  StyleSheet, \n  SafeAreaView, \n  ScrollView, \n  Image,\n  Dimensions,\n  Platform,\n  TouchableOpacity,\n} from 'react-native';\nimport { useRoute, useNavigation } from '@react-navigation/native';\nimport ScreenWrapper from '../components/ScreenWrapper';\nimport { PDFDownloadLink } from '@react-pdf/renderer';\nimport { pdf } from '@react-pdf/renderer';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\n// Reuse the helper components from OrderConfirmationScreen1\nconst LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nconst BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.cutLengthsPriceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nconst NumberedCircle = ({ number }) => (\n  <View style={styles.numberedCircle}>\n    <Text style={styles.numberedCircleText}>{number}</Text>\n  </View>\n);\n\nconst OrderDetailsScreen1 = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const { orderDetails } = route.params;\n  \n  // Destructure the orderDetails\n  const {\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    userDetails,\n    amount,\n    paymentId\n  } = orderDetails;\n\n  // For debugging\n  console.log('Order Details received:', orderDetails);\n\n  const handlePDFDownload = useCallback(async () => {\n    try {\n      console.log('Generating PDF...');\n      const blob = await pdf(<OrderPDF orderDetails={orderDetails} />).toBlob();\n      const url = URL.createObjectURL(blob);\n      \n      // Create a link element\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `Order_${paymentId}.pdf`;\n      \n      // Trigger download\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      \n      // Cleanup\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n    }\n  }, [orderDetails, paymentId]);\n\n  const renderShippingDetails = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Shipping Details</Text>\n      </View>\n      \n      <View style={styles.detailsGrid}>\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Name:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.name}</Text>\n        </View>\n        \n        {orderDetails.userDetails?.companyName && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Company:</Text>\n            <Text style={styles.detailValue}>{orderDetails.userDetails.companyName}</Text>\n          </View>\n        )}\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Address:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.address}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Suburb:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.suburb}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>State:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.state}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Postcode:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.postcode}</Text>\n        </View>\n\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Email:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.email}</Text>\n        </View>\n        \n        {orderDetails.userDetails?.contactNumber && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Contact:</Text>\n            <Text style={styles.detailValue}>{orderDetails.userDetails.contactNumber}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderOrderSummary = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Order Summary</Text>\n      </View>\n  \n      <View style={styles.orderDetailsContainer}>\n        {/* Order ID - Always show if exists */}\n        {paymentId && (\n          <View style={styles.rowContainer}>\n            <LabelItem>ORDER ID</LabelItem>\n            <BorderedItem>{paymentId}</BorderedItem>\n          </View>\n        )}\n  \n        {/* Hose Details - Only show if selectedHose exists */}\n        {selectedHose && (\n          <View style={styles.rowContainer}>\n            <LabelItem>HOSE SIZE</LabelItem>\n            <BorderedItem>\n              {typeof selectedHose === 'object' && selectedHose.size ? selectedHose.size : selectedHose}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* End 1 Details - Only show if both shape and size exist */}\n        {end1Shape && end1Size && (\n          <View style={styles.rowContainer}>\n            <LabelItem>END1</LabelItem>\n            <BorderedItem price={end1Price}>\n              {`${end1Shape} - ${end1Size}`}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* End 2 Details - Only show if both shape and size exist */}\n        {end2Shape && end2Size && (\n          <View style={styles.rowContainer}>\n            <LabelItem>END2</LabelItem>\n            <BorderedItem price={end2Price}>\n              {`${end2Shape} - ${end2Size}`}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Angle - Only show if exists */}\n        {selectedAngle && (\n          <View style={styles.rowContainer}>\n            <LabelItem>ANGLE</LabelItem>\n            <BorderedItem>{selectedAngle}</BorderedItem>\n          </View>\n        )}\n  \n        {/* Quantity - Only show if exists */}\n        {quantity && (\n          <View style={styles.rowContainer}>\n            <LabelItem>QUANTITY</LabelItem>\n            <BorderedItem>{quantity}</BorderedItem>\n          </View>\n        )}\n  \n        {/* Cut Lengths - Only show if array exists and has items */}\n        {cutLengths && cutLengths.length > 0 && (\n          <View style={styles.rowContainer}>\n            <LabelItem>CUT LENGTHS</LabelItem>\n            <BorderedItem \n              price={cutLengths.reduce((total, cut) => {\n                const lengthInMeters = parseFloat(cut.length) / 1000; // Convert mm to meters\n                const basePrice = parseFloat(selectedHosePrice);\n                return total + (lengthInMeters * basePrice);\n              }, 0)}\n              isCutLengths={false}\n            >\n              <View>\n                {cutLengths.map((cut, index) => (\n                  <View key={index} style={styles.cutLengthRow}>\n                    <View style={styles.numberedCircle}>\n                      <Text style={styles.numberedCircleText}>{index + 1}</Text>\n                    </View>\n                    <Text style={styles.cutLengthText}>\n                      {`${cut.length} ${cut.unit}`}\n                    </Text>\n                  </View>\n                ))}\n              </View>\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Protection - Only show if exists */}\n        {selectedProtection && (\n          <View style={styles.rowContainer}>\n            <LabelItem>PROTECTION</LabelItem>\n            <BorderedItem \n              price={selectedProtection === 'NOT REQUIRED' ? 'NOT REQUIRED' : protectionCost}\n            >\n              {selectedProtection}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Pressure Test - Only show if exists */}\n        {selectedPressure && (\n          <View style={styles.rowContainer}>\n            <LabelItem>PRESSURE TEST</LabelItem>\n            <BorderedItem price={pressureTestPrice}>\n              {selectedPressure}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Shipping - Only show if service exists */}\n        {selectedService && (\n          <View style={styles.rowContainer}>\n            <LabelItem>SHIPPING</LabelItem>\n            <BorderedItem price={shippingCost || 'FREE'}>\n              {selectedService}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Subtotal - Always show */}\n        <View style={styles.rowContainer}>\n          <LabelItem>SUBTOTAL</LabelItem>\n          <BorderedItem price={totalBeforeShipping}>\n            Before GST\n          </BorderedItem>\n        </View>\n      </View>\n  \n      {/* Total Price Display */}\n      <View style={styles.totalContainer}>\n        <Text style={styles.totalLabel}>Total Amount (Inc. GST)</Text>\n        <Text style={styles.totalValue}>\n          A${(totalBeforeShipping * 1.1).toFixed(2)} {/* Add 10% GST */}\n        </Text>\n      </View>\n    </View>\n  );\n\n  // Add error handling\n  if (!orderDetails) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>Error: Order details not found</Text>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Back Button - Moved outside of ScreenWrapper */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.navigate('Welcome')}\n      >\n        <Text style={styles.backButtonText}>Place New Order</Text>\n      </TouchableOpacity>\n\n      {/* New Download PDF Button */}\n        <TouchableOpacity \n          style={styles.floatingDownloadButton}\n          onPress={handlePDFDownload}\n        >\n          <Text style={styles.backButtonText}>Download PDF</Text>\n        </TouchableOpacity>\n  \n      <ScreenWrapper>\n        <SafeAreaView style={styles.container}>\n          <View style={styles.logoContainer}>\n            <Image\n              source={require('../assets/fluidpower_logo.gif')}\n              style={styles.logo}\n              resizeMode=\"contain\"\n            />\n          </View>\n  \n          <View style={styles.titleContainer}>\n            <Text style={styles.titleText}>Order Details</Text>\n          </View>\n  \n          <ScrollView \n            style={styles.scrollView}\n            contentContainerStyle={styles.scrollContent}\n          >\n            {renderOrderSummary()}\n            {renderShippingDetails()}\n          </ScrollView>\n          {/* Add copyright text */}\n          <View style={styles.copyrightContainer}>\n            <Text style={styles.copyrightText}>\n              FluidPower Group All Rights Reserved {new Date().getFullYear()}\n            </Text>\n          </View>\n        </SafeAreaView>\n      </ScreenWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 18,\n    color: 'red',\n    textAlign: 'center',\n  },\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginTop: 15,\n    marginBottom: 20,\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    alignSelf: 'center',\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    padding: 20,\n    alignItems: 'center',\n    width: '100%',\n  },\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 5,  // Reduced from 10 to match the design\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 8,  // Add some space between circle and text\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  cutLengthsContainer: {\n    flex: 1,\n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n  },\n  boxHeader: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n  },\n  boxHeaderText: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  detailsGrid: {\n    padding: 15,\n    gap: 10,\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n    maxWidth: 600,  // Add this line\n    alignSelf: 'center',  // Add this line\n    width: '100%',  // Add this line\n},\n  detailLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    flex: 2,\n    textAlign: 'right',\n  },\n  totalContainer: {\n    backgroundColor: '#ffc100',\n    padding: 15,\n    alignItems: 'center',\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n  },\n  totalLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  totalValue: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  // Existing styles from OrderConfirmationScreen1\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n    width: '100%', \n    maxWidth: 600, \n  },\n  orderDetailsContainer: {\n    padding: 15,\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingDownloadButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    right: 30,  // Changed from 'left' to 'right'\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  copyrightContainer: {\n    paddingBottom: 20,\n    paddingTop: 10,\n    alignItems: 'center',\n  },\n  copyrightText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    fontStyle: 'italic',\n    opacity: 0.8,\n  },\n});\n\nexport default OrderDetailsScreen1;","// Create a new component file: PaymentSuccessPage.js\nimport React, { useEffect } from 'react';\nimport { View, Image } from 'react-native';\n\nconst PaymentSuccessPage = () => {\n  useEffect(() => {\n    // Close the window after 2 seconds\n    const timer = setTimeout(() => {\n      if (window.opener) {\n        window.close();\n      }\n    }, 2000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    <View style={{\n      flex: 1,\n      backgroundColor: 'white',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }}>\n      <Image\n        source={require('../assets/fluidpower_logo.gif')}\n        style={{\n          width: 300,\n          height: 150,\n          resizeMode: 'contain'\n        }}\n      />\n    </View>\n  );\n};\n\nexport default PaymentSuccessPage;","import React, { useEffect, useState } from 'react';\nimport { View, Text, ActivityIndicator, StyleSheet } from 'react-native';\nimport { useNavigation, useRoute } from '@react-navigation/native';\n\nconst PaymentReturnScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [errorMessage, setErrorMessage] = useState('');\n\n  useEffect(() => {\n    console.log('Current URL:', window.location.href);\n    console.log('Current Path:', window.location.pathname);\n    console.log('sessionStorage data:', window.sessionStorage.getItem('pendingOrderData'));\n  \n    // Rest of your existing code\n  }, []);\n\n  useEffect(() => {\n    console.log('PaymentReturnScreen mounted. Route name:', route.name);\n    console.log('Current URL:', window.location.href);\n    \n    // Rest of your code...\n  }, [navigation, route.name]);\n  \n  useEffect(() => {\n    // Determine if this is a success or cancel return\n    const isSuccess = route.name === 'PaymentSuccess';\n    \n    // Get the order data from sessionStorage\n    let orderDetails = {};\n    if (typeof window !== 'undefined' && window.sessionStorage) {\n      try {\n        const orderDataString = window.sessionStorage.getItem('pendingOrderData');\n        if (orderDataString) {\n          orderDetails = JSON.parse(orderDataString);\n          // Clear the data from sessionStorage\n          window.sessionStorage.removeItem('pendingOrderData');\n        } else {\n          console.error('No order data found in sessionStorage');\n          setErrorMessage('Order data not found. Please try again.');\n          return;\n        }\n      } catch (error) {\n        console.error('Error parsing order data from sessionStorage:', error);\n        setErrorMessage('Error processing your order. Please try again.');\n        return;\n      }\n    }\n    \n    // Short delay to allow the component to mount\n    setTimeout(() => {\n      // Navigate to the order confirmation screen\n      navigation.reset({\n        index: 0,\n        routes: [\n          {\n            name: 'OrderConfirmation',\n            params: {\n              success: isSuccess,\n              orderDetails: orderDetails,\n              error: !isSuccess ? 'Payment was cancelled' : null\n            }\n          }\n        ]\n      });\n    }, 500);\n  }, [navigation, route.name]);\n  \n  return (\n    <View style={styles.container}>\n      <ActivityIndicator size=\"large\" color=\"#4a4a4a\" />\n      <Text style={styles.loadingText}>\n        {errorMessage || (route.name === 'PaymentSuccess' \n          ? 'Payment successful! Processing your order...' \n          : 'Returning to checkout...')}\n      </Text>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    padding: 20\n  },\n  loadingText: {\n    marginTop: 20,\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center'\n  }\n});\n\nexport default PaymentReturnScreen;","import 'react-native-gesture-handler';\nimport React, { useRef, useEffect } from 'react';\nimport { View, Platform } from 'react-native';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\nimport './src/crypto-polyfill';\nimport { Font } from '@react-pdf/renderer';\n\nimport useEnvLoader from './src/useEnvLoader';\nimport { ActivityIndicator } from 'react-native';\nimport { Text } from 'react-native';\n\n// Screen imports\nimport WelcomeScreen from './screens/WelcomeScreen';\nimport HoseSelectionScreen from './screens/HoseSelectionScreen';\nimport FittingSelectionScreen from './screens/FittingSelectionScreen';\nimport End1FittingScreen from './screens/End1FittingScreen';\nimport BSPFittingScreen1 from './screens/BSPFittingScreen1';\nimport JICFittingScreen1 from './screens/JICFittingScreen1';\nimport MetricFittingScreen1 from './screens/MetricFittingScreen1';\nimport OrfsScreen1 from './screens/OrfsScreen1';\nimport End2FittingScreen from './screens/End2FittingScreen';\nimport BSPFittingScreen2 from './screens/BSPFittingScreen2';\nimport JICFittingScreen2 from './screens/JICFittingScreen2';\nimport MetricFittingScreen2 from './screens/MetricFittingScreen2';\nimport OrfsScreen2 from './screens/OrfsScreen2';\nimport OrientationSelectionScreen from './screens/OrientationSelectionScreen';\nimport CutLengthsScreen from './screens/CutLengthsScreen';\nimport HoseProtectionScreen from './screens/HoseProtectionScreen';\nimport PressureTestingScreen from './screens/PressureTestingScreen';\nimport ShippingOptionsScreen from './screens/ShippingOptionsScreen';\nimport OrderConfirmationScreen1 from './screens/OrderConfirmationScreen1';\nimport ShippingDetailsScreen from './screens/ShippingDetailsScreen';\nimport PaymentScreen from './screens/PaymentScreen';\nimport OrderConfirmationScreen from './screens/OrderConfirmationScreen';\nimport ScrollTestScreen from './screens/ScrollTestScreen';\nimport TrialScreen2 from './screens/TrialScreen2';\nimport OrderDetailsScreen from './screens/OrderDetailsScreen';\nimport OrderDetailsScreen1 from './screens/OrderDetailsScreen1';\nimport PaymentSuccessPage from './components/PaymentSuccessPage';\nimport PaymentReturnScreen from './screens/PaymentReturnScreen';\n\n// Register fonts for PDF generation\nFont.register({\n  family: 'Roboto',\n  fonts: [\n    { src: 'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-light-webfont.ttf' },\n    { src: 'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-bold-webfont.ttf', fontWeight: 'bold' },\n  ],\n});\n\n// Create the stack navigator\nconst Stack = createStackNavigator();\n\n/**\n * Main application component\n */\nconst App = () => {\n  const isEnvLoaded = useEnvLoader();\n  const navigationRef = useRef(null);\n  \n  // Show loading spinner while env.js is being loaded\n  if (!isEnvLoaded) {\n    return (\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n        <ActivityIndicator size=\"large\" />\n        <Text>Loading Environment...</Text>\n      </View>\n    );\n  }\n\n  return (\n    <SafeAreaProvider>\n      <NavigationContainer \n        ref={navigationRef}\n        onReady={() => {\n          // Handle PayPal return navigation if needed\n          if (Platform.OS === 'web') {\n            const urlParams = new URLSearchParams(window.location.search);\n            if (urlParams.get('screen') === 'OrderConfirmation') {\n              // Get payment status and order details\n              const success = urlParams.get('success') === 'true';\n              let orderDetails = null;\n\n              try {\n                const orderDataString = window.sessionStorage.getItem('pendingOrderData');\n                if (orderDataString) {\n                  orderDetails = JSON.parse(orderDataString);\n                  \n                  // Clean up storage\n                  window.sessionStorage.removeItem('pendingOrderData');\n                }\n              } catch (error) {\n                console.error('Error retrieving order data:', error);\n              }\n\n              // Navigate to OrderConfirmation screen\n              setTimeout(() => {\n                navigationRef.current?.navigate('OrderConfirmation', {\n                  success: success,\n                  orderDetails: orderDetails,\n                  error: !success ? 'Payment was cancelled' : null\n                });\n                \n                // Clean up URL\n                window.history.replaceState(null, '', window.location.pathname);\n              }, 500);\n            }\n          }\n        }}\n      >\n        <Stack.Navigator initialRouteName=\"Welcome\">\n          <Stack.Screen name=\"Welcome\" component={WelcomeScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"HoseSelection\" component={HoseSelectionScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"TrialScreen2\" component={TrialScreen2} options={{ headerTransparent: true, headerBackground: () => ( <View style={{ flex: 1, backgroundColor: 'white' }} /> ), title: 'Trial Screen2' }} />\n          <Stack.Screen name=\"FittingSelection\" component={FittingSelectionScreen} options={{ headerTransparent: true, headerBackground: () => ( <View style={{ flex: 1, backgroundColor: 'white' }} /> ),  title: 'Select Fitting' }} />\n          <Stack.Screen name=\"End1Fitting\" component={End1FittingScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"BSPFittingScreen1\" component={BSPFittingScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"JICFittingScreen1\" component={JICFittingScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"MetricFittingScreen1\" component={MetricFittingScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrfsScreen1\" component={OrfsScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"End2Fitting\" component={End2FittingScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"BSPFittingScreen2\" component={BSPFittingScreen2} options={{ headerShown: false }} />\n          <Stack.Screen name=\"JICFittingScreen2\" component={JICFittingScreen2} options={{ headerShown: false }} />\n          <Stack.Screen name=\"MetricFittingScreen2\" component={MetricFittingScreen2} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrfsScreen2\" component={OrfsScreen2} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrientationSelectionScreen\" component={OrientationSelectionScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"CutLengths\" component={CutLengthsScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"HoseProtection\" component={HoseProtectionScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"PressureTesting\" component={PressureTestingScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"ShippingOptions\" component={ShippingOptionsScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrderConfirmation1\" component={OrderConfirmationScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"ShippingDetails\" component={ShippingDetailsScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"Payment\" component={PaymentScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrderConfirmation\" component={OrderConfirmationScreen} options={{ headerLeft: null }} />\n          <Stack.Screen name=\"OrderDetails\" component={OrderDetailsScreen} options={{ title: 'Order Details', headerBackTitle: 'Back' }}/>\n          <Stack.Screen name=\"OrderDetails1\" component={OrderDetailsScreen1} options={{ headerShown: false }}/>\n          <Stack.Screen name=\"payment_success\" component={PaymentSuccessPage} options={{ headerShown: false }}/>\n          <Stack.Screen name=\"PaymentSuccess\" component={PaymentReturnScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"PaymentCancel\" component={PaymentReturnScreen} options={{ headerShown: false }} />\n        </Stack.Navigator>\n      </NavigationContainer>\n    </SafeAreaProvider>\n  );\n};\n\nexport default App;","// components/PDFGenerator/WebPDFGenerator.js\nimport React from 'react';\nimport html2canvas from 'html2canvas';\nimport { jsPDF } from 'jspdf';\n\nconst WebPDFGenerator = ({ contentRef, onGenerateStart, onGenerateComplete, onError, orderId }) => {\n  const generatePDF = async ({ silent = false } = {}) => {\n    try {\n      if (!contentRef.current) return;\n      \n      onGenerateStart?.();\n\n      const element = contentRef.current;\n      const canvas = await html2canvas(element, {\n        scale: 2,\n        useCORS: true,\n        logging: false\n      });\n\n      const imgData = canvas.toDataURL('image/jpeg', 1.0);\n      const pdf = new jsPDF({\n        orientation: 'portrait',\n        unit: 'px',\n        format: [canvas.width, canvas.height]\n      });\n\n      pdf.addImage(imgData, 'JPEG', 0, 0, canvas.width, canvas.height);\n      \n      // Get PDF as buffer for email\n      const pdfBuffer = pdf.output('arraybuffer');\n\n      // If not silent, trigger download\n      if (!silent) {\n        // Generate filename using Order ID\n        const filename = `Order_${orderId}.pdf`;\n        \n        // Create blob and URL for download\n        const pdfBlob = new Blob([pdfBuffer], { type: 'application/pdf' });\n        const pdfUrl = URL.createObjectURL(pdfBlob);\n        \n        // Create and trigger download link\n        const link = document.createElement('a');\n        link.href = pdfUrl;\n        link.download = filename;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        // Clean up\n        URL.revokeObjectURL(pdfUrl);\n      }\n      \n      // Call onGenerateComplete with the PDF buffer\n      onGenerateComplete?.(pdfBuffer);\n      \n      return pdfBuffer;\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n      onError?.(error);\n      return null;\n    }\n  };\n\n  return { generatePDF };\n};\n\nexport default WebPDFGenerator;","// src/crypto-polyfill.js\nif (typeof window !== 'undefined') {\n    if (!window.crypto) {\n      window.crypto = {};\n    }\n    if (!window.crypto.randomUUID) {\n      window.crypto.randomUUID = () => {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n          const r = Math.random() * 16 | 0;\n          const v = c === 'x' ? r : (r & 0x3 | 0x8);\n          return v.toString(16);\n        });\n      };\n    }\n  }","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + {\"159\":\"56ee9cc0\",\"331\":\"d16c3da6\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [52], () => (__webpack_require__(5819)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_useState","useState","_useState2","_slicedToArray","isEnvLoaded","setIsEnvLoaded","useEffect","Promise","resolve","reject","script","document","createElement","src","async","onload","onerror","err","head","appendChild","then","catch","error","console","_ref","children","style","wrapperRef","useRef","gradientRef","checkScroll","current","wrapper","scrollableDistance","scrollHeight","clientHeight","currentScroll","scrollTop","isScrollable","isAtBottom","Math","ceil","floor","opacity","resizeObserver","ResizeObserver","entries","initialChecks","setTimeout","observe","addEventListener","MutationObserver","childList","subtree","window","removeEventListener","disconnect","_jsxs","ref","_objectSpread","height","overflowY","position","backgroundColor","isolation","_jsx","minHeight","paddingBottom","zIndex","bottom","left","right","background","pointerEvents","transition","styles","StyleSheet","create","container","flex","mainContainer","contentContainer","alignItems","logoContainer","justifyContent","marginVertical","width","logo","resizeMode","titleContainer","alignSelf","marginBottom","borderRadius","paddingVertical","paddingHorizontal","title","fontSize","fontWeight","color","messageContainer","messageText","highlightText","imageContainer","hoseImage","instructionsContainer","instructionsText","lineHeight","textAlign","spacedText","marginTop","startButton","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","startButtonText","asteriskContainer","asteriskText","copyrightText","fontStyle","modalOverlay","overlayBackground","top","selectionContainer","padding","selectionTitle","selectionButton","minWidth","borderWidth","borderColor","selectedButton","selectionButtonText","enquiryText","contactText","textDecorationLine","appCreditsText","feedbackFlyerContainer","feedbackSlideContainer","overflow","feedbackTitle","feedbackSlide","feedbackImage","feedbackText","feedbackIndicators","flexDirection","taglineText","indicator","marginHorizontal","activeIndicator","ebayStoreRow","linkText","navigation","fadeAnim","Animated","Value","showSelectionModal","setShowSelectionModal","modalFadeAnim","_useState3","_useState4","setSelectedButton","_useState5","_useState6","currentFeedbackIndex","setCurrentFeedbackIndex","feedbackFadeAnim","handleCloseModal","timing","toValue","duration","useNativeDriver","start","feedbackComments","id","image","require","useFocusEffect","React","setValue","interval","setInterval","prev","length","clearInterval","View","ScrollableGradientWrapper","SafeAreaView","Image","source","Text","TouchableOpacity","onPress","Linking","openURL","text","map","_","index","Date","getFullYear","Modal","transparent","visible","onRequestClose","activeOpacity","navigate","isHoseOnly","selectedHose","selectedHosePrice","isOrderFittingMode","DEFAULT_HOSE_PRICES","getHosePrices","_asyncToGenerator","response","fetch","method","headers","log","status","ok","errorText","Error","JSON","parse","hosePrices","apply","arguments","SCREEN_WIDTH","Dimensions","get","isMobile","HoseSizeButton","min","size","insideDiameter","specs","hosePrice","isSelected","buttonContainer","sizeButton","selectedSizeButton","sizeContent","sizeButtonText","sizeDescription","numberOfLines","ellipsizeMode","hoseImageContainer","hoseCrossSection","priceBorder","selectedPriceBorder","priceText","selectedPriceText","specsContainer","spec","specText","mainScrollView","mainScrollViewContent","flexGrow","loadingContainer","loadingContent","loadingLogo","loadingText","titleWrapper","titleText","scrollView","scrollViewContent","maxWidth","marginRight","innerContainer","selectedInnerContainer","whiteSpace","transform","scale","marginLeft","floatingBackButton","backButtonText","footer","floatingFooter","borderTopWidth","borderTopColor","viewportFooter","footerContent","footerLeft","footerCenter","footerRight","hoseOnlyButton","hoseOnlyButtonText","placeholderButton","_ref2","route","useNavigation","selectedSize","setSelectedSize","setSelectedHosePrice","loadingFadeAnim","contentFadeAnim","showContent","setShowContent","params","_useState7","_useState8","prices","setPrices","_useState9","_useState10","isLoading","setIsLoading","hoseSizes","useMemo","loadPrices","_ref4","fetchedPrices","sequence","delay","goBack","Svg","viewBox","fill","Path","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ScrollView","contentContainerStyle","showsVerticalScrollIndicator","hose","cleanPrice","trim","split","handleSizeSelection","subtitle","fittingType","fittingOption","selectedOption","fittingShape","selectedFitting","setSelectedFitting","type","shapes","fitting","shape","handleSelection","BUTTON_WIDTH","FittingTypeButton","description","onHelpPress","fittingButton","selectedFittingButton","fittingContent","fittingButtonText","fittingDescription","helpIcon","hitSlop","helpIconBackground","helpIconText","circleWrapper","circleText","diagram","diagramSpacing","paddingRight","helpImageContainer","helpImage","closeButton","closeButtonText","clickToEnlargeText","diagramImageContainer","enlargedDiagram","_route$params","showSizeModal","setShowSizeModal","sizeFadeAnim","showHelpOverlay","setShowHelpOverlay","currentHelpImage","setCurrentHelpImage","helpFadeAnim","_useState11","_useState12","showDiagramOverlay","setShowDiagramOverlay","diagramFadeAnim","fittingTypes","handleCloseSizeModal","closeHelpOverlay","closeDiagramOverlay","_Fragment","baseParams","handleFittingSelection","TouchableWithoutFeedback","DEFAULT_BSP_PRICES","getBSPPrices","bspPrices","screenWidth","MAX_COLUMN_WIDTH","adjustPrice","basePrice","price","parseFloat","toFixed","ShapeButton","imagePath","shapeButton","selectedShapeButton","shapeButtonContent","shapeButtonSubtitle","shapeButtonImageContainer","shapeButtonImage","SizeButton","sizeButtonContentStyle","sizeTextContainerStyle","priceBorderStyle","adjustedPrice","toString","sizeTextContainer","touchAction","WebkitOverflowScrolling","animatedContainer","column","sectionTitleContainer","sectionTitle","sectionTitleText","sectionSubtitle","placeholderColumn","sizeButtonContent","bottomContainer","fittingTypeContainer","fittingTypeText","ferruleContainer","ferruleImage","ferruleTextContainer","ferruleText","_ref3","selectedShape","setSelectedShape","_route$params$selecte","_route$params$selecte2","_route$params$selecte3","name","allSizes","compatibilityMatrix","sizes","hoseSize","compatibleSizes","filter","sizeObj","includes","getFilteredSizes","useCallback","handleNavigation","end1Shape","end1Size","end1Price","selectedEnd2Fitting","end2Shape","end2Size","end2Price","selectedAngle","handleShapeSelection","selectedSizeObj","find","DEFAULT_JIC_PRICES","getJICPrices","jicPrices","DEFAULT_METRIC_PRICES","getMetricPrices","metricPrices","DEFAULT_ORFS_PRICES","getORFSPrices","orfsPrices","setSelectedEnd2Fitting","_ref5","isStraightFitting","priceNumeric","useRoute","AngleButton","angle","angleButton","selectedAngleButton","angleImage","angleText","helpIconVisual","NotSureButton","notSureButton","notSureText","notSureSubtext1","notSureSubtext2","subtitleContainer","subtitleText","undefined","aspectRatio","angleButtonsContainer","flexWrap","angleButtonWrapper","setSelectedAngle","angles","handleAngleSelection","centerContent","slice","angleData","button","arrow","borderBottomWidth","borderLeftWidth","borderBottomColor","borderLeftColor","buttonActive","textActive","arrowActive","isActive","scrollContent","selectedHoseContainer","selectedHoseHeader","selectedHoseSize","selectedHosePriceContainer","quantityRow","quantityContainer","quantityInput","errorContainer","inputError","cutLengthsContainer","cutLengthRow","cutLengthText","rowLabelContainer","rowNumberContainer","rowNumber","cutLengthInputContainer","cutLengthInput","unitText","pricingContainer","easterEggContainer","margin","easterEggText","iosNextButtonContainer","quantity","setQuantity","setError","unit","cutLengths","setCutLengths","showCutLengths","setShowCutLengths","allLengthsFilled","setAllLengthsFilled","lastInputIndex","setLastInputIndex","_useState13","_useState14","cutLengthErrors","setCutLengthErrors","quantityInputRef","inputRefs","_useState15","_useState16","totalPrice","setTotalPrice","_useState17","_useState18","cutLengthPrice","setCutLengthPrice","_useState19","_useState20","hasSubmitted","setHasSubmitted","_useState21","_useState22","initialValidationDone","setInitialValidationDone","_useState23","_useState24","devModeActive","setDevModeActive","_useState25","_useState26","easterEggMessage","setEasterEggMessage","_useState27","_useState28","showEasterEgg","setShowEasterEgg","DynamicPriceDisplay","timer","focus","clearTimeout","num","parseInt","maxQuantity","isNaN","Array","allFilled","every","cut","emptyFields","newErrors","_toConsumableArray","forEach","test","validateQuantity","value","handleQuantitySubmit","calculatePrice","updateCutLength","updatedLengths","updatedErrors","lengthValue","numLength","allFieldsValid","idx","handleNext","animationConfig","isDevMode","qty","totalEnd1Price","totalEnd2Price","lengths","some","calculatedPrice","reduce","sum","handleInputSubmit","currentValue","hasErrors","TextInput","onChangeText","onSubmitEditing","onEndEditing","onBlur","blurOnSubmit","keyboardType","maxLength","returnKeyType","enterKeyHint","inputMode","autoComplete","el","placeholder","placeholderTextColor","onKeyPress","e","nativeEvent","key","preventDefault","handleKeyPress","navigator","userAgent","MSStream","iosValidationContainer","iosValidationButton","_cutLengths$","_cutLengths$2","_cutLengths$3","_cutLengths$4","shouldShowNextButton","NextArrowButton","ProtectionTypeButton","protectionButton","selectedProtectionButton","protectionContent","protectionButtonText","contentRow","protectionImage","priceContainer","noImageContentCentered","PriceDisplay","hasProtection","titleFade","priceFade","pricingCard","pricingHeader","pricingValueContainer","pricingValue","subtitleContainer2","subtitleText2","noImageButton","paddingTop","noImageContent","paddingLeft","noImagePlaceholder","noImageSubtext","leftColumn","rightColumn","priceSummaryContainer","priceRow","priceLabel","priceValue","protectionCost","pricingSection","marginBottom20","selectedProtection","setSelectedProtection","initialPrice","setInitialPrice","protectionPrice","setProtectionPrice","protectionTypes","PROTECTION_PRICE_MULTIPLIERS","navigateToNext","nextScreen","hoseProtectionPrice","protection","parallel","newPrice","hasTestingSelected","PressureButton","pressureButton","selectedPressureButton","pressureButtonText","selectedPressure","setSelectedPressure","pressureTestPrice","setPressureTestPrice","pressure","numberOfHoses","pressureTestTotalCost","buttonsContainer","handlePressureSelection","ShippingButton","shippingButton","selectedShippingButton","shippingContent","shippingButtonText","selectedPricingValueContainer","withShipping","selectedService","setSelectedService","setBasePrice","shippingPrice","setShippingPrice","receivedBasePrice","totalBeforeShipping","service","finalPrice","devPrice","shippingCost","totalPriceWithShipping","LabelItem","labelItem","labelText","BorderedItem","isCutLengths","borderedItem","cutLengthsLayout","cutLengthsContent","cutLengthsPriceBorder","itemText","NumberedCircle","number","numberedCircle","numberedCircleText","TotalPriceDisplay","total","totalPriceContainer","totalPriceLabelItem","totalPriceLabelText","totalPriceValueContainer","totalPriceValueText","ShippingCostNotice","shippingNoticeContainer","shippingNoticeText","cleanPriceString","priceStr","replace","mainContentContainer","orderDetailsContainer","rowContainer","itemContent","itemImage","totalPriceBorder","confirmButton","confirmButtonText","_React$useState","_React$useState2","setIsSelected","selectedMethod","getTotalLength","orderDetails","end1","end2","hoseProtection","pressureTest","shippingMethod","shippingService","calculatePrices","baseHosePrice","protectionAmount","finalShippingCost","calculatedPrices","displayTotalPrice","details","push","Object","_ref6","_ref7","_ref8","label","content","_ref9","i","toUpperCase","renderOrderDetails","STATES","requiredFieldsText","asterisk","formContainer","inputRow","labelContainer","inputContainer","input","pickerContainer","picker","proceedButton","proceedButtonText","formSubmitAttempted","setFormSubmitAttempted","companyName","address","suburb","state","postcode","email","contactNumber","formFields","setFormFields","setTouchedFields","errors","setErrors","validateField","updateField","_defineProperty","renderInputField","inputModeValue","isOptional","additionalProps","currentFieldName","keys","handleInputBlur","fieldName","validateAllFields","Picker","selectedValue","onValueChange","itemValue","itemStyle","Item","shippingDetails","paypalUrl","onNavigationStateChange","paypalWindowRef","checkIntervalRef","hasOpenedWindow","open","_paypalWindowRef$curr","_paypalWindowRef$curr2","_paypalWindowRef$curr3","closed","cleanupAndClose","location","href","currentUrl","handleSuccess","handleCancel","close","url","webView","getEnvironmentConfig","json","environment","process","EXPO_PUBLIC_PAYPAL_ENVIRONMENT","sandboxEmail","EXPO_PUBLIC_PAYPAL_SANDBOX_EMAIL","productionEmail","EXPO_PUBLIC_PAYPAL_PRODUCTION_EMAIL","PAYPAL_CONFIG","IS_SANDBOX","MERCHANT_EMAIL","SANDBOX","PRODUCTION","BASE_URLS","getPayPalConfig","envConfig","mode","isSandbox","merchantEmail","baseUrl","totalContainer","totalText","paypalContainer","paypalButton","paypalButtonDisabled","paypalButtonText","securePaymentText","shippingDetailsContainer","detailsGrid","gap","detailRow","detailLabel","detailValue","priceBreakdownContainer","priceDetailsGrid","loadingOverlay","showPayPalModal","setShowPayPalModal","setPaypalUrl","isProcessing","setIsProcessing","calculatedSubtotal","end1Cost","end2Cost","cutLengthCost","totalLength","calculateTotalBeforeShipping","subtotal","shippingAmount","gst","finalTotal","animation","stop","handlePayPalPress","config","successUrl","cancelUrl","origin","userDetails","paymentId","now","amount","timestamp","toISOString","checksum","random","substring","stringify","sessionStorage","removeItem","setItem","getItem","paypalRedirectUrl","URLSearchParams","cmd","business","currency_code","item_name","return","cancel_return","rm","Alert","alert","PayPalWebView","navState","reset","routes","success","ActivityIndicator","sendOrderEmail","priceBreakdown","calculatePriceBreakdown","priceBreakdownHTML","generatePriceBreakdownHTML","pdfAttachment","binaryString","Uint8Array","acc","byte","String","fromCharCode","btoa","emailData","emailTemplates","businessEmailContent","generateBusinessEmailContent","customerEmailContent","generateCustomerEmailContent","body","data","message","_x","subtotalWithShipping","shipping","formatPrice","_orderDetails$userDet","_orderDetails$userDet2","_orderDetails$userDet3","_orderDetails$userDet4","_orderDetails$userDet5","_orderDetails$userDet6","_orderDetails$userDet7","orderNumber","_orderDetails$userDet8","_orderDetails$userDet9","_orderDetails$userDet10","_orderDetails$userDet11","_orderDetails$userDet12","successTitle","emailTitle","detailsBox","boxHeader","boxHeaderText","totalLabel","totalValue","cutLengthsContentWrapper","actionButton","buttonText","bulletPoints","bulletPoint","tryAgainButton","tryAgainText","copyrightContainer","floatingDownloadButton","disabledButton","touchableArea","contentRef","isGeneratingPDF","setIsGeneratingPDF","emailSent","setEmailSent","setPriceBreakdown","calculatedBreakdown","storedOrderData","parsedOrderData","setParams","search","backHandler","BackHandler","handlePlaceAnotherOrder","remove","autoGeneratePDF","generatePDF","silent","_PDFGenerator","PDFGenerator","orderId","onGenerateStart","onGenerateComplete","_onGenerateComplete","pdfBuffer","userEmail","totalAmount","onError","handlePDFDownload","renderShippingDetails","renderOrderSummary","handlePhonePress","handleEmailPress","disabled","objectFit","alt","headerSection","statusBadge","statusText","section","totalRow","actionButtons","shareButton","shareButtonText","newOrderButton","newOrderButtonText","sectionContent","handleShareOrder","shareMessage","Share","share","renderSection","maxHeight","blob","pdf","OrderPDF","toBlob","URL","createObjectURL","link","download","click","removeChild","revokeObjectURL","ScreenWrapper","opener","errorMessage","setErrorMessage","pathname","isSuccess","orderDataString","Font","register","family","fonts","Stack","createStackNavigator","useEnvLoader","navigationRef","SafeAreaProvider","NavigationContainer","onReady","urlParams","_navigationRef$curren","history","replaceState","Navigator","initialRouteName","Screen","component","WelcomeScreen","options","headerShown","HoseSelectionScreen","TrialScreen2","headerTransparent","headerBackground","FittingSelectionScreen","End1FittingScreen","BSPFittingScreen1","JICFittingScreen1","MetricFittingScreen1","OrfsScreen1","End2FittingScreen","BSPFittingScreen2","JICFittingScreen2","MetricFittingScreen2","OrfsScreen2","OrientationSelectionScreen","CutLengthsScreen","HoseProtectionScreen","PressureTestingScreen","ShippingOptionsScreen","OrderConfirmationScreen1","ShippingDetailsScreen","PaymentScreen","OrderConfirmationScreen","headerLeft","OrderDetailsScreen","headerBackTitle","OrderDetailsScreen1","PaymentSuccessPage","PaymentReturnScreen","_ref3$silent","element","canvas","html2canvas","useCORS","logging","imgData","toDataURL","jsPDF","orientation","format","addImage","output","filename","pdfBlob","Blob","pdfUrl","crypto","randomUUID","c","r","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","splice","n","getter","__esModule","a","leafPrototypes","getProto","getPrototypeOf","obj","t","this","ns","def","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","f","chunkId","all","promises","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","event","doneFns","parentNode","bind","target","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}