{"version":3,"file":"static/js/main.c17590af.js","mappings":"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","sources":["src/useEnvLoader.js","components/ScrollableGradientWrapper.js","screens/WelcomeScreen.js","components/Prices/HosePrices.js","screens/HoseSelectionScreen.js","screens/FittingSelectionScreen.js","screens/End1FittingScreen.js","components/Prices/BSPPrices.js","screens/BSPFittingScreen1.js","components/Prices/JICPrices.js","screens/JICFittingScreen1.js","components/Prices/MetricPrices.js","screens/MetricFittingScreen1.js","components/Prices/ORFSPrices.js","screens/OrfsScreen1.js","screens/End2FittingScreen.js","screens/BSPFittingScreen2.js","screens/JICFittingScreen2.js","screens/MetricFittingScreen2.js","screens/OrfsScreen2.js","screens/OrientationSelectionScreen.js","screens/NextArrowButton.js","screens/CutLengthsScreen.js","screens/HoseProtectionScreen.js","screens/PressureTestingScreen.js","screens/ShippingOptionsScreen.js","context/CartContext.js","components/GlobalCartButton.js","components/PDFGenerator/index.js","components/OrderConfirmation1/OrderPDFGeneration.js","components/OrderConfirmation1/OrderSummaryDisplay.js","screens/OrderConfirmationScreen1.js","screens/ShippingDetailsScreen.js","components/PayPalButtonWrapper.js","screens/PaymentScreen.js","utils/emailService.js","screens/OrderConfirmationScreen.js","screens/TrialScreen2.js","screens/OrderDetailsScreen.js","components/ScreenWrapper.js","screens/OrderDetailsScreen1.js","components/PaymentSuccessPage.js","screens/PaymentReturnScreen.js","screens/CartScreen.js","App.js","components/PDFGenerator/WebPDFGenerator.js","src/crypto-polyfill.js","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nconst useEnvLoader = () => {\n  const [isEnvLoaded, setIsEnvLoaded] = useState(false);\n\n  useEffect(() => {\n    const loadEnvScript = () => {\n      return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.src = 'http://localhost:3001/env.js';  // Reference to your env.js\n        script.async = true;\n        script.onload = () => resolve(true);\n        script.onerror = (err) => reject(err);\n        document.head.appendChild(script);\n      });\n    };\n\n    loadEnvScript()\n      .then(() => {\n        setIsEnvLoaded(true);\n      })\n      .catch((error) => {\n        console.error('Error loading env.js:', error);\n        setIsEnvLoaded(true);  // We can still proceed even if it fails\n      });\n  }, []);\n\n  return isEnvLoaded;\n};\n\nexport default useEnvLoader;\n","// components/ScrollableGradientWrapper.js\nimport React, { useEffect, useRef } from 'react';\nimport { View, Platform } from 'react-native';\n\nconst ScrollableGradientWrapper = ({ children, style }) => {\n  const wrapperRef = useRef(null);\n  const gradientRef = useRef(null);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const checkScroll = () => {\n        if (!wrapperRef.current || !gradientRef.current) return;\n\n        const wrapper = wrapperRef.current;\n        const scrollableDistance = wrapper.scrollHeight - wrapper.clientHeight;\n        const currentScroll = wrapper.scrollTop;\n        const isScrollable = scrollableDistance > 0;\n        const isAtBottom = Math.ceil(currentScroll) >= Math.floor(scrollableDistance);\n\n        // Show/hide gradient\n        if (gradientRef.current) {\n          gradientRef.current.style.opacity = (isScrollable && !isAtBottom) ? '1' : '0';\n        }\n      };\n\n      // Create ResizeObserver to monitor content size changes\n      const resizeObserver = new ResizeObserver((entries) => {\n        checkScroll();\n      });\n\n      // Initial checks with multiple timings\n      const initialChecks = () => {\n        checkScroll();\n        setTimeout(checkScroll, 100);\n        setTimeout(checkScroll, 500);\n        setTimeout(checkScroll, 1000);\n      };\n\n      if (wrapperRef.current) {\n        // Observe size changes\n        resizeObserver.observe(wrapperRef.current);\n        \n        // Add scroll listener\n        wrapperRef.current.addEventListener('scroll', checkScroll);\n        \n        // Watch for content changes\n        const mutationObserver = new MutationObserver(initialChecks);\n        mutationObserver.observe(wrapperRef.current, {\n          childList: true,\n          subtree: true\n        });\n\n        // Initial check\n        initialChecks();\n      }\n\n      // Handle window resize\n      window.addEventListener('resize', checkScroll);\n\n      // Cleanup\n      return () => {\n        if (wrapperRef.current) {\n          wrapperRef.current.removeEventListener('scroll', checkScroll);\n        }\n        resizeObserver.disconnect();\n        window.removeEventListener('resize', checkScroll);\n      };\n    }\n  }, []);\n\n  if (Platform.OS === 'web') {\n    return (\n      <div\n        ref={wrapperRef}\n        style={{\n          height: '100vh',\n          overflowY: 'auto',\n          position: 'relative',\n          backgroundColor: 'white',\n          ...style,\n          isolation: 'isolate',\n        }}\n      >\n        <div style={{ \n          minHeight: '100%',\n          paddingBottom: '100px',\n          position: 'relative',\n          zIndex: 1\n        }}>\n          {children}\n        </div>\n        <div \n          ref={gradientRef}\n          style={{\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            height: '120px',\n            background: 'linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 30%, rgba(255, 255, 255, 1) 100%)',\n            pointerEvents: 'none',\n            zIndex: 2,\n            transition: 'opacity 0.3s ease',\n            opacity: '0'\n          }} \n        />\n      </div>\n    );\n  }\n\n  return <View style={style}>{children}</View>;\n};\n\nexport default ScrollableGradientWrapper;","import React, { useRef, useEffect, useState } from 'react';\r\nimport { View, Text, StyleSheet, Image, TouchableOpacity, Animated, SafeAreaView, Modal, Platform, Dimensions } from 'react-native';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { Linking } from 'react-native';\r\n\r\n// Assuming ScrollableGradientWrapper is correctly imported from '../components/ScrollableGradientWrapper'\r\n\r\nconst WelcomeScreen = ({ navigation }) => {\r\nconst fadeAnim = useRef(new Animated.Value(1)).current;\r\nconst [showSelectionModal, setShowSelectionModal] = useState(false);\r\nconst modalFadeAnim = useRef(new Animated.Value(0)).current;\r\nconst [selectedButton, setSelectedButton] = useState(null);\r\nconst [currentFeedbackIndex, setCurrentFeedbackIndex] = useState(0);\r\nconst handleEbayStorePress = () => {Linking.openURL('https://www.ebay.com.au/str/fluidpowergroup');};\r\nconst feedbackFadeAnim = useRef(new Animated.Value(1)).current;\r\n\r\nconst handleStartSelection = () => {\r\nsetShowSelectionModal(true);\r\nAnimated.timing(modalFadeAnim, {\r\ntoValue: 1,\r\nduration: 800,\r\n// Use native driver where possible, but be mindful of layout properties if issues arise\r\nuseNativeDriver: Platform.OS !== 'web', // Generally safe for opacity\r\n}).start();\r\n};\r\n\r\n// Helper function for modal closing animation and navigation\r\nconst animateAndNavigate = (buttonKey, screenName, params = {}) => {\r\nsetSelectedButton(buttonKey);\r\nAnimated.timing(modalFadeAnim, {\r\ntoValue: 0,\r\nduration: 500, // Consistent duration for closing\r\nuseNativeDriver: Platform.OS !== 'web',\r\n}).start(() => {\r\nsetShowSelectionModal(false);\r\nsetSelectedButton(null); // Reset selection after animation completes\r\nnavigation.navigate(screenName, params);\r\n});\r\n};\r\n\r\nconst handleBuildHose = () => {\r\nanimateAndNavigate('build', 'HoseSelection', { isHoseOnly: false });\r\n};\r\n\r\nconst handleHoseOnly = () => {\r\nanimateAndNavigate('hoseOnly', 'HoseSelection', { isHoseOnly: true });\r\n};\r\n\r\nconst handleOrderFitting = () => {\r\nanimateAndNavigate('order', 'End1Fitting', {\r\nselectedHose: null,\r\nselectedHosePrice: null,\r\nisOrderFittingMode: true\r\n});\r\n};\r\n\r\n// --- New Handler for Adapters ---\r\nconst handleOrderAdapter = () => {\r\nanimateAndNavigate('adapter', 'AdapterShape'); // Navigate to the new screen\r\n};\r\n// --- End New Handler ---\r\n\r\nconst handleCloseModal = () => {\r\nAnimated.timing(modalFadeAnim, {\r\ntoValue: 0,\r\nduration: 500,\r\nuseNativeDriver: Platform.OS !== 'web',\r\n}).start(() => {\r\nsetShowSelectionModal(false);\r\nsetSelectedButton(null);\r\n});\r\n};\r\n\r\nconst feedbackComments = [\r\n{ id: 1, image: require('../assets/feedback1.png')},\r\n{ id: 2, image: require('../assets/feedback2.png')},\r\n{ id: 3, image: require('../assets/feedback3.png')},\r\n{ id: 4, image: require('../assets/feedback4.png')},\r\n{ id: 5, image: require('../assets/feedback5.png')},\r\n{ id: 6, image: require('../assets/feedback6.png')},\r\n];\r\n\r\nconst fadeIn = () => {\r\nfadeAnim.setValue(0);\r\nAnimated.timing(fadeAnim, {\r\ntoValue: 1,\r\nduration: 800,\r\nuseNativeDriver: Platform.OS !== 'web',\r\n}).start();\r\n};\r\n\r\nuseFocusEffect(\r\nReact.useCallback(() => {\r\nfadeIn();\r\n// Ensure modal is hidden and animation reset if navigating back\r\nsetShowSelectionModal(false);\r\nmodalFadeAnim.setValue(0);\r\nsetSelectedButton(null);\r\nreturn () => {\r\n// Optional cleanup if needed when screen loses focus\r\n};\r\n}, [])\r\n);\r\n\r\nuseEffect(() => {\r\nconst interval = setInterval(() => {\r\nAnimated.timing(feedbackFadeAnim, {\r\ntoValue: 0,\r\nduration: 400,\r\nuseNativeDriver: true,\r\n}).start(() => {\r\nsetCurrentFeedbackIndex((prev) =>\r\nprev === feedbackComments.length - 1 ? 0 : prev + 1\r\n);\r\nAnimated.timing(feedbackFadeAnim, {\r\ntoValue: 1,\r\nduration: 400,\r\nuseNativeDriver: true,\r\n}).start();\r\n});\r\n}, 5000);\r\n\r\nreturn () => clearInterval(interval);\r\n\r\n}, [feedbackComments.length]);\r\n\r\nconst handlePhonePress = () => {\r\nLinking.openURL('tel:+61409517333');\r\n};\r\n\r\nconst handleEmailPress = () => {\r\nLinking.openURL('mailto:info@fluidpowergroup.com.au');\r\n};\r\n\r\nreturn (\r\n<View style={styles.mainContainer}>\r\n{/* Ensure ScrollableGradientWrapper is correctly implemented */}\r\n<ScrollableGradientWrapper>\r\n<SafeAreaView style={styles.container}>\r\n<View style={styles.logoContainer}>\r\n<Image\r\nsource={require('../assets/fluidpower_logo.gif')}\r\nstyle={styles.logo}\r\nresizeMode=\"contain\"\r\n/>\r\n</View>\r\n<Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n<View style={styles.titleContainer}>\r\n<Text style={styles.title}>Hydraulic Hose Builder</Text>\r\n</View>\r\n\r\n<View style={styles.messageContainer}>\r\n          <Text style={styles.messageText}>\r\n            You are just a <Text style={styles.highlightText}>FEW</Text> steps away from\r\n          </Text>\r\n          <Text style={styles.messageText}>\r\n            <Text style={styles.highlightText}>CREATING</Text> your <Text style={styles.highlightText}>OWN HYDRAULIC HOSE</Text>\r\n          </Text>\r\n        </View>\r\n\r\n        <View style={styles.imageContainer}>\r\n          <Image\r\n            source={require('../assets/welcome_hose.png')}\r\n            style={styles.hoseImage}\r\n            resizeMode=\"contain\"\r\n          />\r\n        </View>\r\n\r\n        <View style={styles.instructionsContainer}>\r\n          <Text style={styles.instructionsText}>\r\n            Select the <Text style={styles.highlightText2}>Hose Size</Text>, <Text style={styles.highlightText2}>End Fittings</Text>\r\n          </Text>\r\n          <Text style={styles.instructionsText}>\r\n            and <Text style={styles.highlightText2}>Cut Length</Text>.\r\n          </Text>\r\n\r\n          <Text style={[styles.instructionsText, styles.spacedText]}>\r\n            We will crimp and ship it the <Text style={styles.highlightText}>SAME DAY</Text>*.\r\n          </Text>\r\n\r\n          <Text style={[styles.instructionsText, styles.spacedText]}>\r\n            You're all set!\r\n          </Text>\r\n\r\n          <Text style={[styles.instructionsText, styles.spacedText]}>\r\n            Let's get started.\r\n          </Text>\r\n        </View>\r\n\r\n        <TouchableOpacity\r\n          style={styles.startButton}\r\n          onPress={handleBuildHose}\r\n        >\r\n          <Text style={styles.startButtonText}>START SELECTION</Text>\r\n        </TouchableOpacity>\r\n\r\n        {/* Feedback flyer \r\n         \r\n        <View style={styles.feedbackFlyerContainer}>\r\n          <Text style={styles.feedbackHeading}>Hear From Our Customers</Text>\r\n          <View style={styles.ebayStoreRow}>\r\n            <Text style={styles.ebaySourceText}>Genuine feedback from our </Text>\r\n            <TouchableOpacity onPress={handleEbayStorePress}>\r\n              <Text style={styles.ebayLinkText}>eBay Store</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={styles.feedbackSlideContainer}>\r\n            <Animated.View\r\n              style={[\r\n                styles.feedbackSlide,\r\n                { opacity: feedbackFadeAnim }\r\n              ]}\r\n            >\r\n              <Image\r\n                source={feedbackComments[currentFeedbackIndex].image}\r\n                style={styles.feedbackImage}\r\n                resizeMode=\"contain\"\r\n              />\r\n            </Animated.View>\r\n          </View>\r\n\r\n          <Text style={styles.taglineText}>Trusted Service, Now Direct To You!</Text>\r\n\r\n          <View style={styles.feedbackIndicators}>\r\n            {feedbackComments.map((_, index) => (\r\n              <View\r\n                key={index}\r\n                style={[\r\n                  styles.indicator,\r\n                  currentFeedbackIndex === index && styles.activeIndicator\r\n                ]}\r\n              />\r\n            ))}\r\n          </View>\r\n        </View>\r\n        \r\n           */}\r\n\r\n        <View style={styles.asteriskContainer}>\r\n          <Text style={styles.asteriskText}>\r\n            *<Text style={styles.highlightText}>CUT OFF</Text> time for{' '}\r\n            <Text style={styles.highlightText}>SAME DAY</Text> shipping is{' '}\r\n            <Text style={styles.highlightText}>1530</Text> hrs AEST.\r\n          </Text>\r\n\r\n          <Text style={styles.enquiryText}>\r\n            For any and all enquiries:\r\n          </Text>\r\n\r\n          <TouchableOpacity onPress={handlePhonePress}>\r\n            <Text style={styles.contactText}>\r\n              +61 409 517 333\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity onPress={handleEmailPress}>\r\n            <Text style={styles.contactText}>\r\n              email: info@fluidpowergroup.com.au\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <Text style={styles.copyrightText}>\r\n            FluidPower Group All Rights Reserved {new Date().getFullYear()}\r\n          </Text>\r\n\r\n          <Text style={styles.appCreditsText}>\r\n            app by aBC\r\n          </Text>\r\n        </View>\r\n      </Animated.View>\r\n    </SafeAreaView>\r\n  </ScrollableGradientWrapper>\r\n\r\n  {/* --- Modal Update --- */}\r\n  <Modal\r\n    transparent={true}\r\n    visible={showSelectionModal}\r\n    onRequestClose={handleCloseModal}\r\n    animationType=\"none\" // Control animation manually\r\n  >\r\n    <View style={styles.modalOverlay}>\r\n      <TouchableOpacity\r\n        style={styles.overlayBackground}\r\n        activeOpacity={1}\r\n        onPress={handleCloseModal}\r\n      />\r\n      <Animated.View style={[styles.selectionContainer, { opacity: modalFadeAnim, transform: [{ scale: modalFadeAnim }] }]}>\r\n        {/* Added scale transform for a subtle zoom effect */}\r\n        <Text style={styles.selectionTitle}>You are here to</Text>\r\n\r\n        <TouchableOpacity\r\n          style={[\r\n            styles.selectionButton,\r\n            selectedButton === 'hoseOnly' && styles.selectedButton\r\n          ]}\r\n          onPress={handleHoseOnly}\r\n        >\r\n          <Text style={styles.selectionButtonText}>Order Hose Only</Text>\r\n        </TouchableOpacity>\r\n\r\n        <TouchableOpacity\r\n          style={[\r\n            styles.selectionButton,\r\n            selectedButton === 'order' && styles.selectedButton\r\n          ]}\r\n          onPress={handleOrderFitting}\r\n        >\r\n          <Text style={styles.selectionButtonText}>Order Fitting Only</Text>\r\n        </TouchableOpacity>\r\n\r\n        {/* --- New Button --- \r\n        <TouchableOpacity\r\n          style={[\r\n            styles.selectionButton,\r\n            selectedButton === 'adapter' && styles.selectedButton // Use 'adapter' key\r\n          ]}\r\n          onPress={handleOrderAdapter} // Use the new handler\r\n        >\r\n          <Text style={styles.selectionButtonText}>Order Adapters</Text>\r\n        </TouchableOpacity>\r\n        {/* --- End New Button --- */}\r\n\r\n\r\n        <TouchableOpacity\r\n          style={[\r\n            styles.selectionButton,\r\n            selectedButton === 'build' && styles.selectedButton\r\n          ]}\r\n          onPress={handleBuildHose}\r\n        >\r\n          <Text style={styles.selectionButtonText}>Build Complete Hose</Text>\r\n        </TouchableOpacity>\r\n\r\n      </Animated.View>\r\n    </View>\r\n  </Modal>\r\n  {/* --- End Modal Update --- */}\r\n</View>\r\n\r\n);\r\n};\r\n\r\n// --- Styles (Keep existing styles, add or adjust if needed) ---\r\nconst styles = StyleSheet.create({\r\ncontainer: {\r\nflexGrow: 1, // Use flexGrow for ScrollView content\r\n// backgroundColor: '#fff', // Background is handled by ScrollableGradientWrapper potentially\r\n},\r\nmainContainer: {\r\nflex: 1,\r\nposition: 'relative',\r\n},\r\ncontentContainer: {\r\nflex: 1,\r\nalignItems: 'center',\r\npaddingBottom: 30,\r\n},\r\nlogoContainer: {\r\nalignItems: 'center',\r\njustifyContent: 'center',\r\nmarginTop: Platform.OS === 'ios' ? 0 : 20, // Adjust top margin for SafeAreaView consistency if needed\r\nmarginBottom: 10, // Reduced margin\r\n// paddingBottom: 15, // Removed padding, rely on margins\r\nwidth: '100%',\r\n},\r\nlogo: {\r\nwidth: Platform.OS === 'web' ? 350 : Dimensions.get('window').width * 0.8, // Responsive width\r\nmaxWidth: 400, // Max width\r\nheight: 180, // Adjust height proportionally or fixed\r\nresizeMode: 'contain',\r\n},\r\ntitleContainer: {\r\nalignSelf: 'center',\r\nmarginBottom: 15,\r\nbackgroundColor: '#4a4a4a',\r\nborderRadius: 25,\r\npaddingVertical: 12,\r\npaddingHorizontal: 25,\r\n},\r\ntitle: {\r\nfontSize: 24,\r\nfontWeight: 'bold',\r\ncolor: 'white',\r\ntextAlign: 'center',\r\n},\r\nmessageContainer: {\r\nalignItems: 'center',\r\nmarginVertical: 10,\r\npaddingHorizontal: 15, // Add padding for text wrapping\r\n},\r\nmessageText: {\r\nfontSize: 22, // Slightly smaller for better fit\r\ncolor: '#4a4a4a',\r\nmarginVertical: 2,\r\ntextAlign: 'center', // Center align message text\r\n},\r\nhighlightText: {\r\ncolor: '#ffc100',\r\nfontWeight: 'bold',\r\nfontSize: 20, // Keep highlight size consistent\r\n},\r\nhighlightText2: {\r\ncolor: '#4a4a4a',\r\nfontWeight: 'bold',\r\nfontSize: 22, // Match message text size\r\n},\r\nimageContainer: {\r\nmarginVertical: 15, // Reduced vertical margin\r\nalignItems: 'center',\r\n// paddingBottom: 10, // Remove extra padding\r\n},\r\nhoseImage: {\r\nwidth: Dimensions.get('window').width * 0.7, // Responsive width\r\nmaxWidth: 300, // Max width\r\nheight: 280, // Adjust height\r\nresizeMode: 'contain',\r\n},\r\ninstructionsContainer: {\r\nalignItems: 'center',\r\nmarginBottom: 20,\r\npaddingHorizontal: 20, // Add padding for text wrapping\r\n},\r\ninstructionsText: {\r\nfontSize: 22, // Match message text size\r\ncolor: '#4a4a4a',\r\nlineHeight: 30, // Adjust line height\r\ntextAlign: 'center',\r\n},\r\nspacedText: {\r\nmarginTop: 20, // Reduced spacing\r\n},\r\nstartButton: {\r\nbackgroundColor: '#ffc100',\r\npaddingHorizontal: 30,\r\npaddingVertical: 15,\r\nborderRadius: 20,\r\nmarginTop: 20,\r\nmarginBottom: 30, // Reduced margin\r\nshadowColor: '#000',\r\nshadowOffset: { width: 0, height: 4 }, // Adjusted shadow\r\nshadowOpacity: 0.3,\r\nshadowRadius: 4.65,\r\nelevation: 8, // Adjusted elevation\r\n},\r\nstartButtonText: {\r\ncolor: '#4a4a4a',\r\nfontSize: 22,\r\nfontWeight: 'bold',\r\n},\r\nasteriskContainer: {\r\n// Removed position relative as it wasn't strictly needed here\r\nmarginTop: 20,\r\nmarginBottom: 30,\r\nalignItems: 'center',\r\npaddingHorizontal: 20,\r\n},\r\nasteriskText: {\r\nfontSize: 16, // Slightly smaller\r\ncolor: '#4a4a4a',\r\ntextAlign: 'center',\r\n},\r\ncopyrightText: {\r\nfontSize: 14, // Slightly smaller\r\ncolor: '#4a4a4a',\r\ntextAlign: 'center',\r\nmarginTop: 20, // Consistent margin\r\nfontStyle: 'italic',\r\nopacity: 0.8,\r\n},\r\nmodalOverlay: {\r\nflex: 1,\r\njustifyContent: 'center',\r\nalignItems: 'center',\r\nbackgroundColor: 'rgba(0, 0, 0, 0.6)', // Slightly less opaque\r\n},\r\noverlayBackground: { // This can be removed if modalOverlay has background color\r\nposition: 'absolute',\r\ntop: 0,\r\nleft: 0,\r\nright: 0,\r\nbottom: 0,\r\n// backgroundColor: 'rgba(0, 0, 0, 0.7)', // Handled by modalOverlay now\r\n},\r\nselectionContainer: {\r\nwidth: '85%', // Slightly wider\r\nmaxWidth: 400, // Max width for larger screens\r\nbackgroundColor: 'rgba(74, 74, 74, 0.9)', // Use #4a4a4a with alpha\r\nborderRadius: 20, // Slightly softer corners\r\npadding: 25, // More padding\r\nalignItems: 'center',\r\nshadowColor: '#000',\r\nshadowOffset: { width: 0, height: 5 },\r\nshadowOpacity: 0.35,\r\nshadowRadius: 6,\r\nelevation: 10,\r\n},\r\nselectionTitle: {\r\nfontSize: 22, // Adjust size\r\nfontWeight: 'bold',\r\ncolor: 'white',\r\nmarginBottom: 25, // More space below title\r\ntextAlign: 'center',\r\n},\r\nselectionButton: {\r\nwidth: '100%', // Make buttons full width of container\r\nbackgroundColor: 'white',\r\npaddingHorizontal: 20, // Adjust padding\r\npaddingVertical: 15,\r\nborderRadius: 15, // Match container's softness\r\nmarginVertical: 8, // Slightly less vertical margin\r\nborderWidth: 2, // Thinner border\r\nborderColor: '#ccc', // Lighter border color\r\nshadowColor: '#000',\r\nshadowOffset: { width: 0, height: 2 },\r\nshadowOpacity: 0.2,\r\nshadowRadius: 3,\r\nelevation: 4,\r\n},\r\nselectedButton: {\r\nbackgroundColor: '#ffc100', // Gold highlight\r\nborderColor: '#ffc100', // Matching border color\r\n},\r\nselectionButtonText: {\r\nfontSize: 18, // Adjust size\r\nfontWeight: '600', // Slightly less bold\r\ncolor: '#4a4a4a',\r\ntextAlign: 'center',\r\n},\r\nenquiryText: {\r\nfontSize: 16,\r\ncolor: '#4a4a4a',\r\ntextAlign: 'center',\r\nmarginTop: 20, // More space before enquiry text\r\nmarginBottom: 10,\r\n},\r\ncontactText: {\r\nfontSize: 16,\r\ncolor: '#4a4a4a',\r\ntextAlign: 'center',\r\nmarginVertical: 5, // Reduced vertical margin\r\ntextDecorationLine: 'underline',\r\npaddingVertical: 5, // Smaller touchable area padding\r\n},\r\nappCreditsText: {\r\nfontSize: 12, // Smaller credits\r\ncolor: '#4a4a4a',\r\ntextAlign: 'center',\r\nmarginTop: 15,\r\nopacity: 0.6,\r\n},\r\nfeedbackFlyerContainer: {\r\n  backgroundColor: '#f8f9fa',\r\n  borderRadius: 20,\r\n  padding: 20,\r\n  marginVertical: 30,\r\n  width: '90%',\r\n  maxWidth: 500,\r\n  alignItems: 'center',\r\n  shadowColor: '#000',\r\n  shadowOffset: { width: 0, height: 5 },\r\n  shadowOpacity: 0.12,\r\n  shadowRadius: 10,\r\n  elevation: 8,\r\n  borderWidth: 1,\r\n  borderColor: '#e9ecef',\r\n},\r\nfeedbackHeading: {\r\n  fontSize: 24,\r\n  fontWeight: '600',\r\n  color: '#343a40',\r\n  textAlign: 'center',\r\n  marginBottom: 5,\r\n},\r\nfeedbackSlideContainer: {\r\n  width: '100%',\r\n  minHeight: 240,\r\n  overflow: 'hidden',\r\n  position: 'relative',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  marginVertical: 15,\r\n  backgroundColor: '#ffffff',\r\n  borderRadius: 15,\r\n  padding: 10,\r\n  shadowColor: '#000',\r\n  shadowOffset: { width: 0, height: 2 },\r\n  shadowOpacity: 0.05,\r\n  shadowRadius: 4,\r\n  elevation: 3,\r\n},\r\nfeedbackTitle: {\r\nfontSize: 18, // Slightly smaller title\r\nfontWeight: 'bold',\r\ncolor: '#4a4a4a',\r\nmarginBottom: 8, // Reduced margin\r\ntextAlign: 'center',\r\n},\r\nfeedbackSlide: {\r\n  width: '100%',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n},\r\nfeedbackImage: {\r\n  width: '100%',\r\n  height: 220,\r\n  resizeMode: 'contain',\r\n  borderRadius: 10,\r\n},\r\nfeedbackText: { // Style for potential future text\r\nfontSize: 14,\r\ncolor: '#555',\r\ntextAlign: 'center',\r\nfontStyle: 'italic',\r\nmarginTop: 5,\r\npaddingHorizontal: 10,\r\n},\r\nfeedbackIndicators: {\r\n  flexDirection: 'row',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  marginTop: 10,\r\n},\r\ntaglineText: {\r\n  fontSize: 17,\r\n  fontWeight: '500',\r\n  color: '#c89200',\r\n  fontStyle: 'italic',\r\n  textAlign: 'center',\r\n  marginTop: 20,\r\n  marginBottom: 15,\r\n},\r\nindicator: {\r\n  width: 9,\r\n  height: 9,\r\n  borderRadius: 4.5,\r\n  backgroundColor: '#ced4da',\r\n  marginHorizontal: 5,\r\n},\r\nactiveIndicator: {\r\n  backgroundColor: '#ffc100',\r\n  transform: [{ scale: 1.2 }],\r\n},\r\nebayStoreRow: {\r\n  flexDirection: 'row',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  marginBottom: 15,\r\n},\r\nebaySourceText: {\r\n  fontSize: 16,\r\n  color: '#6c757d',\r\n  textAlign: 'center',\r\n},\r\nebayLinkText: {\r\n  fontSize: 16,\r\n  color: '#007bff',\r\n  fontWeight: 'bold',\r\n  textDecorationLine: 'underline',\r\n  marginLeft: 4,\r\n},\r\n});\r\n\r\nexport default WelcomeScreen;","// components/Prices/HosePrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_HOSE_PRICES = {\n  \"1/4\": \"12.40\",\n  \"3/8\": \"14.50\",\n  \"1/2\": \"17.65\",\n  \"5/8\": \"19.50\",\n  \"3/4\": \"22.00\",\n  \"1\": \"28.00\"\n};\n\nexport const getHosePrices = async () => {\n  try {\n\n      const response = await fetch(`${BASE_URL}/api/get-prices`, {\n          method: 'GET',\n          headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json',\n              'x-api-key': API_CLIENT_KEY,\n          }\n      });\n\n      console.log(\" Response Status:\", response.status);\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Error response:', errorText);\n        throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n      const text = await response.text();\n\n      const data = JSON.parse(text);\n\n      return data.hosePrices || DEFAULT_HOSE_PRICES;\n  } catch (error) {\n      console.error(\" Error fetching Hose prices:\", error);\n      return DEFAULT_HOSE_PRICES;\n  }\n};","import React, { useState, useRef, useEffect, useMemo } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Dimensions, ScrollView, Image, SafeAreaView, Platform, Animated} from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport { getHosePrices } from '../components/Prices/HosePrices';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst isMobile = SCREEN_WIDTH < 700;\r\nconst MAX_COLUMN_WIDTH = 400;\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\r\n\r\nconst HoseSizeButton = ({ size, insideDiameter, specs, hosePrice, onPress, isSelected }) => (\r\n  <View style={styles.buttonContainer}>\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={styles.sizeContent}>\r\n        <Text style={styles.sizeButtonText}>{size}</Text>\r\n        <Text \r\n          style={styles.sizeDescription}\r\n          numberOfLines={1}\r\n          ellipsizeMode=\"tail\"\r\n        >\r\n          Inside Diameter: {insideDiameter}\r\n        </Text>\r\n        <View style={styles.hoseImageContainer}>\r\n          <Image\r\n            source={require('../assets/hose_cross_section.png')}\r\n            style={styles.hoseCrossSection}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Image\r\n            source={require('../assets/hose_image.png')}\r\n            style={styles.hoseImage}\r\n            resizeMode=\"contain\"\r\n          />\r\n        </View>\r\n        <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A${hosePrice}</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n    <View style={styles.specsContainer}>\r\n      {specs.map((spec, index) => (\r\n        <Text \r\n          key={index}\r\n          style={styles.specText}\r\n          numberOfLines={1}\r\n          ellipsizeMode=\"tail\"\r\n        >\r\n           {spec}\r\n        </Text>\r\n      ))}\r\n    </View>\r\n  </View>\r\n);\r\n\r\nconst HoseSelectionScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const [selectedHosePrice, setSelectedHosePrice] = useState(null);\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const { isHoseOnly } = route.params || { isHoseOnly: false };\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const hoseSizes = useMemo(() => prices ? [\r\n    { \r\n      size: '1/4\"', \r\n      insideDiameter: '1/4 Inch',\r\n      hosePrice: `  ${prices[\"1/4\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 6525psi',\r\n        'Burst Pressure: 26,100psi',\r\n        'Bend Radius: 50mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '3/8\"', \r\n      insideDiameter: '3/8 Inch',\r\n      hosePrice: `  ${prices[\"3/8\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 5438psi',\r\n        'Burst Pressure: 21,752psi',\r\n        'Bend Radius: 75mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '1/2\"', \r\n      insideDiameter: '1/2 Inch',\r\n      hosePrice: `  ${prices[\"1/2\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 4495psi',\r\n        'Burst Pressure: 17,980psi',\r\n        'Bend Radius: 100mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '5/8\"', \r\n      insideDiameter: '5/8 Inch',\r\n      hosePrice: `  ${prices[\"5/8\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 4350psi',\r\n        'Burst Pressure: 17,400psi',\r\n        'Bend Radius: 130mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '3/4\"', \r\n      insideDiameter: '3/4 Inch',\r\n      hosePrice: `  ${prices[\"3/4\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 4162psi',\r\n        'Burst Pressure: 16,675psi',\r\n        'Bend Radius: 200mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '1\"', \r\n      insideDiameter: '1 Inch',\r\n      hosePrice: `  ${prices[\"1\"]}/meter`,\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 3263psi',\r\n        'Burst Pressure: 13,050psi',\r\n        'Bend Radius: 250mm'\r\n      ]\r\n    },\r\n  ] : [], [prices]);\r\n\r\n  const handleSizeSelection = (size, hosePrice) => {\r\n    setSelectedSize(size);\r\n    // Clean the price string by removing extra spaces and \"/meter\"\r\n    const cleanPrice = hosePrice.trim().split('/')[0].trim();\r\n    setSelectedHosePrice(cleanPrice);\r\n  \r\n    // Start fade-out animation\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isHoseOnly) {\r\n        // Navigate to CutLengths with exact same parameter structure as original handleHoseOnly\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: { \r\n            size: size,  // Using selectedSize instead of size to match original\r\n          },\r\n          selectedHosePrice: cleanPrice, // Using selectedHosePrice from state to match original\r\n          isHoseOnly: true\r\n        });\r\n      } else {\r\n        // Navigate to End1Fitting with exact same parameter structure as original handleNext\r\n        navigation.navigate('End1Fitting', {\r\n          selectedHose: { \r\n            size: size,  // Using selectedSize instead of size to match original\r\n          },\r\n          selectedHosePrice: cleanPrice // Using selectedHosePrice from state to match original\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Fade in animation when the component mounts\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  // Add useEffect for price loading\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getHosePrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Sequence animations\r\n        Animated.sequence([\r\n          // Fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay\r\n          Animated.delay(100),\r\n          // Fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  // Reset fade-in when screen comes into focus\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      //setSelectedSize(null);\r\n      contentFadeAnim.setValue(0);\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  // First check for loading\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Hoses ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.contentContainer, { opacity: contentFadeAnim }]}>\r\n            <ScrollView \r\n              style={styles.mainScrollView}\r\n              contentContainerStyle={styles.mainScrollViewContent}\r\n              showsVerticalScrollIndicator={true}\r\n            >\r\n              <View style={styles.titleContainer}>\r\n                <Text style={styles.title}>Select Hose Size</Text>\r\n              </View>\r\n              <View style={styles.scrollViewContent}>\r\n                {hoseSizes.map((hose, index) => (\r\n                  <HoseSizeButton\r\n                    key={index}\r\n                    size={hose.size}\r\n                    insideDiameter={hose.insideDiameter}\r\n                    specs={hose.specs}\r\n                    hosePrice={hose.hosePrice}\r\n                    onPress={() => handleSizeSelection(hose.size, hose.hosePrice)}\r\n                    isSelected={selectedSize === hose.size}\r\n                  />\r\n                ))}\r\n              </View>\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  mainScrollView: {\r\n    flex: 1,\r\n  },\r\n  mainScrollViewContent: {\r\n    flexGrow: 1,\r\n    paddingBottom: 20,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    marginTop: 10,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 25,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center',\r\n    paddingHorizontal: 15, // Restore original padding\r\n    paddingBottom: 20,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    marginBottom: 10,\r\n    width: '100%',\r\n    maxWidth: 600,\r\n    paddingHorizontal: 0, // Restore horizontal padding\r\n  },\r\n  sizeButton: {\r\n    width: isMobile ? 160 : 220, // Smaller button on mobile\r\n    height: isMobile ? 150 : 160, // Slightly smaller height on mobile\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 30,\r\n    overflow: 'hidden',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'transparent',\r\n    paddingBottom: 10,\r\n    marginBottom: 15,\r\n    marginRight: isMobile ? 2 : 30,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  sizeContent: {\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    paddingHorizontal: 0, // Add minimal padding inside content\r\n  },\r\n  innerContainer: {\r\n    alignItems: 'center',\r\n  },\r\n  selectedInnerContainer: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: isMobile ? 20 : 24, // Smaller font on mobile\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: isMobile ? 0 : 5, // Less margin on mobile\r\n  },\r\n  sizeDescription: {\r\n    fontSize: isMobile ? 12 : 14, // Smaller font on mobile\r\n    color: '#666',\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n    width: '100%', // Make description take full width\r\n    // For web environments\r\n    ...(Platform.OS === 'web' && {\r\n      whiteSpace: 'nowrap',\r\n    }),\r\n  },\r\n  hoseImageContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    // Scale down images slightly on mobile\r\n    ...(isMobile && {\r\n      transform: [{ scale: 0.9 }]\r\n    })\r\n  },\r\n  hoseCrossSection: {\r\n    width: isMobile ? 35 : 40, // Slightly smaller on mobile\r\n    height: isMobile ? 35 : 40,\r\n    marginRight: 6, // Reduce margin\r\n  },\r\n  hoseImage: {\r\n    width: isMobile ? 70 : 80, // Slightly smaller on mobile\r\n    height: isMobile ? 35 : 40,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: isMobile ? 3 : 5, // Less padding on mobile\r\n    marginTop: isMobile ? 3 : 5, // Less margin on mobile\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: isMobile ? 14 : 16, // Smaller font on mobile\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  specsContainer: {\r\n    width: isMobile ? 220 : 250, // Restore original widths\r\n    marginLeft: 10, // Keep consistent spacing\r\n  },\r\n  specText: {\r\n    fontSize: isMobile ? 12 : 14, // Smaller font on mobile\r\n    color: '#666',\r\n    marginBottom: 3,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  floatingFooter: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    backgroundColor: 'white',\r\n    borderTopWidth: 1,\r\n    borderTopColor: 'rgba(0, 0, 0, 0.1)',\r\n    // Add shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: -2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  viewportFooter: {\r\n    position: 'absolute',\r\n    bottom: Platform.OS === 'ios' ? 40 : 20,\r\n    left: 0,\r\n    right: 0,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)', // semi-transparent white background\r\n    paddingVertical: 10,\r\n    marginHorizontal: 10,\r\n    borderRadius: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n    // Add these new properties:\r\n    overflow: 'visible', // Ensures shadow isn't clipped\r\n    elevation: Platform.OS === 'android' ? 24 : 0, // Higher elevation for Android\r\n  },\r\n  footerContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  hoseOnlyButton: {\r\n    backgroundColor: '#4a4a4a',\r\n    padding: 12,\r\n    borderRadius: 20,\r\n    alignSelf: 'center',\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  hoseOnlyButtonText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default HoseSelectionScreen;","// FittingSelectionScreen.js\r\nimport React, { useState } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nconst FittingSelectionScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const { selectedHose } = route.params;\r\n  const [selectedFitting, setSelectedFitting] = useState(null);\r\n\r\n  const fittings = [\r\n    { type: 'JIC 37', shapes: ['Male Straight', 'Female Straight', '45 Female Elbow', '90 Female Elbow'] },\r\n    { type: 'BSP 60', shapes: ['Male Straight', 'Female Straight', '45 Female Elbow', '90 Female Elbow'] },\r\n    { type: 'Metric Light 24', shapes: ['Male Straight', 'Female Straight', '45 Female Elbow', '90 Female Elbow'] },\r\n    { type: 'O.R.F.S', shapes: ['Male Straight', 'Female Straight', '45 Female Elbow', '90 Female Elbow'] },\r\n  ];\r\n\r\n  const handleSelection = (fitting) => {\r\n    setSelectedFitting(fitting);\r\n    // Add animation logic here if desired\r\n    setTimeout(() => {\r\n      navigation.navigate('Summary', { selectedHose, selectedFitting });\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <ScrollView contentContainerStyle={styles.container}>\r\n      <Text style={styles.title}>Select Fitting Type</Text>\r\n      <Text style={styles.subtitle}>For Hose Size: {selectedHose.size}</Text>\r\n      {fittings.map((fitting) => (\r\n        <View key={fitting.type}>\r\n          <Text style={styles.fittingType}>{fitting.type}</Text>\r\n          {fitting.shapes.map((shape) => (\r\n            <TouchableOpacity\r\n              key={shape}\r\n              style={[styles.fittingOption, selectedFitting === `${fitting.type} - ${shape}` && styles.selectedOption]}\r\n              onPress={() => handleSelection(`${fitting.type} - ${shape}`)}\r\n            >\r\n              <Text style={styles.fittingShape}>{shape}</Text>\r\n            </TouchableOpacity>\r\n          ))}\r\n        </View>\r\n      ))}\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flexGrow: 1,\r\n    padding: 20,\r\n    backgroundColor: '#fff',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n  },\r\n  fittingType: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    marginTop: 20,\r\n    marginBottom: 10,\r\n  },\r\n  fittingOption: {\r\n    borderWidth: 1,\r\n    borderColor: '#FFA500',\r\n    borderRadius: 10,\r\n    padding: 15,\r\n    marginBottom: 10,\r\n  },\r\n  selectedOption: {\r\n    backgroundColor: '#FFF7E6',\r\n  },\r\n  fittingShape: {\r\n    fontSize: 16,\r\n  },\r\n});\r\n\r\nexport default FittingSelectionScreen;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, \r\n         Dimensions, Platform, Animated, Modal, TouchableWithoutFeedback } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400;\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\r\n\r\n// isWebDesktop function remains the same\r\nexport const isWebDesktop = () => {\r\n  const isWeb = Platform.OS === 'web';\r\n  try {\r\n    const isLikelyDesktop = isWeb && Dimensions.get('window').width > 768;\r\n    return isLikelyDesktop;\r\n  } catch (error) {\r\n    return false;\r\n  }\r\n};\r\n\r\n// FittingTypeButton component\r\nconst FittingTypeButton = ({ type, description, onPress, isSelected, onHelpPress }) => (\r\n  <TouchableOpacity \r\n    style={[styles.fittingButton, isSelected && styles.selectedFittingButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.fittingContent}>\r\n      <Text style={styles.fittingButtonText}>{type}</Text>\r\n      <Text style={styles.fittingDescription}>{description}</Text>\r\n    </View>\r\n    <TouchableOpacity \r\n      style={styles.helpIcon} \r\n      onPress={onHelpPress}\r\n      activeOpacity={0.6}\r\n      hitSlop={{ top: 10, bottom: 10, left: 10, right: 10 }}\r\n    >\r\n      <View style={styles.helpIconBackground}>\r\n        <Text style={styles.helpIconText}>?</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst End1FittingScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedFitting, setSelectedFitting] = useState(null);\r\n  const { selectedHose, selectedHosePrice, isOrderFittingMode } = route.params || {};\r\n  const [showSizeModal, setShowSizeModal] = useState(false);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const sizeFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false);\r\n  const [currentHelpImage, setCurrentHelpImage] = useState(null);\r\n  const [showDiagramOverlay, setShowDiagramOverlay] = useState(false);\r\n  const helpModalFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const diagramModalFadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const fittingTypes = [\r\n    { type: 'BSP 60', description: 'British Standard Pipe', helpImage: require('../assets/bsp_help.png') },\r\n    { type: 'JIC 37', description: 'Joint Industrial Council', helpImage: require('../assets/jic_help.png') },\r\n    { type: 'METRIC LIGHT 24', description: 'Cone O-Ring', helpImage: require('../assets/metric_help.png') },\r\n    { type: 'O.R.F.S', description: 'O-Ring Flat Seal', helpImage: require('../assets/orfs_help.png') },\r\n  ];\r\n\r\n  const hoseSizes = [\"1/4\\\"\", \"3/8\\\"\", \"1/2\\\"\", \"5/8\\\"\", \"3/4\\\"\", \"1\\\"\"];\r\n\r\n  useEffect(() => {\r\n    // Fade in animation when the component mounts\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS !== 'web', // Fix: changed from 'native' to !== 'web'\r\n    }).start();\r\n  }, []);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      // Reset the selection and fade in when the screen comes into focus\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS !== 'web', // Fix: changed from 'native' to !== 'web'\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  // Define handleFittingSelection function\r\n  const handleFittingSelection = (type) => {\r\n    setSelectedFitting(type);\r\n    \r\n    if (isOrderFittingMode) {\r\n      // Show size selection modal for OrderFitting mode\r\n      setShowSizeModal(true);\r\n      sizeFadeAnim.setValue(0);\r\n      Animated.timing(sizeFadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: Platform.OS !== 'web',\r\n      }).start();\r\n      return;\r\n    }\r\n    \r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start(() => {\r\n      const baseParams = {\r\n        selectedFitting: { type },\r\n        isOrderFittingMode,\r\n        selectedHose,\r\n        selectedHosePrice\r\n      };\r\n\r\n      // Switch statement uses baseParams directly\r\n      switch (type) {\r\n        case 'BSP 60':\r\n          navigation.navigate('BSPFittingScreen1', baseParams);\r\n          break;\r\n        case 'JIC 37':\r\n          navigation.navigate('JICFittingScreen1', baseParams);\r\n          break;\r\n        case 'METRIC LIGHT 24':\r\n          navigation.navigate('MetricFittingScreen1', baseParams);\r\n          break;\r\n        case 'O.R.F.S':\r\n          navigation.navigate('OrfsScreen1', baseParams);\r\n          break;\r\n        default:\r\n          console.log('Selected Hose:', selectedHose);\r\n          console.log('Selected Fitting:', type);\r\n      }\r\n    });\r\n  };\r\n\r\n  // Define handleSizeSelection function\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    \r\n    // Navigate to the appropriate screen with both fitting and size selection\r\n    const baseParams = {\r\n      selectedFitting: { type: selectedFitting },\r\n      isOrderFittingMode: true,\r\n      selectedHose: { size },\r\n      selectedHosePrice: '0'\r\n    };\r\n\r\n    Animated.timing(sizeFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start(() => {\r\n      setShowSizeModal(false);\r\n      switch (selectedFitting) {\r\n        case 'BSP 60':\r\n          navigation.navigate('BSPFittingScreen1', baseParams);\r\n          break;\r\n        case 'JIC 37':\r\n          navigation.navigate('JICFittingScreen1', baseParams);\r\n          break;\r\n        case 'METRIC LIGHT 24':\r\n          navigation.navigate('MetricFittingScreen1', baseParams);\r\n          break;\r\n        case 'O.R.F.S':\r\n          navigation.navigate('OrfsScreen1', baseParams);\r\n          break;\r\n      }\r\n    });\r\n  };\r\n\r\n  // Define handleCloseSizeModal function\r\n  const handleCloseSizeModal = () => {\r\n    Animated.timing(sizeFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start(() => {\r\n      setShowSizeModal(false);\r\n      setSelectedSize(null);\r\n      setSelectedFitting(null);\r\n    });\r\n  };\r\n  \r\n  // FIX: Updated handleHelpPress function to properly handle the image\r\n  const handleHelpPress = (helpImage) => {\r\n    \r\n    // Ensure we're using the correct image\r\n    setCurrentHelpImage(helpImage);\r\n    setShowHelpOverlay(true);\r\n    helpModalFadeAnim.setValue(0);\r\n    Animated.timing(helpModalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start();\r\n  };\r\n\r\n  const closeHelpOverlay = () => {\r\n    Animated.timing(helpModalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start(() => {\r\n      setShowHelpOverlay(false);\r\n    });\r\n  };\r\n\r\n  const handleDiagramPress = () => {\r\n    setShowDiagramOverlay(true);\r\n    diagramModalFadeAnim.setValue(0);\r\n    Animated.timing(diagramModalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start();\r\n  };\r\n    \r\n  const closeDiagramOverlay = () => {\r\n    Animated.timing(diagramModalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS !== 'web',\r\n    }).start(() => {\r\n      setShowDiagramOverlay(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button - Outside scroll wrapper */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n  \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Select Thread Type</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n  \r\n            {/* Conditional rendering for diagram with spacing compensation */}\r\n            {isOrderFittingMode ? (\r\n              <View style={styles.diagramSpacing} />\r\n            ) : (\r\n              <>\r\n                <TouchableOpacity onPress={handleDiagramPress}>\r\n                  <Image\r\n                    source={require('../assets/end1_thread_diagram.gif')}\r\n                    style={styles.diagram}\r\n                    resizeMode=\"contain\"\r\n                  />\r\n                  <Text style={styles.clickToEnlargeText}>Click photo to enlarge</Text>\r\n                </TouchableOpacity>\r\n              </>\r\n            )}\r\n            \r\n            <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\r\n              {fittingTypes.map((fitting, index) => (\r\n                <FittingTypeButton\r\n                  key={index}\r\n                  type={fitting.type}\r\n                  description={fitting.description}\r\n                  onPress={() => handleFittingSelection(fitting.type)}\r\n                  isSelected={selectedFitting === fitting.type}\r\n                  onHelpPress={() => handleHelpPress(fitting.helpImage)}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n  \r\n      {/* FIX: Updated help modal to properly display the image */}\r\n      <Modal\r\n        transparent={true}\r\n        visible={showHelpOverlay}\r\n        onRequestClose={closeHelpOverlay}\r\n        animationType=\"none\" // Control animation manually\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <TouchableOpacity\r\n            style={styles.overlayBackground}\r\n            activeOpacity={1}\r\n            onPress={closeHelpOverlay}\r\n          />\r\n          <Animated.View style={[\r\n            styles.helpImageContainer,\r\n            {\r\n              opacity: helpModalFadeAnim,\r\n              transform: [{ scale: helpModalFadeAnim }]\r\n            }\r\n          ]}>\r\n            <TouchableOpacity\r\n              style={styles.closeModalButton}\r\n              onPress={closeHelpOverlay}\r\n            >\r\n              <Text style={styles.closeModalButtonText}></Text>\r\n            </TouchableOpacity>\r\n            <Text style={styles.modalTitle}>Fitting Information</Text>\r\n            \r\n            {/* FIX: Updated image rendering approach */}\r\n            {currentHelpImage && (\r\n              <View style={styles.imageWrapper}>\r\n                <Image\r\n                  source={currentHelpImage}\r\n                  style={styles.helpImage}\r\n                  resizeMode=\"contain\"\r\n                  onError={(e) => console.error(\"Image load error:\", e.nativeEvent.error)}\r\n                />\r\n              </View>\r\n            )}\r\n          </Animated.View>\r\n        </View>\r\n      </Modal>\r\n\r\n      {/* Diagram overlay modal */}\r\n      <Modal\r\n        transparent={true}\r\n        visible={showDiagramOverlay}\r\n        onRequestClose={closeDiagramOverlay}\r\n        animationType=\"none\"\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <TouchableOpacity\r\n            style={styles.overlayBackground}\r\n            activeOpacity={1}\r\n            onPress={closeDiagramOverlay}\r\n          />\r\n          <Animated.View style={[\r\n            styles.diagramImageContainer, \r\n            { \r\n              opacity: diagramModalFadeAnim, \r\n              transform: [{ scale: diagramModalFadeAnim }] \r\n            }\r\n          ]}>\r\n            <TouchableOpacity\r\n              style={styles.closeModalButton}\r\n              onPress={closeDiagramOverlay}\r\n            >\r\n              <Text style={styles.closeModalButtonText}></Text>\r\n            </TouchableOpacity>\r\n            <Text style={styles.modalTitle}>Thread Diagram</Text>\r\n            <Image\r\n              source={require('../assets/end1_thread_diagram.gif')}\r\n              style={styles.enlargedDiagram}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </Animated.View>\r\n        </View>\r\n      </Modal>\r\n\r\n      {/* Size selection modal */}\r\n      <Modal\r\n        transparent={true}\r\n        visible={showSizeModal}\r\n        onRequestClose={handleCloseSizeModal}\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <TouchableOpacity \r\n            style={styles.overlayBackground}\r\n            activeOpacity={1}\r\n            onPress={handleCloseSizeModal}\r\n          />\r\n          <Animated.View style={[\r\n            styles.selectionContainer, \r\n            { \r\n              opacity: sizeFadeAnim, \r\n              transform: [{ scale: sizeFadeAnim }] \r\n            }\r\n          ]}>\r\n            <TouchableOpacity \r\n              style={styles.closeButton}\r\n              onPress={handleCloseSizeModal}\r\n            >\r\n              <Text style={styles.closeButtonText}></Text>\r\n            </TouchableOpacity>\r\n            \r\n            <Text style={styles.selectionTitle}>\r\n              Select the Hose Size you're ordering the Fittings for:\r\n            </Text>\r\n            \r\n            {hoseSizes.map((size, index) => (\r\n              <TouchableOpacity\r\n                key={index}\r\n                style={[\r\n                  styles.selectionButton,\r\n                  selectedSize === size && styles.selectedButton\r\n                ]}\r\n                onPress={() => handleSizeSelection(size)}\r\n              >\r\n                <Text style={styles.selectionButtonText}>{size}</Text>\r\n              </TouchableOpacity>\r\n            ))}\r\n          </Animated.View>\r\n        </View>\r\n      </Modal>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  // Main container and general styles\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  \r\n  // Title styles\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignSelf: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    marginTop: 30,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 25,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  \r\n  // Diagram styles\r\n  diagram: {\r\n    width: '100%',\r\n    height: 200,\r\n    marginVertical: 20,\r\n  },\r\n  diagramSpacing: {\r\n    height: 80,\r\n    marginVertical: 20,\r\n  },\r\n  \r\n  // ScrollView styles\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n    paddingBottom: 20,\r\n  },\r\n  \r\n  // Fitting button styles\r\n  fittingButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    overflow: 'hidden',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedFittingButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  fittingContent: {\r\n    padding: 15,\r\n    paddingRight: 44,\r\n  },\r\n  fittingButtonText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n  },\r\n  fittingDescription: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  \r\n  // Help icon styles\r\n  helpIcon: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    width: 44,\r\n    height: 44,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  helpIconText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    lineHeight: 24,\r\n  },\r\n  helpIconBackground: {\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  \r\n  // Modal overlay styles\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n  },\r\n  \r\n  // Updated help image container and image styles for better desktop responsiveness\r\n  helpImageContainer: {\r\n    width: isWebDesktop() ? '70%' : '90%',\r\n    maxWidth: isWebDesktop() ? 1200 : 400,\r\n    minWidth: isWebDesktop() ? 800 : 'auto',\r\n    backgroundColor: 'rgba(74, 74, 74, 0.95)',\r\n    borderRadius: 20,\r\n    padding: isWebDesktop() ? 40 : 20,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 8 },\r\n    shadowOpacity: 0.4,\r\n    shadowRadius: 10,\r\n    elevation: 15,\r\n    position: 'relative',\r\n  },\r\n  imageWrapper: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: isWebDesktop() ? 20 : 10,\r\n  },\r\n  helpImage: {\r\n    width: '100%',\r\n    height: isWebDesktop() ? 700 : 300,\r\n    backgroundColor: '#f0f0f0', // Light background to see if image is loading\r\n    borderRadius: 10,\r\n  },\r\n  \r\n  // Close button styles\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: -20,\r\n    right: -20,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#ffc100',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  closeButtonText: {\r\n    color: '#4a4a4a',\r\n    fontSize: 35,\r\n    textAlign: 'center',\r\n    alignSelf: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  \r\n  // Click to enlarge text\r\n  clickToEnlargeText: {\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n    fontSize: 18,\r\n    marginTop: 5,\r\n    fontWeight: 'bold',\r\n    marginBottom: 20,\r\n  },\r\n  \r\n  // Diagram image container\r\n  diagramImageContainer: {\r\n    width: isWebDesktop() ? '90%' : '92%',\r\n    maxWidth: isWebDesktop() ? 1200 : 450,\r\n    backgroundColor: 'rgba(74, 74, 74, 0.9)',\r\n    borderRadius: 20,\r\n    paddingHorizontal: isWebDesktop() ? 30 : 15,\r\n    paddingTop: isWebDesktop() ? 25 : 12,\r\n    paddingBottom: isWebDesktop() ? 25 : 12,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.35,\r\n    shadowRadius: 6,\r\n    elevation: 10,\r\n    position: 'relative',\r\n  },\r\n  \r\n  // Close modal button\r\n  closeModalButton: {\r\n    position: 'absolute',\r\n    top: isWebDesktop() ? 20 : 10,\r\n    right: isWebDesktop() ? 20 : 10,\r\n    width: isWebDesktop() ? 50 : 40,\r\n    height: isWebDesktop() ? 50 : 40,\r\n    borderRadius: isWebDesktop() ? 25 : 20,\r\n    backgroundColor: '#ffc100',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n  },\r\n  closeModalButtonText: {\r\n    color: '#4a4a4a',\r\n    fontSize: isWebDesktop() ? 36 : 30,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    lineHeight: isWebDesktop() ? 40 : 34,\r\n    includeFontPadding: false,\r\n    textAlignVertical: 'center',\r\n    paddingBottom: Platform.OS === 'ios' ? 4 : (isWebDesktop() ? 4 : 0),\r\n    paddingTop: isWebDesktop() ? 2 : 0,\r\n    paddingLeft: isWebDesktop() ? 1 : 0,\r\n  },\r\n  \r\n  // Modal title\r\n  modalTitle: {\r\n    fontSize: isWebDesktop() ? 32 : 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    marginBottom: isWebDesktop() ? 20 : 10,\r\n    marginTop: isWebDesktop() ? 15 : 5,\r\n    textAlign: 'center',\r\n  },\r\n  \r\n  // Enlarged diagram\r\n  enlargedDiagram: {\r\n    width: '100%',\r\n    height: isWebDesktop() ? 800 : 400,\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n    borderRadius: 10,\r\n  },\r\n  \r\n  // Selection container\r\n  selectionContainer: {\r\n    width: '85%',\r\n    maxWidth: 400,\r\n    backgroundColor: 'rgba(74, 74, 74, 0.9)',\r\n    borderRadius: 20,\r\n    padding: 25,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.35,\r\n    shadowRadius: 6,\r\n    elevation: 10,\r\n  },\r\n  selectionTitle: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    marginBottom: 25,\r\n    textAlign: 'center',\r\n  },\r\n  selectionButton: {\r\n    width: '100%', \r\n    backgroundColor: 'white',\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 15,\r\n    borderRadius: 15,\r\n    marginVertical: 8,\r\n    borderWidth: 2,\r\n    borderColor: '#ccc',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.2,\r\n    shadowRadius: 3,\r\n    elevation: 4,\r\n  },\r\n  selectedButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#ffc100',\r\n  },\r\n  selectionButtonText: {\r\n    fontSize: 18,\r\n    fontWeight: '600',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  \r\n  // Floating back button\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default End1FittingScreen;","// components/Prices/BSPPrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL; // Add fallback URL\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_BSP_PRICES = {\n    \"1/8\": \"6.10\",\n    \"1/4\": \"7.28\",\n    \"3/8\": \"11.18\",\n    \"1/2\": \"14.25\",\n    \"3/4\": \"16.25\",\n    \"1\": \"18.48\"\n};\n\nexport const getBSPPrices = async () => {\n    try {\n        // Use full URL instead of relative path\n        const response = await fetch(`${BASE_URL}/api/get-prices`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'x-api-key': API_CLIENT_KEY\n            }\n        });\n        \n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('Error response:', errorText);\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const text = await response.text();\n        \n        const data = JSON.parse(text);\n        return data.bspPrices || DEFAULT_BSP_PRICES;\n    } catch (error) {\n        console.error('Error fetching BSP prices:', error);\n        return DEFAULT_BSP_PRICES;\n    }\n};","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getBSPPrices } from '../components/Prices/BSPPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 0.8).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n  \r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst BSPFittingScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'BSP Male Straight Tapered', image: require('../assets/bsp_male_straight_tapered.png') },\r\n    { name: 'BSP Male Straight Parallel', image: require('../assets/bsp_male_straight_parallel.png') },\r\n    { name: 'BSP Female Straight', image: require('../assets/bsp_female_straight.png') },\r\n    { name: 'BSP Female 45', image: require('../assets/bsp_female_45.png') },\r\n    { name: 'BSP Female 90', image: require('../assets/bsp_female_90.png') },\r\n    { name: 'BSP Banjo', image: require('../assets/bsp_banjo.png') }\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '1/8\" - 28', basePrice: `${prices[\"1/8\"]}` },\r\n    { size: '1/4\" - 19', basePrice: `${prices[\"1/4\"]}` },\r\n    { size: '3/8\" - 19', basePrice: `${prices[\"3/8\"]}` },\r\n    { size: '1/2\" - 14', basePrice: `${prices[\"1/2\"]}` },\r\n    { size: '3/4\" - 14', basePrice: `${prices[\"3/4\"]}` },\r\n    { size: '1\" - 11', basePrice: `${prices[\"1\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['1/8\"', '1/4\"', '3/8\"'],\r\n    '3/8\"': ['1/4\"', '3/8\"', '1/2\"'],\r\n    '1/2\"': ['3/8\"', '1/2\"', '3/4\"'],\r\n    '5/8\"': ['1/2\"', '3/4\"'],\r\n    '3/4\"': ['3/4\"', '1\"'],\r\n    '1\"': ['1\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (!selectedHose || !selectedHose.size) {\r\n      // If no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  // Add this useEffect for price loading\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getBSPPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n\r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n          style={styles.floatingBackButton}\r\n          onPress={() => navigation.goBack()}\r\n        >\r\n          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n        </TouchableOpacity>\r\n        \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n            \r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          basePrice={size.basePrice}\r\n                          isOrderFittingMode={isOrderFittingMode}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>BSP 60 (British Standard Pipe)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, //Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default BSPFittingScreen1;","// components/Prices/JICPrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_JIC_PRICES = {\n    \"7/16\": \"7.00\",\n    \"9/16\": \"8.90\",\n    \"3/4\": \"9.10\",\n    \"7/8\": \"11.50\",\n    \"1-1/16\": \"13.50\",\n    \"1-3/16\": \"16.75\"\n};\n\nexport const getJICPrices = async () => {\n    try {\n\n        const response = await fetch(`${BASE_URL}/api/get-prices`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'x-api-key': API_CLIENT_KEY\n            }\n        });\n        \n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('Error response:', errorText);\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const text = await response.text();\n        \n        const data = JSON.parse(text);\n        return data.jicPrices || DEFAULT_JIC_PRICES;\n    } catch (error) {\n        console.error('Error fetching JIC prices:', error);\n        return DEFAULT_JIC_PRICES;\n    }\n};","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Animated, Platform } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getJICPrices } from '../components/Prices/JICPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 0.8).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n  \r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst JICFittingScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'JIC Male Straight', image: require('../assets/jic_male_straight.png') },\r\n    { name: 'JIC Female Straight', image: require('../assets/jic_female_straight.png') },\r\n    { name: 'JIC Female 45', image: require('../assets/jic_female_45.png') },\r\n    { name: 'JIC Female 90', image: require('../assets/jic_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '7/16\" - 20', basePrice: `${prices[\"7/16\"]}` },\r\n    { size: '9/16\" - 18', basePrice: `${prices[\"9/16\"]}` },\r\n    { size: '3/4\" - 16', basePrice: `${prices[\"3/4\"]}` },\r\n    { size: '7/8\" - 14', basePrice: `${prices[\"7/8\"]}` },\r\n    { size: '1-1/16\" - 12', basePrice: `${prices[\"1-1/16\"]}` },\r\n    { size: '1-3/16\" - 12', basePrice: `${prices[\"1-3/16\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the JIC compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['7/16\"', '9/16\"', '3/4\"'],\r\n    '3/8\"': ['9/16\"', '3/4\"', '7/8\"'],\r\n    '1/2\"': ['3/4\"', '7/8\"', '1-1/16\"'],\r\n    '5/8\"': ['7/8\"', '1-1/16\"'],\r\n    '3/4\"': ['7/8\"', '1-1/16\"', '1-3/16\"'],\r\n    '1\"': ['1-1/16\"', '1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (!selectedHose || !selectedHose.size) {\r\n      // If no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getJICPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          basePrice={size.basePrice}\r\n                          isOrderFittingMode={isOrderFittingMode}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>JIC 37 (Joint Industrial Council)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default JICFittingScreen1;","// components/Prices/MetricPrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_METRIC_PRICES = {\n    \"M12\": \"7.50\",\n    \"M14\": \"8.40\",\n    \"M16\": \"8.60\",\n    \"M18\": \"10.50\",\n    \"M22\": \"14.65\",\n    \"M26\": \"18.50\",\n    \"M30\": \"22.50\",\n    \"M36\": \"28.50\"\n};\n\nexport const getMetricPrices = async () => {\n    try {\n\n        const response = await fetch(`${BASE_URL}/api/get-prices`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'x-api-key': API_CLIENT_KEY\n            }\n        });\n        \n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('Error response:', errorText);\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const text = await response.text();\n        \n        const data = JSON.parse(text);\n        return data.metricPrices || DEFAULT_METRIC_PRICES;\n    } catch (error) {\n        console.error('Error fetching Metric prices:', error);\n        return DEFAULT_METRIC_PRICES;\n    }\n};","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getMetricPrices } from '../components/Prices/MetricPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\nconst isMobile = screenWidth < 800;\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 0.8).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n  \r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst MetricFittingScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'METRIC LIGHT Male Straight', image: require('../assets/metric_light_male_straight.png') },\r\n    { name: 'METRIC LIGHT Female Straight', image: require('../assets/metric_light_female_straight.png') },\r\n    { name: 'METRIC LIGHT Female 45', image: require('../assets/metric_light_female_45.png') },\r\n    { name: 'METRIC LIGHT Female 90', image: require('../assets/metric_light_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: 'M12 - 1.5', basePrice: `${prices[\"M12\"]}` },\r\n    { size: 'M14 - 1.5', basePrice: `${prices[\"M14\"]}` },\r\n    { size: 'M16 - 1.5', basePrice: `${prices[\"M16\"]}` },\r\n    { size: 'M18 - 1.5', basePrice: `${prices[\"M18\"]}` },\r\n    { size: 'M22 - 1.5', basePrice: `${prices[\"M22\"]}` },\r\n    { size: 'M26 - 1.5', basePrice: `${prices[\"M26\"]}` },\r\n    { size: 'M30 - 2', basePrice: `${prices[\"M30\"]}` },\r\n    { size: 'M36 - 2', basePrice: `${prices[\"M36\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the Metric compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['M12', 'M14', 'M16', 'M18'],\r\n    '3/8\"': ['M18', 'M22'],\r\n    '1/2\"': ['M22', 'M26'],\r\n    '5/8\"': ['M26', 'M30'],\r\n    '3/4\"': ['M30', 'M36'],\r\n    '1\"': ['M36']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (!selectedHose || !selectedHose.size) {\r\n      // If no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getMetricPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Thread Pitch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          basePrice={size.basePrice}\r\n                          isOrderFittingMode={isOrderFittingMode}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n        \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>METRIC LIGHT 24 (O-Ring Cone)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, //Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default MetricFittingScreen1;","// components/Prices/ORFSPrices.js\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\nconst API_CLIENT_KEY = process.env.REACT_APP_API_CLIENT_KEY;\n\nconst DEFAULT_ORFS_PRICES = {\n    \"9/16\": \"7.70\",\n    \"11/16\": \"8.85\",\n    \"13/16\": \"10.25\",\n    \"1\": \"16.95\",\n    \"1-3/16\": \"24.50\"\n};\n\nexport const getORFSPrices = async () => {\n    try {\n\n        const response = await fetch(`${BASE_URL}/api/get-prices`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'x-api-key': API_CLIENT_KEY\n            }\n        });\n        \n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('Error response:', errorText);\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const text = await response.text();\n        \n        const data = JSON.parse(text);\n        return data.orfsPrices || DEFAULT_ORFS_PRICES;\n    } catch (error) {\n        console.error('Error fetching ORFS prices:', error);\n        return DEFAULT_ORFS_PRICES;\n    }\n};","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getORFSPrices } from '../components/Prices/ORFSPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 0.8).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n  \r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst OrfsScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'ORFS Male Straight', image: require('../assets/orfs_male_straight.png') },\r\n    { name: 'ORFS Female Straight', image: require('../assets/orfs_female_straight.png') },\r\n    { name: 'ORFS Female 45', image: require('../assets/orfs_female_45.png') },\r\n    { name: 'ORFS Female 90', image: require('../assets/orfs_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '9/16\" - 18', basePrice: `${prices[\"9/16\"]}` },\r\n    { size: '11/16\" - 16', basePrice: `${prices[\"11/16\"]}` },\r\n    { size: '13/16\" - 16', basePrice: `${prices[\"13/16\"]}` },\r\n    { size: '1\" - 14', basePrice: `${prices[\"1\"]}` },\r\n    { size: '1-3/16\" - 12', basePrice: `${prices[\"1-3/16\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the ORFS compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['9/16\"', '11/16\"'],\r\n    '3/8\"': ['11/16\"', '13/16\"'],\r\n    '1/2\"': ['13/16\"', '1\"'],\r\n    '5/8\"': ['1\"', '1-3/16\"'],\r\n    '3/4\"': ['1\"', '1-3/16\"'],\r\n    '1\"': ['1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (!selectedHose || !selectedHose.size) {\r\n      // If no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getORFSPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                {isOrderFittingMode ? (\r\n                  <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n                ) : (\r\n                  <>\r\n                    <Text style={styles.titleText}>Select END </Text>\r\n                    <View style={styles.circleWrapper}>\r\n                      <Text style={styles.circleText}>1</Text>\r\n                    </View>\r\n                    <Text style={styles.titleText}> Thread</Text>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          basePrice={size.basePrice}\r\n                          isOrderFittingMode={isOrderFittingMode}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>O.R.F.S (O-Ring Flat Seal)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default OrfsScreen1;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated, Modal, TouchableWithoutFeedback } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400;\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\r\n\r\nexport const isWebDesktop = () => {\r\n  // Check if we're on web\r\n  const isWeb = Platform.OS === 'web';\r\n  \r\n  // Check if the device is likely a desktop (wider than 768px)\r\n  try {\r\n    const isLikelyDesktop = isWeb && Dimensions.get('window').width > 768;\r\n    return isLikelyDesktop;\r\n  } catch (error) {\r\n    // Default to false if dimensions can't be determined\r\n    return false;\r\n  }\r\n};\r\n\r\nconst FittingTypeButton = ({ type, description, onPress, isSelected, onHelpPress }) => (\r\n  <TouchableOpacity \r\n    style={[styles.fittingButton, isSelected && styles.selectedFittingButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.fittingContent}>\r\n      <Text style={styles.fittingButtonText}>{type}</Text>\r\n      <Text style={styles.fittingDescription}>{description}</Text>\r\n    </View>\r\n    <TouchableOpacity \r\n      style={styles.helpIcon} \r\n      onPress={onHelpPress}\r\n      activeOpacity={0.6}\r\n      hitSlop={{ top: 10, bottom: 10, left: 10, right: 10 }}\r\n    >\r\n      <View style={styles.helpIconBackground}>\r\n        <Text style={styles.helpIconText}>?</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst End2FittingScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedEnd2Fitting, setSelectedEnd2Fitting] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price } = route.params || {};\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false);\r\n  const [currentHelpImage, setCurrentHelpImage] = useState(null);\r\n  const helpFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showDiagramOverlay, setShowDiagramOverlay] = useState(false);\r\n  const diagramFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const helpModalFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const diagramModalFadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const fittingTypes = [\r\n    { type: 'BSP 60', description: 'British Standard Pipe', helpImage: require('../assets/bsp_help.png') },\r\n    { type: 'JIC 37', description: 'Joint Industrial Council', helpImage: require('../assets/jic_help.png') },\r\n    { type: 'METRIC LIGHT 24', description: 'Cone O-Ring', helpImage: require('../assets/metric_help.png') },\r\n    { type: 'O.R.F.S', description: 'O-Ring Flat Seal', helpImage: require('../assets/orfs_help.png') },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      //setSelectedEnd2Fitting(null);\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const handleFittingSelection = (type) => {\r\n    setSelectedEnd2Fitting(type);\r\n    \r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      switch (type) {\r\n        case 'BSP 60':\r\n          navigation.navigate('BSPFittingScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        case 'JIC 37':\r\n          navigation.navigate('JICFittingScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        case 'METRIC LIGHT 24':\r\n          navigation.navigate('MetricFittingScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        case 'O.R.F.S':\r\n          navigation.navigate('OrfsScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        default:\r\n          console.log('Selected Hose:', selectedHose);\r\n          console.log('Selected Fitting:', type);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleHelpPress = (helpImage) => {\r\n    setCurrentHelpImage(helpImage);\r\n    setShowHelpOverlay(true);\r\n    helpModalFadeAnim.setValue(0);\r\n    Animated.timing(helpModalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n  \r\n  const closeHelpOverlay = () => {\r\n    Animated.timing(helpModalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowHelpOverlay(false);\r\n    });\r\n  };\r\n  \r\n  const handleDiagramPress = () => {\r\n    setShowDiagramOverlay(true);\r\n    diagramModalFadeAnim.setValue(0);\r\n    Animated.timing(diagramModalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n  \r\n  const closeDiagramOverlay = () => {\r\n    Animated.timing(diagramModalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowDiagramOverlay(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button - Outside scroll wrapper */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n  \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            \r\n            <TouchableOpacity onPress={handleDiagramPress}>\r\n              <Image\r\n                source={require('../assets/end2_thread_diagram.gif')}\r\n                style={styles.diagram}\r\n                resizeMode=\"contain\"\r\n              />\r\n              <Text style={styles.clickToEnlargeText}>Click photo to enlarge</Text>\r\n            </TouchableOpacity>\r\n            \r\n            <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\r\n              {fittingTypes.map((fitting, index) => (\r\n                <FittingTypeButton\r\n                  key={index}\r\n                  type={fitting.type}\r\n                  description={fitting.description}\r\n                  onPress={() => handleFittingSelection(fitting.type)}\r\n                  isSelected={selectedEnd2Fitting === fitting.type}\r\n                  onHelpPress={() => handleHelpPress(fitting.helpImage)}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n  \r\n      {/* Keep Modal outside ScrollableGradientWrapper */}\r\n      <Modal\r\n        transparent={true}\r\n        visible={showHelpOverlay}\r\n        onRequestClose={closeHelpOverlay}\r\n        animationType=\"none\" // Control animation manually\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <TouchableOpacity\r\n            style={styles.overlayBackground}\r\n            activeOpacity={1}\r\n            onPress={closeHelpOverlay}\r\n          />\r\n          <Animated.View style={[\r\n            styles.helpImageContainer, \r\n            { \r\n              opacity: helpModalFadeAnim, \r\n              transform: [{ scale: helpModalFadeAnim }] \r\n            }\r\n          ]}>\r\n            <TouchableOpacity\r\n              style={styles.closeModalButton}\r\n              onPress={closeHelpOverlay}\r\n            >\r\n              <Text style={styles.closeModalButtonText}></Text>\r\n            </TouchableOpacity>\r\n            <Text style={styles.modalTitle}>Fitting Information</Text>\r\n            <Image\r\n              source={currentHelpImage}\r\n              style={styles.helpImage}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </Animated.View>\r\n        </View>\r\n      </Modal>\r\n\r\n      <Modal\r\n        transparent={true}\r\n        visible={showDiagramOverlay}\r\n        onRequestClose={closeDiagramOverlay}\r\n        animationType=\"none\" // Control animation manually\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <TouchableOpacity\r\n            style={styles.overlayBackground}\r\n            activeOpacity={1}\r\n            onPress={closeDiagramOverlay}\r\n          />\r\n          <Animated.View style={[\r\n            styles.diagramImageContainer, \r\n            { \r\n              opacity: diagramModalFadeAnim, \r\n              transform: [{ scale: diagramModalFadeAnim }] \r\n            }\r\n          ]}>\r\n            <TouchableOpacity\r\n              style={styles.closeModalButton}\r\n              onPress={closeDiagramOverlay}\r\n            >\r\n              <Text style={styles.closeModalButtonText}></Text>\r\n            </TouchableOpacity>\r\n            <Text style={styles.modalTitle}>Thread Diagram</Text>\r\n            <Image\r\n              source={require('../assets/end2_thread_diagram.gif')}\r\n              style={styles.enlargedDiagram}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </Animated.View>\r\n        </View>\r\n      </Modal>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignSelf: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    marginTop: 30,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 25,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  diagram: {\r\n    width: '100%',\r\n    height: 200,\r\n    marginVertical: 20,\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n    paddingBottom: 20,\r\n  },\r\n  fittingButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    overflow: 'hidden',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedFittingButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  fittingContent: {\r\n    padding: 15,\r\n    paddingRight: 44,\r\n  },\r\n  fittingButtonText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n  },\r\n  fittingDescription: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  helpIcon: {\r\n    position: 'absolute',\r\n    top: 0,  // Changed from 5\r\n    right: 0, // Changed from 5\r\n    width: 44, // Increased from 24 - Apple's recommended minimum touch target size\r\n    height: 44, // Increased from 24\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  helpIconText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    width: 24,  // Keep visual size the same\r\n    height: 24, // Keep visual size the same\r\n    borderRadius: 12,\r\n    textAlign: 'center',\r\n    lineHeight: 24, // Center text vertically\r\n  },\r\n  helpIconBackground: {\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  clickToEnlargeText: {\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n    fontSize: 18,\r\n    marginTop: 5,\r\n    fontWeight: 'Bold',\r\n    marginBottom: 20,\r\n  },\r\n  diagramImageContainer: {\r\n    width: isWebDesktop() ? '90%' : '92%',\r\n    maxWidth: isWebDesktop() ? 1200 : 450,\r\n    backgroundColor: 'rgba(74, 74, 74, 0.9)',\r\n    borderRadius: 20,\r\n    paddingHorizontal: isWebDesktop() ? 30 : 15,\r\n    paddingTop: isWebDesktop() ? 25 : 12,\r\n    paddingBottom: isWebDesktop() ? 25 : 12,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.35,\r\n    shadowRadius: 6,\r\n    elevation: 10,\r\n    position: 'relative',\r\n  },\r\n  closeModalButton: {\r\n    position: 'absolute',\r\n    top: isWebDesktop() ? 20 : 10,\r\n    right: isWebDesktop() ? 20 : 10,\r\n    width: isWebDesktop() ? 50 : 40,\r\n    height: isWebDesktop() ? 50 : 40,\r\n    borderRadius: isWebDesktop() ? 25 : 20,\r\n    backgroundColor: '#ffc100',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n  },\r\n  closeModalButtonText: {\r\n    color: '#4a4a4a',\r\n    fontSize: isWebDesktop() ? 36 : 30,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    lineHeight: isWebDesktop() ? 40 : 34,\r\n    includeFontPadding: false,\r\n    textAlignVertical: 'center',\r\n    paddingBottom: Platform.OS === 'ios' ? 4 : (isWebDesktop ? 4 : 0),\r\n    paddingTop: isWebDesktop ? 2 : 0,\r\n    paddingLeft: isWebDesktop ? 1 : 0,\r\n  },\r\n  modalTitle: {\r\n    fontSize: isWebDesktop() ? 32 : 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    marginBottom: isWebDesktop() ? 20 : 6,\r\n    marginTop: isWebDesktop() ? 15 : 5,\r\n    textAlign: 'center',\r\n  },\r\n  enlargedDiagram: {\r\n    width: '100%',\r\n    height: isWebDesktop() ? 800 : 400,\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n    borderRadius: 10,\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n  },\r\n  helpImageContainer: {\r\n    width: isWebDesktop() ? '90%' : '92%',\r\n    maxWidth: isWebDesktop() ? 1200 : 450,\r\n    backgroundColor: 'rgba(74, 74, 74, 0.9)',\r\n    borderRadius: 20,\r\n    paddingHorizontal: isWebDesktop() ? 30 : 15,\r\n    paddingTop: isWebDesktop() ? 25 : 12,\r\n    paddingBottom: isWebDesktop() ? 25 : 12,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.35,\r\n    shadowRadius: 6,\r\n    elevation: 10,\r\n    position: 'relative',\r\n  },\r\n  helpImage: {\r\n    width: '100%',\r\n    height: isWebDesktop() ? 800 : 400,\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n    borderRadius: 10,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: -20,\r\n    right: -20,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#4a4a4a',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  closeButtonText: {\r\n    color: 'white',\r\n    fontSize: 35,\r\n    textAlign: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default End2FittingScreen;","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getBSPPrices } from '../components/Prices/BSPPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n\r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {price} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst BSPFittingScreen2 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const {selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params || {};\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'BSP Male Straight Tapered', image: require('../assets/bsp_male_straight_tapered.png') },\r\n    { name: 'BSP Male Straight Parallel', image: require('../assets/bsp_male_straight_parallel.png') },\r\n    { name: 'BSP Female Straight', image: require('../assets/bsp_female_straight.png') },\r\n    { name: 'BSP Female 45', image: require('../assets/bsp_female_45.png') },\r\n    { name: 'BSP Female 90', image: require('../assets/bsp_female_90.png') },\r\n    { name: 'BSP Banjo', image: require('../assets/bsp_banjo.png') }\r\n  ];\r\n\r\n  // Define all available sizes & therir prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '1/8\" - 28', basePrice: `${prices[\"1/8\"]}` },\r\n    { size: '1/4\" - 19', basePrice: `${prices[\"1/4\"]}` },\r\n    { size: '3/8\" - 19', basePrice: `${prices[\"3/8\"]}` },\r\n    { size: '1/2\" - 14', basePrice: `${prices[\"1/2\"]}` },\r\n    { size: '3/4\" - 14', basePrice: `${prices[\"3/4\"]}` },\r\n    { size: '1\" - 11', basePrice: `${prices[\"1\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the compatibility matrix\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['1/8\"', '1/4\"', '3/8\"'],\r\n    '3/8\"': ['1/4\"', '3/8\"', '1/2\"'],\r\n    '1/2\"': ['3/8\"', '1/2\"', '3/4\"'],\r\n    '5/8\"': ['1/2\"', '3/4\"'],\r\n    '3/4\"': ['3/4\"', '1\"'],\r\n    '1\"': ['1\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getBSPPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces and converting to number\r\n      const priceNumeric = parseFloat(selectedSizeObj.basePrice);\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    \r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice, \r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest prices for BSP Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.basePrice}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>BSP 60 (British Standard Pipe)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1, // Fixed typo from 'fkex: 1'\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  }, \r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default BSPFittingScreen2;","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Animated, Platform } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getJICPrices } from '../components/Prices/JICPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n\r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst JICFittingScreen2 = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params || {};\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'JIC Male Straight', image: require('../assets/jic_male_straight.png') },\r\n    { name: 'JIC Female Straight', image: require('../assets/jic_female_straight.png') },\r\n    { name: 'JIC Female 45', image: require('../assets/jic_female_45.png') },\r\n    { name: 'JIC Female 90', image: require('../assets/jic_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '7/16\" - 20', basePrice: `${prices[\"7/16\"]}` },\r\n    { size: '9/16\" - 18', basePrice: `${prices[\"9/16\"]}` },\r\n    { size: '3/4\" - 16', basePrice: `${prices[\"3/4\"]}` },\r\n    { size: '7/8\" - 14', basePrice: `${prices[\"7/8\"]}` },\r\n    { size: '1-1/16\" - 12', basePrice: `${prices[\"1-1/16\"]}` },\r\n    { size: '1-3/16\" - 12', basePrice: `${prices[\"1-3/16\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the JIC compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['7/16\"', '9/16\"', '3/4\"'],\r\n    '3/8\"': ['9/16\"', '3/4\"', '7/8\"'],\r\n    '1/2\"': ['3/4\"', '7/8\"', '1-1/16\"'],\r\n    '5/8\"': ['7/8\"', '1-1/16\"'],\r\n    '3/4\"': ['7/8\"', '1-1/16\"', '1-3/16\"'],\r\n    '1\"': ['1-1/16\"', '1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getJICPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces\r\n      const priceNumeric = parseFloat(selectedSizeObj.basePrice.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n   \r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice, \r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest prices for JIC Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.basePrice}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>JIC 37 (Joint Industrial Council)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default JICFittingScreen2;","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getMetricPrices } from '../components/Prices/MetricPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\nconst isMobile = screenWidth < 800;\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\n// Modified SizeButton component\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n\r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst MetricFittingScreen2 = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params || {};\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'METRIC LIGHT Male Straight', image: require('../assets/metric_light_male_straight.png') },\r\n    { name: 'METRIC LIGHT Female Straight', image: require('../assets/metric_light_female_straight.png') },\r\n    { name: 'METRIC LIGHT Female 45', image: require('../assets/metric_light_female_45.png') },\r\n    { name: 'METRIC LIGHT Female 90', image: require('../assets/metric_light_female_90.png') },\r\n  ];\r\n\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: 'M12 - 1.5', basePrice: `${prices[\"M12\"]}` },\r\n    { size: 'M14 - 1.5', basePrice: `${prices[\"M14\"]}` },\r\n    { size: 'M16 - 1.5', basePrice: `${prices[\"M16\"]}` },\r\n    { size: 'M18 - 1.5', basePrice: `${prices[\"M18\"]}` },\r\n    { size: 'M22 - 1.5', basePrice: `${prices[\"M22\"]}` },\r\n    { size: 'M26 - 1.5', basePrice: `${prices[\"M26\"]}` },\r\n    { size: 'M30 - 2', basePrice: `${prices[\"M30\"]}` },\r\n    { size: 'M36 - 2', basePrice: `${prices[\"M36\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['M12', 'M14', 'M16', 'M18'],\r\n    '3/8\"': ['M18', 'M22'],\r\n    '1/2\"': ['M22', 'M26'],\r\n    '5/8\"': ['M26', 'M30'],\r\n    '3/4\"': ['M30', 'M36'],\r\n    '1\"': ['M36']\r\n  };\r\n\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    return allSizes.filter(sizeObj => compatibleSizes.includes(sizeObj.size.split(' ')[0]));\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n      return () => contentFadeAnim.setValue(0);\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      try {\r\n        const fetchedPrices = await getMetricPrices();\r\n        setPrices(fetchedPrices);\r\n        Animated.sequence([\r\n          Animated.timing(loadingFadeAnim, { toValue: 0, duration: 200, useNativeDriver: Platform.OS === 'native' }),\r\n          Animated.delay(100),\r\n          Animated.timing(contentFadeAnim, { toValue: 1, duration: 200, useNativeDriver: Platform.OS === 'native' })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null);\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      const priceNumeric = parseFloat(selectedSizeObj.basePrice.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n\r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting, end2Shape: shape, end2Size: size, end2Price: price,\r\n        });\r\n      } else {\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting, end2Shape: shape, end2Size: size, end2Price: price,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[styles.mainContainer, styles.loadingContainer, { opacity: loadingFadeAnim }]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image source={require('../assets/fluidpower_logo.gif')} style={styles.loadingLogo} resizeMode=\"contain\" />\r\n          <Text style={styles.loadingText}>Fetching lowest price for Metric Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      <TouchableOpacity style={styles.floatingBackButton} onPress={() => navigation.goBack()}>\r\n      <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image source={require('../assets/fluidpower_logo.gif')} style={styles.logo} resizeMode=\"contain\" />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Thread Pitch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.basePrice}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>METRIC LIGHT 24 (O-Ring Cone)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n  \r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, //Adjsut this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n},\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n      width: BUTTON_WIDTH,\r\n      alignItems: 'center',\r\n      marginTop: 10,\r\n      marginBottom: 15,\r\n      padding: 15,\r\n      backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n      width: '50%',\r\n      height: 150,\r\n      marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n      alignSelf: 'center',\r\n      marginBottom: 30,\r\n      backgroundColor: '#ffc100',\r\n      borderWidth: 4,\r\n      borderColor: '#4a4a4a',\r\n      borderRadius: 25,\r\n      paddingVertical: 8,\r\n      paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n      fontSize: 16,\r\n      fontWeight: 'bold',\r\n      color: '#4a4a4a',\r\n      textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default MetricFittingScreen2;","import React, { useState, useRef, useCallback, useMemo, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport { getORFSPrices } from '../components/Prices/ORFSPrices';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: screenWidth } = Dimensions.get('window');\r\nconst isMobile = screenWidth < 800;\r\nconst MAX_COLUMN_WIDTH = Math.min(400, screenWidth * 0.45);\r\nconst BUTTON_WIDTH = Math.min(350, screenWidth * 0.4);\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n      <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => {\r\n  const isMobileScreen = isMobile;\r\n  const sizeButtonContentStyle = {\r\n    flexDirection: isMobileScreen ? 'column' : 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  };\r\n  const sizeTextContainerStyle = isMobileScreen ? { alignItems: 'center', marginBottom: 5 } : { flex: 1, marginRight: 10 };\r\n  const priceBorderStyle = isMobileScreen ? { minWidth: null, width: '100%' } : { minWidth: 120 };\r\n\r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={sizeButtonContentStyle}>\r\n        <View style={[styles.sizeTextContainer, sizeTextContainerStyle]}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, priceBorderStyle, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst OrfsScreen2 = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params;\r\n  const loadingFadeAnim = useRef(new Animated.Value(1)).current;\r\n  const contentFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [prices, setPrices] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const shapes = [\r\n    { name: 'ORFS Male Straight', image: require('../assets/orfs_male_straight.png') },\r\n    { name: 'ORFS Female Straight', image: require('../assets/orfs_female_straight.png') },\r\n    { name: 'ORFS Female 45', image: require('../assets/orfs_female_45.png') },\r\n    { name: 'ORFS Female 90', image: require('../assets/orfs_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = useMemo(() => prices ? [\r\n    { size: '9/16\" - 18', basePrice: `${prices[\"9/16\"]}` },\r\n    { size: '11/16\" - 16', basePrice: `${prices[\"11/16\"]}` },\r\n    { size: '13/16\" - 16', basePrice: `${prices[\"13/16\"]}` },\r\n    { size: '1\" - 14', basePrice: `${prices[\"1\"]}` },\r\n    { size: '1-3/16\" - 12', basePrice: `${prices[\"1-3/16\"]}` }\r\n  ] : [], [prices]);\r\n\r\n  // Define the ORFS compatibility matrix\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['9/16\"', '11/16\"'],\r\n    '3/8\"': ['11/16\"', '13/16\"'],\r\n    '1/2\"': ['13/16\"', '1\"'],\r\n    '5/8\"': ['1\"', '1-3/16\"'],\r\n    '3/4\"': ['1\"', '1-3/16\"'],\r\n    '1\"': ['1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(contentFadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        contentFadeAnim.setValue(0);\r\n      };\r\n    }, [contentFadeAnim])\r\n  );\r\n\r\n  useEffect(() => {\r\n    const loadPrices = async () => {\r\n      setIsLoading(true);\r\n      setShowContent(false);\r\n      loadingFadeAnim.setValue(1);\r\n      contentFadeAnim.setValue(0);\r\n      \r\n      try {\r\n        const fetchedPrices = await getORFSPrices();\r\n        setPrices(fetchedPrices);\r\n        \r\n        // Use sequence instead of parallel\r\n        Animated.sequence([\r\n          // First fade out loading\r\n          Animated.timing(loadingFadeAnim, {\r\n            toValue: 0,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          }),\r\n          // Small delay before content appears\r\n          Animated.delay(100),\r\n          // Then fade in content\r\n          Animated.timing(contentFadeAnim, {\r\n            toValue: 1,\r\n            duration: 200,\r\n            useNativeDriver: Platform.OS === 'native',\r\n          })\r\n        ]).start(() => {\r\n          setIsLoading(false);\r\n          setShowContent(true);\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading prices:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadPrices();\r\n  }, []);\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces\r\n      const priceNumeric = parseFloat(selectedSizeObj.basePrice.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(contentFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (isLoading || !showContent) {\r\n    return (\r\n      <Animated.View style={[\r\n        styles.mainContainer,\r\n        styles.loadingContainer,\r\n        { opacity: loadingFadeAnim }\r\n      ]}>\r\n        <View style={styles.loadingContent}>\r\n          <Image\r\n            source={require('../assets/fluidpower_logo.gif')}\r\n            style={styles.loadingLogo}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Text style={styles.loadingText}>Fetching lowest price for ORFS Fittings ...</Text>\r\n        </View>\r\n      </Animated.View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Animated.View style={[styles.mainContainer, { opacity: contentFadeAnim }]}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: contentFadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView \r\n                      contentContainerStyle={styles.scrollViewContent}\r\n                      style={styles.scrollView}\r\n                      showsVerticalScrollIndicator={false}\r\n                    >\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.basePrice}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>O.R.F.S (O-Ring Flat Seal)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n    touchAction: 'manipulation', // Enables native touch behaviors\r\n    WebkitOverflowScrolling: 'touch', // For iOS momentum scrolling\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 4,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  loadingContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  loadingContent: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingLogo: {\r\n    width: 400,\r\n    height: 200,\r\n    marginBottom: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'space-between',\r\n    paddingHorizontal: 5,\r\n    paddingBottom: 80, // Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: '48%', // Use percentage instead of fixed width\r\n    minWidth: 150, // Minimum width to ensure readability\r\n    maxWidth: MAX_COLUMN_WIDTH,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 5, // Reduced padding\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 8,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: Math.min(16, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 80,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 15,\r\n    backgroundColor: 'transparent',\r\n    width: '95%',\r\n    minWidth: 150,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: Math.min(18, screenWidth * 0.04),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: Math.min(20, screenWidth * 0.045),\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default OrfsScreen2;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, Modal, StyleSheet, TouchableOpacity, TouchableWithoutFeedback, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst isMobile = SCREEN_WIDTH < 700;\r\n\r\nexport const isWebDesktop = () => {\r\n  // Check if we're on web\r\n  const isWeb = Platform.OS === 'web';\r\n  \r\n  // Check if the device is likely a desktop (wider than 768px)\r\n  try {\r\n    const isLikelyDesktop = isWeb && Dimensions.get('window').width > 768;\r\n    return isLikelyDesktop;\r\n  } catch (error) {\r\n    // Default to false if dimensions can't be determined\r\n    return false;\r\n  }\r\n};\r\n\r\nconst AngleButton = ({ angle, image, onPress, isSelected, onHelpPress }) => (\r\n  <TouchableOpacity \r\n    style={[styles.angleButton, isSelected && styles.selectedAngleButton]} \r\n    onPress={onPress}\r\n  >\r\n    <Image source={image} style={styles.angleImage} resizeMode=\"contain\" />\r\n    <Text style={styles.angleText}>{angle}</Text>\r\n    <TouchableOpacity \r\n      style={styles.helpIcon} \r\n      onPress={onHelpPress}\r\n      hitSlop={{ top: 10, right: 10, bottom: 10, left: 10 }} // Additional hit area\r\n    >\r\n      <View style={styles.helpIconVisual}>\r\n        <Text style={styles.helpIconText}>?</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst NotSureButton = ({ onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[\r\n      styles.notSureButton, \r\n      isSelected && styles.selectedAngleButton\r\n    ]} \r\n    onPress={onPress}\r\n  >\r\n    <Text style={styles.notSureText}>NOT SURE</Text>\r\n    <Text style={styles.notSureSubtext1}>Click Here if you're Unsure and</Text>\r\n    <Text style={styles.notSureSubtext2}>we'll contact you to understand your Requirements</Text>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst OrientationSelectionScreen = ({ route }) => { \r\n  const navigation = useNavigation();\r\n  const [selectedAngle, setSelectedAngle] = useState(null);\r\n  const { selectedHose, selectedHosePrice,  selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting, end2Shape, end2Size, end2Price  } = route.params;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false);\r\n  const [currentHelpImage, setCurrentHelpImage] = useState(null);\r\n  const helpFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showDiagramOverlay, setShowDiagramOverlay] = useState(false);\r\n  const diagramFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const helpModalFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const diagramModalFadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const angles = [\r\n    { angle: '0', image: require('../assets/0_degrees.png'), helpImage: require('../assets/0_degrees_help.png') },\r\n    { angle: '45', image: require('../assets/45_degrees.png'), helpImage: require('../assets/45_degrees_help.png') },\r\n    { angle: '90', image: require('../assets/90_degrees.png'), helpImage: require('../assets/90_degrees_help.png') },\r\n    { angle: '135', image: require('../assets/135_degrees.png'), helpImage: require('../assets/135_degrees_help.png') },\r\n    { angle: '180', image: require('../assets/180_degrees.png'), helpImage: require('../assets/180_degrees_help.png') },\r\n    { angle: '225', image: require('../assets/225_degrees.png'), helpImage: require('../assets/225_degrees_help.png') },\r\n    { angle: '270', image: require('../assets/270_degrees.png'), helpImage: require('../assets/270_degrees_help.png') },\r\n    { angle: '315', image: require('../assets/315_degrees.png'), helpImage: require('../assets/315_degrees_help.png') },\r\n    { angle: 'NOT SURE', image: null }\r\n  ];\r\n\r\n\r\n\r\n  const handleAngleSelection = (angle) => {\r\n    setSelectedAngle(angle);\r\n    // Start fade-out animation\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start(() => {\r\n      // Navigate to next screen after fade-out completes\r\n      navigation.navigate('CutLengths', { \r\n        selectedHose,\r\n        selectedHosePrice, \r\n        selectedFitting,\r\n        end1Shape, \r\n        end1Size,\r\n        end1Price,\r\n        selectedEnd2Fitting,\r\n        end2Shape,\r\n        end2Size,\r\n        end2Price,\r\n        selectedAngle: angle\r\n      });\r\n    });\r\n  };\r\n\r\n  const handleHelpPress = (helpImage) => {\r\n    setCurrentHelpImage(helpImage);\r\n    setShowHelpOverlay(true);\r\n    helpModalFadeAnim.setValue(0);\r\n    Animated.timing(helpModalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n  \r\n  const closeHelpOverlay = () => {\r\n    Animated.timing(helpModalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowHelpOverlay(false);\r\n    });\r\n  };\r\n  \r\n  const handleDiagramPress = () => {\r\n    setShowDiagramOverlay(true);\r\n    diagramModalFadeAnim.setValue(0);\r\n    Animated.timing(diagramModalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n  \r\n  const closeDiagramOverlay = () => {\r\n    Animated.timing(diagramModalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowDiagramOverlay(false);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Fade in animation when the component mounts\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  // Reset fade-in when screen comes into focus\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      //setSelectedAngle(null);\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>      \r\n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <Text style={styles.titleText}>Select ORIENTATION</Text>\r\n            </View>\r\n            <View style={styles.subtitleContainer}>\r\n              <Text style={styles.subtitleText}>*No Extra Charges*</Text>\r\n            </View>\r\n            <TouchableOpacity onPress={handleDiagramPress}>\r\n                <Image\r\n                    source={require('../assets/line_of_sight.png')}\r\n                    style={styles.diagram}\r\n                    resizeMode=\"contain\"\r\n                />\r\n                <Text style={styles.clickToEnlargeText}>Click photo to enlarge</Text>\r\n            </TouchableOpacity>\r\n            <ScrollView \r\n                style={styles.scrollView} \r\n                contentContainerStyle={styles.scrollViewContent}\r\n                centerContent={true}\r\n              >\r\n                <View style={styles.angleButtonsContainer}>\r\n                  {angles.slice(0, 8).map((angleData, index) => (\r\n                    <View key={index} style={styles.angleButtonWrapper}>\r\n                      <AngleButton\r\n                        angle={angleData.angle}\r\n                        image={angleData.image}\r\n                        onPress={() => handleAngleSelection(angleData.angle)}\r\n                        isSelected={selectedAngle === angleData.angle}\r\n                        onHelpPress={() => angleData.helpImage && handleHelpPress(angleData.helpImage)}\r\n                      />\r\n                    </View>\r\n                  ))}\r\n                  <NotSureButton\r\n                    onPress={() => handleAngleSelection('NOT SURE')}\r\n                    isSelected={selectedAngle === 'NOT SURE'}\r\n                  />\r\n                </View>\r\n              </ScrollView>\r\n          </Animated.View>\r\n\r\n          <Modal\r\n            transparent={true}\r\n            visible={showDiagramOverlay}\r\n            onRequestClose={closeDiagramOverlay}\r\n            animationType=\"none\" // Control animation manually\r\n          >\r\n            <View style={styles.modalOverlay}>\r\n              <TouchableOpacity\r\n                style={styles.overlayBackground}\r\n                activeOpacity={1}\r\n                onPress={closeDiagramOverlay}\r\n              />\r\n              <Animated.View style={[\r\n                styles.diagramImageContainer, \r\n                { \r\n                  opacity: diagramModalFadeAnim, \r\n                  transform: [{ scale: diagramModalFadeAnim }] \r\n                }\r\n              ]}>\r\n                <TouchableOpacity\r\n                  style={styles.closeModalButton}\r\n                  onPress={closeDiagramOverlay}\r\n                >\r\n                  <Text style={styles.closeModalButtonText}></Text>\r\n                </TouchableOpacity>\r\n                <Text style={styles.modalTitle}>Thread Diagram</Text>\r\n                <Image\r\n                  source={require('../assets/line_of_sight.png')}\r\n                  style={styles.enlargedDiagram}\r\n                  resizeMode=\"contain\"\r\n                />\r\n              </Animated.View>\r\n            </View>\r\n          </Modal>\r\n\r\n            <Modal\r\n              transparent={true}\r\n              visible={showHelpOverlay}\r\n              onRequestClose={closeHelpOverlay}\r\n              animationType=\"none\" // Control animation manually\r\n            >\r\n              <View style={styles.modalOverlay}>\r\n                <TouchableOpacity\r\n                  style={styles.overlayBackground}\r\n                  activeOpacity={1}\r\n                  onPress={closeHelpOverlay}\r\n                />\r\n                <Animated.View style={[\r\n                  styles.helpImageContainer, \r\n                  { \r\n                    opacity: helpModalFadeAnim, \r\n                    transform: [{ scale: helpModalFadeAnim }] \r\n                  }\r\n                ]}>\r\n                  <TouchableOpacity\r\n                    style={styles.closeModalButton}\r\n                    onPress={closeHelpOverlay}\r\n                  >\r\n                    <Text style={styles.closeModalButtonText}></Text>\r\n                  </TouchableOpacity>\r\n                  <Text style={styles.modalTitle}>Fitting Orientation Information</Text>\r\n                  <Image\r\n                    source={currentHelpImage}\r\n                    style={styles.helpImage}\r\n                    resizeMode=\"contain\"\r\n                  />\r\n                </Animated.View>\r\n              </View>\r\n            </Modal>\r\n\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 5,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  subtitleContainer: {\r\n  alignItems: 'center',\r\n  marginTop: 20,\r\n  },\r\n  subtitleText: {\r\n  fontSize: 24,\r\n  fontWeight: 'bold',\r\n  color: '#ffc100',\r\n  textAlign: 'center',\r\n  },\r\n  logo: {\r\n    width: '100%',\r\n    height: undefined,\r\n    aspectRatio: 2, // Adjust based on your logo's aspect ratio\r\n    resizeMode: 'contain',\r\n    maxWidth: 400,\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    flexGrow: 1,\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    paddingVertical: 0,\r\n    paddingBottom: isMobile ? 200 : 170,\r\n    minHeight: '100%',\r\n  },\r\n  angleButtonsContainer: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-evenly',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    maxWidth: 800,\r\n    alignSelf: 'center',\r\n    paddingHorizontal: 15,\r\n    marginTop: 0,\r\n  },\r\n  angleButtonWrapper: {\r\n    width: isMobile ? '45%' : '23%', // Change from 23% to 45% for mobile (2 columns)\r\n    aspectRatio: 1,\r\n    paddingVertical: isMobile ? 10 : 18,\r\n    paddingHorizontal: isMobile ? 5 : 8,\r\n    marginBottom: isMobile ? 20 : 0,\r\n  },\r\n  notSureButton: {\r\n    width: isMobile ? '92%' : '48%', // Wider for mobile\r\n    aspectRatio: isMobile ? 3 : 2, // More rectangular on mobile\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    overflow: 'hidden',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#fff',\r\n    marginTop: 20,\r\n    marginBottom: isMobile ? 40 : 20,\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  notSureText: {\r\n    fontSize: isMobile ? 20 : 24,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    marginBottom: 5,\r\n  },\r\n  notSureSubtext1: {\r\n    fontSize: 16,\r\n    color: 'black',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  notSureSubtext2: {\r\n    fontSize: 16,\r\n    color: 'black',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  diagram: {\r\n    width: '100%',\r\n    height: undefined,\r\n    aspectRatio: 16 / 9, // Adjust this ratio based on your image's dimensions\r\n    maxWidth: 600,\r\n    alignSelf: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  angleButton: {\r\n    width: '100%',\r\n    height: '100%',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    overflow: 'hidden',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n    backgroundColor: '#fff',\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedAngleButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  angleImage: {\r\n    marginTop: 8,\r\n    width: isMobile ? '75%' : '65%',\r\n    height: isMobile ? '75%' : '65%',\r\n    resizeMode: 'contain',\r\n  },\r\n  angleText: {\r\n    fontSize: isMobile ? 14 : 16,\r\n    fontWeight: 'bold',\r\n    marginTop: 5,\r\n    marginBottom: 2,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  helpIcon: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    width: 44,\r\n    height: 44,\r\n    //borderRadius: 12,\r\n    //backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1,\r\n  },\r\n  helpIconVisual: {\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  helpIconText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.6)', // Match WelcomeScreen's overlay opacity\r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n  },\r\n  helpImageContainer: {\r\n    width: isWebDesktop() ? '90%' : '92%',\r\n    maxWidth: isWebDesktop() ? 1200 : 450,\r\n    backgroundColor: 'rgba(74, 74, 74, 0.9)',\r\n    borderRadius: 20,\r\n    paddingHorizontal: isWebDesktop() ? 30 : 15,\r\n    paddingTop: isWebDesktop() ? 25 : 12,\r\n    paddingBottom: isWebDesktop() ? 25 : 12,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 5 },\r\n    shadowOpacity: 0.35,\r\n    shadowRadius: 6,\r\n    elevation: 10,\r\n    position: 'relative',\r\n  },\r\n  helpImage: {\r\n    width: '100%',\r\n    height: isWebDesktop() ? 800 : 400,\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n    borderRadius: 10,\r\n  },\r\n  clickToEnlargeText: {\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n    fontSize: 18,\r\n    marginTop: 5,\r\n    fontWeight: 'Bold',\r\n    marginBottom: 20,\r\n},\r\ndiagramImageContainer: {\r\n  width: isWebDesktop() ? '90%' : '92%',\r\n  maxWidth: isWebDesktop() ? 1200 : 450,\r\n  backgroundColor: 'rgba(74, 74, 74, 0.9)',\r\n  borderRadius: 20,\r\n  paddingHorizontal: isWebDesktop() ? 30 : 15,\r\n  paddingTop: isWebDesktop() ? 25 : 12,\r\n  paddingBottom: isWebDesktop() ? 25 : 12,\r\n  alignItems: 'center',\r\n  shadowColor: '#000',\r\n  shadowOffset: { width: 0, height: 5 },\r\n  shadowOpacity: 0.35,\r\n  shadowRadius: 6,\r\n  elevation: 10,\r\n  position: 'relative',\r\n},\r\ncloseModalButton: {\r\n  position: 'absolute',\r\n  top: isWebDesktop() ? 20 : 10,\r\n  right: isWebDesktop() ? 20 : 10,\r\n  width: isWebDesktop() ? 50 : 40,\r\n  height: isWebDesktop() ? 50 : 40,\r\n  borderRadius: isWebDesktop() ? 25 : 20,\r\n  backgroundColor: '#ffc100',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  zIndex: 1000,\r\n},\r\ncloseModalButtonText: {\r\n  color: '#4a4a4a',\r\n  fontSize: isWebDesktop() ? 36 : 30,\r\n  fontWeight: 'bold',\r\n  textAlign: 'center',\r\n  lineHeight: isWebDesktop() ? 40 : 34,\r\n  includeFontPadding: false,\r\n  textAlignVertical: 'center',\r\n  paddingBottom: Platform.OS === 'ios' ? 4 : (isWebDesktop ? 4 : 0),\r\n  paddingTop: isWebDesktop ? 2 : 0,\r\n  paddingLeft: isWebDesktop ? 1 : 0,\r\n},\r\nmodalTitle: {\r\n  fontSize: isWebDesktop() ? 32 : 24,\r\n  fontWeight: 'bold',\r\n  color: 'white',\r\n  marginBottom: isWebDesktop() ? 20 : 6,\r\n  marginTop: isWebDesktop() ? 15 : 5,\r\n  textAlign: 'center',\r\n},\r\nenlargedDiagram: {\r\n  width: '100%',\r\n  height: isWebDesktop() ? 800 : 400,\r\n  marginTop: 0,\r\n  marginBottom: 0,\r\n  borderRadius: 10,\r\n},\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: -20,\r\n    right: -20,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#4a4a4a',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  closeButtonText: {\r\n    color: 'white',\r\n    fontSize: 35,\r\n    textAlign: 'center',\r\n    alignSelf: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default OrientationSelectionScreen;","import React from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\r\n\r\nconst NextArrowButton = ({ onPress, isActive }) => {\r\n  return (\r\n    <TouchableOpacity onPress={onPress} activeOpacity={0.7}>\r\n      <View style={[styles.button, isActive && styles.buttonActive]}>\r\n        <Text style={[styles.text, isActive && styles.textActive]}>NEXT</Text>\r\n        <View style={[styles.arrow, isActive && styles.arrowActive]} />\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  button: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    backgroundColor: 'white',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 20,\r\n    paddingRight: 40, // Space for arrow\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  text: {\r\n    color: 'black',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n  },\r\n  arrow: {\r\n    width: 0,\r\n    height: 0,\r\n    marginLeft: 10,\r\n    borderTopWidth: 10,\r\n    borderBottomWidth: 10,\r\n    borderLeftWidth: 15,\r\n    borderTopColor: 'transparent',\r\n    borderBottomColor: 'transparent',\r\n    borderLeftColor: 'black',\r\n  },\r\n  buttonActive: {\r\n    backgroundColor: '#4a4a4a',\r\n  },\r\n  textActive: {\r\n    color: 'white',\r\n  },\r\n  arrowActive: {\r\n    borderLeftColor: 'white',\r\n  },\r\n});\r\n\r\nexport default NextArrowButton;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { View, Text, StyleSheet, SafeAreaView, Image, Dimensions, Platform, TextInput, ScrollView, Animated, TouchableOpacity } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport NextArrowButton from './NextArrowButton';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\n\r\nconst CutLengthsScreen = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const { selectedHose, selectedHosePrice, isHoseOnly, selectedFitting, end1Shape, end1Size, end1Price, isOrderFittingMode , selectedEnd2Fitting, end2Shape, end2Size, end2Price, selectedAngle } = route.params || {};\r\n\r\n  const [quantity, setQuantity] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [cutLengths, setCutLengths] = useState(isHoseOnly ? [{ length: '', unit: 'mm' }] : []);\r\n  const [showCutLengths, setShowCutLengths] = useState(isHoseOnly);\r\n  const [allLengthsFilled, setAllLengthsFilled] = useState(false);\r\n  const [lastInputIndex, setLastInputIndex] = useState(-1);\r\n  const [cutLengthErrors, setCutLengthErrors] = useState([]);\r\n  const quantityInputRef = useRef(null);\r\n  const inputRefs = useRef([]);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [cutLengthPrice, setCutLengthPrice] = useState(0);\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [hasSubmitted, setHasSubmitted] = useState(false);\r\n  const [initialValidationDone, setInitialValidationDone] = useState(false);\r\n  const [devModeActive, setDevModeActive] = useState(false);\r\n  const [easterEggMessage, setEasterEggMessage] = useState('');\r\n  const [showEasterEgg, setShowEasterEgg] = useState(false);\r\n\r\n  const SelectedHoseDisplay = ({ size, price }) => (\r\n    <View style={styles.selectedHoseContainer}>\r\n      <Text style={styles.selectedHoseHeader}>Selected Hose Size</Text>\r\n      <Text style={styles.selectedHoseSize}>{size}</Text>\r\n      <View style={styles.selectedHosePriceContainer}>\r\n        <Text style={styles.selectedHosePrice}>A$ {price}/meter</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  const DynamicPriceDisplay = ({ totalPrice, isHoseOnly }) => (\r\n    <View style={styles.selectedHoseContainer}>\r\n      <Text style={styles.selectedHoseHeader}>\r\n        {isOrderFittingMode ? 'Total Fitting Price' : \r\n         isHoseOnly ? 'Hose Only Price' : 'Total Hose and Fitting Price'}\r\n      </Text>\r\n      <View style={styles.selectedHosePriceContainer}>\r\n        <Text style={styles.selectedHosePrice}>A$ {totalPrice.toFixed(2)}</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  const isIOSBrowser = () => {\r\n    return (\r\n      Platform.OS === 'ios' ||\r\n      (Platform.OS === 'web' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)\r\n    );\r\n  };\r\n\r\n  const isIOS = () => {\r\n    return (\r\n      Platform.OS === 'ios' ||\r\n      (Platform.OS === 'web' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Short timeout to ensure the input is rendered\r\n    const timer = setTimeout(() => {\r\n      if (isHoseOnly && inputRefs.current[0]) {\r\n        inputRefs.current[0].focus();\r\n      } else if (!isHoseOnly && quantityInputRef.current) {\r\n        quantityInputRef.current.focus();\r\n      }\r\n    }, 100);\r\n  \r\n    return () => clearTimeout(timer);\r\n  }, [isHoseOnly]);\r\n  \r\nuseEffect(() => {\r\n  if (!isHoseOnly && showCutLengths) {\r\n    const num = parseInt(quantity, 10);\r\n    const maxQuantity = isOrderFittingMode ? 100 : 20;  // Match the max quantity logic\r\n    if (!isNaN(num) && num > 0 && num <= maxQuantity) {  // Updated condition\r\n      setCutLengths(Array(num).fill({ length: '', unit: 'mm' }));\r\n      setCutLengthErrors(Array(num).fill(''));\r\n      inputRefs.current = inputRefs.current.slice(0, num);\r\n      setTimeout(() => {\r\n        if (inputRefs.current[0]) {\r\n          inputRefs.current[0].focus();\r\n        }\r\n      }, 100);\r\n    } else {\r\n      setCutLengths([]);\r\n      setCutLengthErrors([]);\r\n    }\r\n  }\r\n}, [quantity, showCutLengths, isHoseOnly, isOrderFittingMode]);\r\n\r\n  useEffect(() => {\r\n    const allFilled = cutLengths.length > 0 && cutLengths.every(cut => cut.length !== '');\r\n    \r\n    // Only handle error clearing if initial validation hasn't been done yet\r\n    if (!initialValidationDone) {\r\n      if (cutLengths.length > 1) {\r\n        if (lastInputIndex === cutLengths.length - 1) {\r\n          const emptyFields = cutLengths.map((cut, index) => cut.length === '' ? index : -1)\r\n                                      .filter(index => index !== -1);\r\n          \r\n          if (emptyFields.length > 0) {\r\n            const newErrors = [...cutLengthErrors];\r\n            emptyFields.forEach(index => {\r\n              newErrors[index] = 'Please enter value in the empty fields';\r\n            });\r\n            setCutLengthErrors(newErrors);\r\n            setAllLengthsFilled(false);\r\n          } else {\r\n            const allNumeric = cutLengths.every(cut => /^\\d+$/.test(cut.length));\r\n            if (allNumeric) {\r\n              setCutLengthErrors(Array(cutLengths.length).fill(''));\r\n            }\r\n            setAllLengthsFilled(true && showCutLengths);\r\n          }\r\n        }\r\n      } else {\r\n        setAllLengthsFilled(allFilled && showCutLengths);\r\n      }\r\n    }\r\n  }, [cutLengths, showCutLengths, lastInputIndex, initialValidationDone]);\r\n\r\n  useEffect(() => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: Platform.OS === 'native',\r\n    }).start();\r\n  }, []);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      // Only reset the animation\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: Platform.OS === 'native',\r\n      }).start();\r\n  \r\n      // We'll keep this to ensure the keyboard appears when needed\r\n      if (!quantity && quantityInputRef.current) {\r\n        const timer = setTimeout(() => {\r\n          quantityInputRef.current.focus();\r\n        }, 100);\r\n        return () => clearTimeout(timer);\r\n      }\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const validateQuantity = (value) => {\r\n    // Reset states for both modes\r\n    setShowCutLengths(false);\r\n    setHasSubmitted(false);\r\n    \r\n    if (value === '') {\r\n      setQuantity(value);\r\n      setTotalPrice(0);\r\n      setError(''); // Clear any existing errors\r\n      return;\r\n    }\r\n\r\n    // Hidden developer feature for Fittings mode\r\n    if (value === '696' && isOrderFittingMode) {\r\n      setQuantity('1');\r\n      setError('');\r\n      setDevModeActive(true);\r\n      \r\n      // Set Easter egg message instead of alert\r\n      setEasterEggMessage(' Secret Fitting Discount Unlocked! As the developer, you get the special price. Enjoy your discount, boss! ');\r\n      setShowEasterEgg(true);\r\n      \r\n      // Auto-hide the message after 5 seconds\r\n      setTimeout(() => {\r\n        setShowEasterEgg(false);\r\n      }, 5000);\r\n      \r\n      return;\r\n    }\r\n    \r\n    // Immediately show error for non-numeric input\r\n    if (!/^\\d+$/.test(value)) {\r\n      setError('Please enter numbers only');\r\n      setTotalPrice(0);\r\n      return;\r\n    }\r\n    \r\n    // If we get here, we have a valid number\r\n    const num = parseInt(value, 10);\r\n    setError(''); // Clear any existing errors\r\n    setQuantity(value);\r\n    \r\n    // For Fitting Mode: Calculate price immediately\r\n    if (isOrderFittingMode) {\r\n      const fittingPrice = parseFloat(end1Price || 0);\r\n      const totalPrice = fittingPrice * num;\r\n      setTotalPrice(totalPrice);\r\n      setCutLengthPrice(totalPrice);\r\n    }\r\n  };\r\n  \r\n  const handleQuantitySubmit = () => {\r\n    // Validate quantity limits on submit\r\n    const num = parseInt(quantity, 10);\r\n    const maxQuantity = isOrderFittingMode ? 100 : 20;\r\n  \r\n    if (quantity === '') {\r\n      setError('Please enter a quantity');\r\n      return;\r\n    }\r\n    \r\n    // Add minimum quantity validation\r\n    if (num < 1) {\r\n      setError('Minimum quantity is 1');\r\n      return;\r\n    }\r\n    \r\n    if (num > maxQuantity) {\r\n      setError(`Maximum quantity is ${isOrderFittingMode ? '100' : '20'}`);\r\n      return;\r\n    }\r\n  \r\n    // If we get here, there are no errors\r\n    setError('');\r\n  \r\n    // Proceed based on mode\r\n    if (isOrderFittingMode) {\r\n      setHasSubmitted(true);\r\n      calculatePrice([]); // Ensure price is calculated\r\n    } else {\r\n      setShowCutLengths(true);\r\n      setTimeout(() => {\r\n        if (inputRefs.current[0]) {\r\n          inputRefs.current[0].focus();\r\n        }\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const updateCutLength = (index, length) => {\r\n    const updatedLengths = [...cutLengths];\r\n    const updatedErrors = [...cutLengthErrors];\r\n\r\n      // Hidden developer feature check\r\n      if (length === '20162025') {\r\n        updatedLengths[index] = { ...updatedLengths[index], length: '100' }; // Set a valid length\r\n        updatedErrors[index] = '';\r\n        setCutLengths(updatedLengths);\r\n        setCutLengthErrors(updatedErrors);\r\n        setDevModeActive(true);\r\n        \r\n        // Set Easter egg message instead of alert\r\n        setEasterEggMessage(' Developer Mode Activated! Welcome to the secret lair... all hoses lead to magic! ');\r\n        setShowEasterEgg(true);\r\n        \r\n        // Auto-hide the message after 5 seconds\r\n        setTimeout(() => {\r\n          setShowEasterEgg(false);\r\n        }, 5000);\r\n        \r\n        if (!initialValidationDone && index === cutLengths.length - 1) {\r\n          setInitialValidationDone(true);\r\n        }\r\n        setHasSubmitted(true);\r\n        return;\r\n      }\r\n  \r\n    // Update the length regardless of content\r\n    updatedLengths[index] = { ...updatedLengths[index], length };\r\n  \r\n    // Special handling for Hose Only mode\r\n    if (isHoseOnly) {\r\n      // Only check numeric validation\r\n      if (!/^\\d+$/.test(length) && length !== '') {\r\n        updatedErrors[index] = 'Please enter numbers only';\r\n      } else if (hasSubmitted) {\r\n        // Only show minimum length error if user has submitted before\r\n        const lengthValue = parseInt(length, 10);\r\n        if (lengthValue < 50) {\r\n          updatedErrors[index] = 'Minimum length is 50mm';\r\n        } else {\r\n          updatedErrors[index] = '';\r\n        }\r\n      } else {\r\n        updatedErrors[index] = '';\r\n      }\r\n      \r\n      setCutLengths(updatedLengths);\r\n      setCutLengthErrors(updatedErrors);\r\n      calculatePrice(updatedLengths);\r\n      return;\r\n    }\r\n  \r\n      // Normal mode validation\r\n    if (!isHoseOnly && !isOrderFittingMode) {\r\n      if (!/^\\d+$/.test(length) && length !== '') {\r\n        // Non-numeric input validation\r\n        updatedErrors[index] = 'Please enter numbers only';\r\n        setHasSubmitted(false);\r\n      } else if (length === '') {\r\n        // Empty field validation\r\n        updatedErrors[index] = 'Please enter value in the empty fields';\r\n        setHasSubmitted(false);\r\n      } else if (/^\\d+$/.test(length)) {\r\n        const numLength = parseInt(length, 10);\r\n        \r\n        // After initial validation, always check minimum length\r\n        if (initialValidationDone) {\r\n          if (numLength < 50) {\r\n            updatedErrors[index] = 'Minimum length is 50mm';\r\n            setHasSubmitted(false);\r\n          } else {\r\n            updatedErrors[index] = '';\r\n            \r\n            // Check all other fields\r\n            const allFieldsValid = updatedLengths.every((cut, idx) => {\r\n              if (!cut.length) return false;\r\n              if (!/^\\d+$/.test(cut.length)) return false;\r\n              const len = parseInt(cut.length, 10);\r\n              return len >= 50;\r\n            });\r\n\r\n            // Update errors for all fields\r\n            updatedLengths.forEach((cut, idx) => {\r\n              if (!cut.length) {\r\n                updatedErrors[idx] = 'Please enter value in the empty fields';\r\n              } else if (!/^\\d+$/.test(cut.length)) {\r\n                updatedErrors[idx] = 'Please enter numbers only';\r\n              } else {\r\n                const len = parseInt(cut.length, 10);\r\n                if (len < 50) {\r\n                  updatedErrors[idx] = 'Minimum length is 50mm';\r\n                }\r\n              }\r\n            });\r\n\r\n            // Only set hasSubmitted to true if all fields are valid\r\n            if (allFieldsValid) {\r\n              setHasSubmitted(true);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Always calculate price for valid numeric inputs\r\n    if (/^\\d+$/.test(length)) {\r\n      calculatePrice(updatedLengths);\r\n    }\r\n\r\n    setCutLengths(updatedLengths);\r\n    setCutLengthErrors(updatedErrors);\r\n  };\r\n\r\nconst handleNext = () => {\r\n  // Animation config to reuse\r\n  const animationConfig = {\r\n    toValue: 0,\r\n    duration: 800,\r\n    useNativeDriver: Platform.OS === 'native',\r\n  };\r\n\r\n  // Fitting Only mode\r\n  if (isOrderFittingMode && quantity !== '' && !error && hasSubmitted) {\r\n    Animated.timing(fadeAnim, animationConfig).start(() => {\r\n      navigation.navigate('OrderConfirmation1', {\r\n        quantity: parseInt(quantity, 10),\r\n        selectedFitting: route.params.selectedFitting,\r\n        end1Shape: route.params.end1Shape,\r\n        end1Size: route.params.end1Size,\r\n        end1Price: route.params.end1Price,\r\n        cutLengthPrice,\r\n        isDevMode: devModeActive,\r\n        selectedHose: null,\r\n        selectedHosePrice: null,\r\n        selectedEnd2Fitting: null,\r\n        end2Shape: null,\r\n        end2Size: null,\r\n        end2Price: null,\r\n        selectedAngle: null,\r\n        isHoseOnly: false,\r\n        isOrderFittingMode: true\r\n      });\r\n    });\r\n  } \r\n  // Hose Only mode\r\n  else if (isHoseOnly && cutLengths[0].length && !cutLengthErrors[0] && hasSubmitted) {\r\n    Animated.timing(fadeAnim, animationConfig).start(() => {\r\n      navigation.navigate('HoseProtection', {\r\n        cutLengths,\r\n        cutLengthPrice,\r\n        isDevMode: devModeActive,\r\n        selectedHose,\r\n        selectedHosePrice,\r\n        selectedFitting,\r\n        end1Shape,\r\n        end1Size,\r\n        end1Price,\r\n        selectedEnd2Fitting,\r\n        end2Shape,\r\n        end2Size,\r\n        end2Price,\r\n        selectedAngle,\r\n        isHoseOnly: true\r\n      });\r\n    });\r\n  }\r\n  // Normal mode\r\n  else if (!isOrderFittingMode && !isHoseOnly && allLengthsFilled && hasSubmitted) {\r\n\r\n    const qty = parseInt(quantity, 10);\r\n    const totalEnd1Price = parseFloat(end1Price || 0) * qty;\r\n    const totalEnd2Price = parseFloat(end2Price || 0) * qty;\r\n\r\n    Animated.timing(fadeAnim, animationConfig).start(() => {\r\n      navigation.navigate('HoseProtection', {\r\n        quantity: parseInt(quantity, 10),\r\n        cutLengths,\r\n        cutLengthPrice,\r\n        isDevMode: devModeActive,\r\n        selectedHose,\r\n        selectedHosePrice,\r\n        selectedFitting,\r\n        end1Shape,\r\n        end1Size,\r\n        end1Price: totalEnd1Price,\r\n        selectedEnd2Fitting,\r\n        end2Shape,\r\n        end2Size,\r\n        end2Price: totalEnd2Price,\r\n        selectedAngle,\r\n        isHoseOnly: false\r\n      });\r\n    });\r\n  }\r\n};\r\n\r\nconst calculatePrice = (lengths) => {\r\n\r\n  // Check if we're in developer mode (any length is '20162025')\r\n  const isDevMode = lengths.some(cut => cut.length === '20162025');\r\n  if (isDevMode) {\r\n  }\r\n\r\n  if (isOrderFittingMode) {\r\n    // For fitting mode, price is simply end1Price * quantity\r\n    const fittingPrice = parseFloat(end1Price || 0);\r\n    const qty = parseInt(quantity, 10);\r\n    const totalPrice = fittingPrice * qty;\r\n    \r\n    setTotalPrice(totalPrice);\r\n    setCutLengthPrice(totalPrice);\r\n  } else {\r\n    // Original price calculation for hose mode\r\n    const totalLengthInMeters = lengths.reduce((sum, cut) => {\r\n      const lengthInMillimeters = parseInt(cut.length || '0', 10);\r\n      return sum + (lengthInMillimeters / 1000);\r\n    }, 0);\r\n    \r\n    const pricePerMeter = parseFloat(selectedHosePrice);\r\n    const hosePrice = totalLengthInMeters * pricePerMeter;\r\n    \r\n    let calculatedPrice;\r\n    if (isHoseOnly) {\r\n      calculatedPrice = hosePrice;\r\n    } else {\r\n      // Normal mode - multiply fittings by quantity\r\n      const qty = parseInt(quantity, 10);\r\n      const fittingsPrice = (parseFloat(end1Price || 0) + parseFloat(end2Price || 0)) * qty;\r\n      calculatedPrice = hosePrice + fittingsPrice;\r\n    }\r\n    \r\n    setTotalPrice(calculatedPrice);\r\n    setCutLengthPrice(calculatedPrice);\r\n  }\r\n};\r\n\r\nconst handleInputSubmit = (index) => {\r\n  const currentValue = cutLengths[index].length;\r\n  \r\n  // iOS-specific handling for \"Done\" button\r\n  if (Platform.OS === 'ios') {\r\n    // Validate and handle the input regardless of focus management\r\n    validateAndProcessInput(index, currentValue);\r\n    return;\r\n  }\r\n  \r\n  // Original logic for non-iOS platforms\r\n  if (!currentValue || !/^\\d+$/.test(currentValue)) {\r\n    return;\r\n  }\r\n\r\n  if (index < cutLengths.length - 1) {\r\n    inputRefs.current[index + 1].focus();\r\n    calculatePrice(cutLengths);\r\n  } else {\r\n    // Check minimum length for normal mode only when on last input\r\n    if (!isHoseOnly && !isOrderFittingMode) {\r\n      const newErrors = [...cutLengthErrors];\r\n      let hasErrors = false;\r\n      \r\n      // Check all cut lengths at once\r\n      cutLengths.forEach((cut, idx) => {\r\n        const length = parseInt(cut.length, 10);\r\n        if (length < 50) {\r\n          newErrors[idx] = 'Minimum length is 50mm';\r\n          hasErrors = true;\r\n        } else {\r\n          newErrors[idx] = ''; // Clear any existing errors for valid lengths\r\n        }\r\n      });\r\n\r\n      setCutLengthErrors(newErrors);\r\n      setInitialValidationDone(true); // Set the flag when first validation is done\r\n      if (hasErrors) {\r\n        setHasSubmitted(false);\r\n        return;\r\n      }\r\n    }\r\n    \r\n    setHasSubmitted(true);\r\n    calculatePrice(cutLengths);\r\n  }\r\n  \r\n  const allFilled = cutLengths.every(cut => cut.length !== '' && /^\\d+$/.test(cut.length));\r\n  setAllLengthsFilled(allFilled);\r\n  \r\n  setLastInputIndex(index);\r\n};\r\n\r\n// Add this new function right after the handleInputSubmit function\r\nconst validateAndProcessInput = (index, currentValue) => {\r\n  if (!currentValue || !/^\\d+$/.test(currentValue)) {\r\n    return false;\r\n  }\r\n  \r\n  const length = parseInt(currentValue, 10);\r\n  \r\n  if (isHoseOnly) {\r\n    if (length < 50) {\r\n      setCutLengthErrors(['Minimum length is 50mm']);\r\n      return false;\r\n    } else {\r\n      setCutLengthErrors(['']);\r\n      setHasSubmitted(true);\r\n      calculatePrice(cutLengths);\r\n      return true;\r\n    }\r\n  } else if (!isOrderFittingMode) {\r\n    const newErrors = [...cutLengthErrors];\r\n    let hasErrors = false;\r\n    \r\n    cutLengths.forEach((cut, idx) => {\r\n      if (!cut.length) {\r\n        newErrors[idx] = 'Please enter value in the empty fields';\r\n        hasErrors = true;\r\n      } else if (!/^\\d+$/.test(cut.length)) {\r\n        newErrors[idx] = 'Please enter numbers only';\r\n        hasErrors = true;\r\n      } else {\r\n        const len = parseInt(cut.length, 10);\r\n        if (len < 50) {\r\n          newErrors[idx] = 'Minimum length is 50mm';\r\n          hasErrors = true;\r\n        } else {\r\n          newErrors[idx] = '';\r\n        }\r\n      }\r\n    });\r\n    \r\n    setCutLengthErrors(newErrors);\r\n    setInitialValidationDone(true);\r\n    \r\n    if (hasErrors) {\r\n      setHasSubmitted(false);\r\n      return false;\r\n    }\r\n    \r\n    setHasSubmitted(true);\r\n    calculatePrice(cutLengths);\r\n    return true;\r\n  }\r\n  \r\n  return true;\r\n}\r\n\r\n  const handleKeyPress = (e, index) => {\r\n    if (e.nativeEvent.key === 'Tab') {\r\n      e.preventDefault();\r\n      handleInputSubmit(index);\r\n    }\r\n  };\r\n\r\n  const renderCutLengthRows = () => {\r\n    if (!showCutLengths) return null;\r\n  \r\n    if (isHoseOnly) {\r\n      // Single cut length input for Hose Only mode\r\n      return (\r\n        <View>\r\n          <View style={styles.cutLengthRow}>\r\n            <View style={styles.cutLengthInputContainer}>\r\n              <TextInput\r\n                ref={el => inputRefs.current[0] = el}\r\n                style={[\r\n                  styles.cutLengthInput,\r\n                  cutLengthErrors[0] ? styles.inputError : null\r\n                ]}\r\n                value={cutLengths[0].length}\r\n                placeholder=\"Enter length in millimeters\"\r\n                placeholderTextColor=\"#999999\"\r\n                onChangeText={(text) => updateCutLength(0, text)}\r\n                onSubmitEditing={() => handleInputSubmit(0)}\r\n                keyboardType=\"numeric\"\r\n                returnKeyType=\"done\"\r\n                blurOnSubmit={true}  // Changed from Platform.OS === 'ios'\r\n                onEndEditing={() => handleInputSubmit(0)}  // Changed - removed conditional\r\n                onBlur={() => handleInputSubmit(0)}  // Added this line for iOS browsers\r\n                enterKeyHint=\"done\"\r\n                inputMode=\"numeric\"\r\n                autoComplete=\"off\"\r\n              />\r\n              <Text style={styles.unitText}>mm</Text>\r\n            </View>\r\n          </View>\r\n          {cutLengthErrors[0] ? <Text style={styles.errorText}>{cutLengthErrors[0]}</Text> : null}\r\n        </View>\r\n      );\r\n    }\r\n  \r\n    // Original multiple cut lengths rendering for normal mode\r\n    return (\r\n      <View>\r\n        {cutLengths.map((cut, index) => (\r\n          <View key={index}>\r\n            <View style={styles.cutLengthRow}>\r\n              <View style={styles.rowLabelContainer}>\r\n                <View style={styles.rowNumberContainer}>\r\n                  <Text style={styles.rowNumber}>{index + 1}.</Text>\r\n                </View>\r\n                <Text style={styles.cutLengthText}>Cut Length</Text>\r\n              </View>\r\n              <View style={styles.cutLengthInputContainer}>\r\n              <TextInput\r\n                ref={el => inputRefs.current[index] = el}\r\n                style={[\r\n                  styles.cutLengthInput,\r\n                  cutLengthErrors[index] ? styles.inputError : null\r\n                ]}\r\n                value={cut.length}\r\n                placeholder=\"Enter length in millimeters\"\r\n                placeholderTextColor=\"#999999\"\r\n                onChangeText={(text) => updateCutLength(index, text)}\r\n                onSubmitEditing={() => handleInputSubmit(index)}\r\n                onKeyPress={(e) => handleKeyPress(e, index)}\r\n                keyboardType=\"numeric\"\r\n                returnKeyType={index === cutLengths.length - 1 ? \"done\" : \"next\"}\r\n                blurOnSubmit={true}  // Changed from conditional\r\n                onEndEditing={() => handleInputSubmit(index)}  // Changed - removed conditional\r\n                onBlur={() => handleInputSubmit(index)}  // Added this line for iOS browsers\r\n                enterKeyHint={index === cutLengths.length - 1 ? \"done\" : \"next\"}\r\n                inputMode=\"numeric\"\r\n                autoComplete=\"off\"\r\n              />\r\n                <Text style={styles.unitText}>{cut.unit}</Text>\r\n              </View>\r\n            </View>\r\n            {cutLengthErrors[index] ? <Text style={styles.errorText}>{cutLengthErrors[index]}</Text> : null}\r\n          </View>\r\n        ))}\r\n      </View>\r\n    );\r\n  };\r\n\r\n\r\n  return (\r\n    <View style={styles.mainContainer}> \r\n      {/* Easter Egg Message */}\r\n      {showEasterEgg && (\r\n        <View style={styles.easterEggContainer}>\r\n          <Text style={styles.easterEggText}>{easterEggMessage}</Text>\r\n        </View>\r\n      )}\r\n  \r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n          <Path \r\n            d=\"M19 12H5M12 19L5 12L12 5\" \r\n            stroke=\"#4a4a4a\" \r\n            strokeWidth=\"2.5\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </Svg>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n  \r\n          <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\r\n            <ScrollView contentContainerStyle={styles.scrollContent}>\r\n              <View style={styles.contentContainer}>\r\n                {isOrderFittingMode ? (\r\n                  // Render only for fitting mode\r\n                  <>\r\n                    <View style={styles.titleContainer}>\r\n                      <Text style={styles.titleText}>Number of Fittings</Text>\r\n                    </View>\r\n                    <View style={styles.quantityRow}>\r\n                      <View style={styles.quantityContainer}>\r\n                        <Text style={styles.titleText}>QTY</Text>\r\n                      </View>\r\n                      <TextInput\r\n                        ref={quantityInputRef}\r\n                        style={styles.quantityInput}\r\n                        value={quantity}\r\n                        onChangeText={validateQuantity}\r\n                        onSubmitEditing={handleQuantitySubmit}\r\n                        onEndEditing={handleQuantitySubmit}\r\n                        onBlur={handleQuantitySubmit}\r\n                        blurOnSubmit={true}\r\n                        keyboardType=\"numeric\"\r\n                        maxLength={3}\r\n                        returnKeyType=\"done\"\r\n                        enterKeyHint=\"done\"\r\n                        inputMode=\"numeric\"\r\n                        autoComplete=\"off\"\r\n                      />\r\n                    </View>\r\n                    {error ? (\r\n                      <View style={styles.errorContainer}>\r\n                        <Text style={styles.errorText}>{error}</Text>\r\n                      </View>\r\n                    ) : null}\r\n                    {totalPrice > 0 && (\r\n                      <View style={styles.pricingContainer}>\r\n                        <DynamicPriceDisplay \r\n                          totalPrice={totalPrice}\r\n                          isHoseOnly={isHoseOnly}\r\n                        />\r\n                      </View>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  // Existing render for non-fitting modes\r\n                  <>\r\n                    {selectedHose && selectedHosePrice && (\r\n                      <SelectedHoseDisplay \r\n                        size={selectedHose.size}\r\n                        price={selectedHosePrice}\r\n                      />\r\n                    )}\r\n  \r\n                    {!isHoseOnly && (\r\n                      <>\r\n                        <View style={styles.titleContainer}>\r\n                          <Text style={styles.titleText}>No. of Hoses REQUIRED</Text>\r\n                        </View>\r\n                        <View style={styles.quantityRow}>\r\n                          <View style={styles.quantityContainer}>\r\n                            <Text style={styles.titleText}>QTY</Text>\r\n                          </View>\r\n                          <TextInput\r\n                            ref={quantityInputRef}\r\n                            style={styles.quantityInput}\r\n                            value={quantity}\r\n                            onChangeText={validateQuantity}\r\n                            onSubmitEditing={handleQuantitySubmit}\r\n                            onEndEditing={handleQuantitySubmit}\r\n                            onBlur={handleQuantitySubmit}\r\n                            blurOnSubmit={true}\r\n                            keyboardType=\"numeric\"\r\n                            maxLength={3}\r\n                            returnKeyType=\"done\"\r\n                            enterKeyHint=\"done\"\r\n                            inputMode=\"numeric\"\r\n                            autoComplete=\"off\"\r\n                          />\r\n                        </View>\r\n                        {/* Add error message display here */}\r\n                        {error ? (\r\n                          <View style={styles.errorContainer}>\r\n                            <Text style={styles.errorText}>{error}</Text>\r\n                          </View>\r\n                        ) : null}\r\n                      </>\r\n                    )}\r\n                    \r\n                    <View style={styles.subtitleContainer}>\r\n                      <Text style={styles.titleText}>\r\n                        {isHoseOnly ? 'Hose Cut LENGTH' : 'Hose Cut LENGTHS'}\r\n                      </Text>\r\n                    </View>\r\n                    \r\n                    <Image\r\n                      source={require('../assets/hose_cut_length.png')}\r\n                      style={styles.diagram}\r\n                      resizeMode=\"contain\"\r\n                    />\r\n                    \r\n                    <View style={styles.cutLengthsContainer}>\r\n                      {renderCutLengthRows()}\r\n                    </View>\r\n  \r\n                    {totalPrice > 0 && (\r\n                      <View style={styles.pricingContainer}>\r\n                        <DynamicPriceDisplay \r\n                          totalPrice={totalPrice}\r\n                          isHoseOnly={isHoseOnly}\r\n                        />\r\n                      </View>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </View>\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n  \r\n      {/* iOS Validation Button */}\r\n      {isIOSBrowser() && !hasSubmitted && (\r\n        <View style={styles.iosValidationContainer}>\r\n          <TouchableOpacity\r\n            style={styles.iosValidationButton}\r\n            onPress={() => {\r\n              if (isOrderFittingMode && quantity) {\r\n                handleQuantitySubmit();\r\n              } else if (isHoseOnly && cutLengths[0]?.length) {\r\n                handleInputSubmit(0);\r\n              } else if (!isHoseOnly && !isOrderFittingMode) {\r\n                // For normal mode with multiple lengths\r\n                const allValid = cutLengths.every((cut, idx) => {\r\n                  if (cut.length) {\r\n                    return handleInputSubmit(idx);\r\n                  }\r\n                  return false;\r\n                });\r\n              }\r\n            }}\r\n          >\r\n          </TouchableOpacity>\r\n        </View>\r\n      )}\r\n    \r\n      {/* Define the condition for showing next button once */}\r\n      {(() => {\r\n        const shouldShowNextButton = (\r\n          (isOrderFittingMode && quantity !== '' && !error && hasSubmitted) || // Fitting Only mode\r\n          (isHoseOnly && cutLengths[0]?.length && \r\n          /^\\d+$/.test(cutLengths[0]?.length) && \r\n          parseInt(cutLengths[0]?.length) >= 50 && hasSubmitted) || // Hose Only mode\r\n          (!isOrderFittingMode && !isHoseOnly && // Normal mode\r\n          initialValidationDone && \r\n          cutLengths.every(cut => {\r\n            if (!cut.length) return false;\r\n            if (!/^\\d+$/.test(cut.length)) return false;\r\n            return parseInt(cut.length, 10) >= 50;\r\n          }) && \r\n          hasSubmitted)\r\n        );\r\n  \r\n        // Return a fragment with conditional content\r\n        return (\r\n          <>\r\n            {/* Platform-specific next button rendering */}\r\n            {shouldShowNextButton && (\r\n              <View style={styles.iosNextButtonContainer}>\r\n                <NextArrowButton onPress={handleNext} isActive={true} />\r\n              </View>\r\n            )}\r\n          </>\r\n        );\r\n      })()}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollContent: {\r\n    flexGrow: 1,\r\n    alignItems: 'center',\r\n    backgroundColor: 'transparent',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n    backgroundColor: 'white',\r\n  },\r\n  contentContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: '100%',\r\n    height: undefined,\r\n    aspectRatio: 2,\r\n    resizeMode: 'contain',\r\n    maxWidth: 400,\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginTop: 15,\r\n    marginBottom: 5,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  selectedHoseContainer: {\r\n    alignItems: 'center',\r\n    marginVertical: 15,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 12,\r\n    width: '80%',\r\n    maxWidth: 300,\r\n    backgroundColor: 'white',\r\n  },\r\n  selectedHoseHeader: {\r\n    fontSize: 18,\r\n    color: '#4a4a4a',\r\n    marginBottom: 4,\r\n  },\r\n  selectedHoseSize: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: 8,\r\n  },\r\n  selectedHosePriceContainer: {\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 12,\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 15,\r\n  },\r\n  selectedHosePrice: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  quantityRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n  },\r\n  quantityContainer: {\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  quantityInput: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    width: 120,\r\n    height: 60,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  errorContainer: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    marginTop: 5,\r\n  },\r\n  errorText: {\r\n    color: 'red',\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n  },\r\n  inputError: {\r\n    borderColor: 'red',\r\n  },\r\n  subtitleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 5,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n    marginTop: 20,\r\n  },\r\n  diagram: {\r\n    width: '80%',\r\n    height: undefined,\r\n    aspectRatio: 16 / 12,\r\n    maxWidth: 300,\r\n    alignSelf: 'center',\r\n  },\r\n  cutLengthsContainer: {\r\n    width: '100%',\r\n    maxWidth: 500,\r\n    alignItems: 'center',\r\n    marginTop: 20,\r\n  },\r\n  cutLengthRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 10,\r\n    width: '100%',\r\n  },\r\n  cutLengthText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  rowLabelContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    flex: 1,\r\n  },\r\n  rowNumberContainer: {\r\n    width: 40, // Adjust this width as needed\r\n    alignItems: 'flex-end',\r\n    marginRight: 5,\r\n  },\r\n  rowNumber: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    marginRight: 10,\r\n  },\r\n  cutLengthInputContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  cutLengthInput: {\r\n    fontSize: 18,\r\n    fontWeight: 'normal',\r\n    textAlign: 'left',\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 8,\r\n    width: 230,  // Increased width to accommodate placeholder\r\n    height: 45,\r\n    marginRight: 5,\r\n    marginLeft: 30,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: '#F5F5F5',\r\n  },\r\n  unitText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    width: 40,\r\n    marginLeft: 5,\r\n  },\r\n  pricingContainer: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  easterEggContainer: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 120 : 80,\r\n    left: 0,\r\n    right: 0,\r\n    backgroundColor: '#ffc100',\r\n    padding: 15,\r\n    margin: 20,\r\n    borderRadius: 10,\r\n    borderWidth: 3,\r\n    borderColor: '#4a4a4a',\r\n    zIndex: 2000,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 4,\r\n    },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 5,\r\n    elevation: 8,\r\n  },\r\n  easterEggText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  iosNextButtonContainer: {\r\n    position: 'absolute',\r\n    bottom: 100,\r\n    right: 20,\r\n    marginRight: 20,\r\n    zIndex: 1500,\r\n  },\r\n  /*iosValidationContainer: {\r\n    alignItems: 'center',\r\n    marginTop: 15,\r\n    marginBottom: 20,\r\n  },\r\n  iosValidationButton: {\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 25,\r\n    borderRadius: 25,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  iosValidationButtonText: {\r\n    color: 'white',\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n  iosNextPromptContainer: {\r\n    position: 'absolute',\r\n    bottom: 170,\r\n    right: 20,\r\n    backgroundColor: 'rgba(255, 193, 0, 0.9)',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    maxWidth: 200,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    zIndex: 1400,\r\n  },\r\n  iosNextPromptText: {\r\n    color: '#4a4a4a',\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  }*/\r\n  viewportFooter: {\r\n    position: 'absolute',\r\n    bottom: Platform.OS === 'ios' ? 40 : 20,\r\n    right: 20,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)', // semi-transparent white background\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  footerContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  footerRight: {\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nexport default CutLengthsScreen;","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated, } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8); // Button width, capped at 320\n\nconst ProtectionTypeButton = ({ type, image, onPress, isSelected, priceText }) => (\n  <TouchableOpacity \n    style={[\n      styles.protectionButton, \n      isSelected && styles.selectedProtectionButton\n    ]} \n    onPress={onPress}\n  >\n    <View style={styles.protectionContent}>\n      {image ? (\n        <>\n          <Text style={styles.protectionButtonText}>{type}</Text>\n          <View style={styles.contentRow}>\n            <View style={styles.imageContainer}>\n              <Image source={image} style={styles.protectionImage} resizeMode=\"contain\" />\n            </View>\n            <View style={styles.priceContainer}>\n              <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\n                <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\n                  {priceText}\n                </Text>\n              </View>\n            </View>\n          </View>\n        </>\n      ) : (\n        <View style={styles.noImageContentCentered}>\n          <Text style={styles.protectionButtonText}>{type}</Text>\n        </View>\n      )}\n    </View>\n  </TouchableOpacity>\n);\n\nconst PriceDisplay = ({ price, isHoseOnly, hasProtection, titleFade, priceFade }) => (\n    <View style={styles.pricingCard}>\n      <Animated.Text style={[styles.pricingHeader, { opacity: titleFade }]}>\n        {hasProtection ? 'Hose Price with Protection' : (isHoseOnly ? 'Hose Only Price' : 'Total Hose and Fitting Price')}\n      </Animated.Text>\n      <View style={styles.pricingValueContainer}>\n        <Animated.Text style={[styles.pricingValue, { opacity: priceFade }]}>\n          A$ {price.toFixed(2)}\n        </Animated.Text>\n      </View>\n    </View>\n  );\n\n  const HoseProtectionScreen = () => {\n    const navigation = useNavigation();\n    const route = useRoute();\n    const [selectedProtection, setSelectedProtection] = useState(null);\n    const [initialPrice, setInitialPrice] = useState(0);\n    const [protectionPrice, setProtectionPrice] = useState(0);\n    const priceFade = useRef(new Animated.Value(1)).current;\n    const fadeAnim = useRef(new Animated.Value(0)).current;\n    const titleFade = useRef(new Animated.Value(1)).current;\n    \n    const { \n      selectedHose, \n      selectedHosePrice,\n      selectedFitting, \n      end1Shape, \n      end1Size,\n      end1Price, \n      selectedEnd2Fitting, \n      end2Shape, \n      end2Size,\n      end2Price, \n      selectedAngle, \n      quantity, \n      cutLengths,\n      cutLengthPrice,\n      isDevMode: devModeActive,\n      isHoseOnly\n    } = route.params || {};\n  \n    // Move protectionTypes outside of useEffect\n    const protectionTypes = [\n      { type: 'NOT REQUIRED', image: null },\n      { type: 'Nylon Hose Sleeve', image: require('../assets/nylon_sleeve.png') },\n      { type: 'Plastic Spiral Cover', image: require('../assets/plastic_spiral.png') },\n      { type: 'Metal Spiral Wrap', image: require('../assets/metal_spiral.png') },\n    ];\n\n    useEffect(() => {\n      if (cutLengthPrice) {\n        setInitialPrice(cutLengthPrice);\n        setProtectionPrice(cutLengthPrice);\n      }\n    }, [cutLengthPrice]);\n  \n    // Third useEffect for fade animation\n    useEffect(() => {\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start();\n    }, []);\n  \n    useFocusEffect(\n      React.useCallback(() => {\n       // setSelectedProtection(null);\n        fadeAnim.setValue(0);\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 800,\n          useNativeDriver: Platform.OS === 'native',\n        }).start();\n  \n        return () => {\n          // Optional cleanup if needed\n        };\n      }, [fadeAnim])\n    );\n\n    const PROTECTION_PRICE_MULTIPLIERS = {\n      'Nylon Hose Sleeve': 1.30,  // 30% increase\n      'Plastic Spiral Cover': 1.40, // 40% increase\n      'Metal Spiral Wrap': 1.50,   // 50% increase\n      'NOT REQUIRED': 1.0  // No increase\n    };\n  \n    const handleProtectionSelection = (type) => {\n      setSelectedProtection(type);\n      \n      if (type === 'NOT REQUIRED') {\n        // Simple navigation with current price\n        Animated.timing(fadeAnim, {\n          toValue: 0,\n          duration: 800,\n          useNativeDriver: Platform.OS === 'native',\n        }).start(() => {\n          navigateToNext(type, initialPrice);\n        });\n      } else {\n        // Parallel animation for title and price\n        Animated.sequence([\n          Animated.parallel([\n            // Fade out both title and price\n            Animated.timing(titleFade, {\n              toValue: 0,\n              duration: 500,\n              useNativeDriver: Platform.OS === 'native',\n            }),\n            Animated.timing(priceFade, {\n              toValue: 0,\n              duration: 500,\n              useNativeDriver: Platform.OS === 'native',\n            })\n          ]),\n          Animated.timing(new Animated.Value(0), {\n            toValue: 1,\n            duration: 100,\n            useNativeDriver: Platform.OS === 'native',\n          }),\n        ]).start(() => {\n          // Update price state after fade out\n          const multiplier = PROTECTION_PRICE_MULTIPLIERS[type];\n          const newPrice = initialPrice * multiplier;\n          setProtectionPrice(newPrice);\n          \n          // Fade in both title and price\n          Animated.parallel([\n            Animated.timing(titleFade, {\n              toValue: 1,\n              duration: 500,\n              useNativeDriver: Platform.OS === 'native',\n            }),\n            Animated.timing(priceFade, {\n              toValue: 1,\n              duration: 500,\n              useNativeDriver: Platform.OS === 'native',\n            })\n          ]).start(() => {\n            // Start navigation animation after price update\n            setTimeout(() => {\n              Animated.timing(fadeAnim, {\n                toValue: 0,\n                duration: 800,\n                useNativeDriver: Platform.OS === 'native',\n              }).start(() => {\n                navigateToNext(type, newPrice);\n              });\n            }, 1000);\n          });\n        });\n      }\n    };\n    \n    // Update the navigateToNext function to include protection cost calculation\n    const navigateToNext = (type, price) => {\n      const nextScreen = isHoseOnly ? 'OrderConfirmation1' : 'PressureTesting';\n      navigation.navigate(nextScreen, {\n        selectedProtection: type,\n        selectedHose,\n        selectedHosePrice,\n        selectedFitting,\n        end1Shape,\n        end1Size,\n        end1Price,\n        selectedEnd2Fitting,\n        end2Shape,\n        end2Size,\n        end2Price, \n        selectedAngle,\n        cutLengths,\n        quantity,\n        isHoseOnly,\n        isDevMode: devModeActive,\n        cutLengthPrice: initialPrice, // Pass the original cut length price\n        basePrice: initialPrice,\n        hoseProtectionPrice: price,\n        protectionCost: type === 'NOT REQUIRED' ? 0 : (price - initialPrice),\n        \n      });\n    };\n  \n    return (\n      <View style={styles.mainContainer}>\n        {/* Floating Back Button */}\n        <TouchableOpacity \n          style={styles.floatingBackButton}\n          onPress={() => navigation.goBack()}\n        >\n          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n            <Path \n              d=\"M19 12H5M12 19L5 12L12 5\" \n              stroke=\"#4a4a4a\" \n              strokeWidth=\"2.5\" \n              strokeLinecap=\"round\" \n              strokeLinejoin=\"round\"\n            />\n          </Svg>\n        </TouchableOpacity>\n        \n        <ScrollableGradientWrapper>\n          <SafeAreaView style={styles.container}>\n            <View style={styles.logoContainer}>\n              <Image\n                source={require('../assets/fluidpower_logo.gif')}\n                style={styles.logo}\n                resizeMode=\"contain\"\n              />\n            </View>\n            \n            <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n              <View style={styles.titleContainer}>\n                <View style={styles.titleWrapper}>\n                  <Text style={styles.titleText}>Hose PROTECTION</Text>\n                  <Text style={styles.titleText}>(Optional)</Text>\n                </View>\n              </View>\n    \n              <View style={styles.subtitleContainer}>\n                <Text style={styles.subtitleText}>Get your Hose Protected</Text>\n                <Text style={styles.subtitleText}>Safety and Long Life</Text>\n              </View>\n\n              <View style={styles.subtitleContainer2}>\n                <Text style={styles.subtitleText2}>*Hose Protection Prices Applied</Text>\n                <Text style={styles.subtitleText2}>On Hose Lengths Only</Text>\n              </View>\n    \n              <View style={styles.scrollViewContent}>\n              {protectionTypes.map((protection, index) => (\n                <ProtectionTypeButton\n                  key={index}\n                  type={protection.type}\n                  image={protection.image}\n                  onPress={() => handleProtectionSelection(protection.type)}\n                  isSelected={selectedProtection === protection.type}\n                  priceText={\n                    protection.type === 'NOT REQUIRED' ? '' :\n                    `A$ ${(initialPrice * (PROTECTION_PRICE_MULTIPLIERS[protection.type] - 1)).toFixed(2)}`\n                  }\n                />\n              ))}\n    \n                <View style={styles.pricingSection}>\n                  <PriceDisplay \n                    price={selectedProtection && selectedProtection !== 'NOT REQUIRED' ? protectionPrice : initialPrice}\n                    isHoseOnly={isHoseOnly}\n                    hasProtection={selectedProtection && selectedProtection !== 'NOT REQUIRED'}\n                    titleFade={titleFade}\n                    priceFade={priceFade}\n                  />\n                </View>\n              </View>\n            </Animated.View>\n          </SafeAreaView>\n        </ScrollableGradientWrapper>\n      </View>\n    );\n   };\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  mainScrollView: {\n    flex: 1,\n  },\n  mainScrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: 20,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: 400,\n    height: 200,\n    resizeMode: 'contain',\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  subtitleContainer: {\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  subtitleText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#ffc100',\n    textAlign: 'center',\n  },\n  subtitleContainer2: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  subtitleText2: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n  },\n  protectionButton: {\n    marginBottom: 20,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    overflow: 'hidden',\n    width: BUTTON_WIDTH,\n    height: 140, // Reduced height\n    backgroundColor: '#fff',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  selectedProtectionButton: {\n    backgroundColor: '#ffc100',\n  },\n  protectionButtonText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  protectionContent: {\n    flex: 1,\n    padding: 15,\n    alignItems: 'center',\n  },\n  selectedProtectionButton: {\n    backgroundColor: '#ffc100',\n  },\n  noImageButton: {\n    height: 80, // Smaller height for no-image button\n  },\n  contentRow: {\n    flexDirection: 'row',\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    paddingTop: 5,\n  },\n  noImageContent: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 10,\n  },\n  imageContainer: {\n    flex: 1,\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    paddingLeft: 20,\n  },\n  priceContainer: {\n    flex: 1,\n    alignItems: 'flex-end',\n    justifyContent: 'center',\n    paddingRight: 20,\n  },\n  noImageContentCentered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  protectionImage: {\n    width: 100,\n    height: 50,\n    marginTop: 10,\n  },\n  noImagePlaceholder: {\n    width: 100,\n    height: 100,\n  },\n  noImageSubtext: {\n    fontSize: 18,\n    color: '#666',\n    marginTop: 10,\n  },\n  leftColumn: {\n    flex: 2, // Takes up 2/3 of the space\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  rightColumn: {\n    flex: 1, // Takes up 1/3 of the space\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingLeft: 10,\n  },\n  priceSummaryContainer: {\n    backgroundColor: '#fff',\n    borderRadius: 15,\n    padding: 15,\n    marginHorizontal: 20,\n    marginTop: 20,\n    alignItems: 'center',\n  },\n  priceRow: {\n    flexDirection: 'column', // Stack label and value vertically\n    alignItems: 'center', // Center horizontally\n    marginBottom: 10,\n  },\n  priceLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n    textAlign: 'center',\n  },\n  priceValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#ffc100',\n    textAlign: 'center',\n  },\n  protectionCost: {\n    fontSize: 14,\n    color: '#666',\n    fontStyle: 'italic',\n    textAlign: 'center',\n  },\n  pricingSection: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  pricingCard: {\n    backgroundColor: '#fff',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    padding: 12,\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 300,\n    alignSelf: 'center',\n  },\n  marginBottom20: {\n    marginBottom: 20,\n  },\n  pricingHeader: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  pricingValueContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 12,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n  },\n  pricingValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  priceBorder: {\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n    backgroundColor: '#ffc100',\n    minWidth: 80,\n    alignItems: 'center',\n  },\n  priceText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },  \n  selectedPriceBorder: {\n    backgroundColor: 'transparent',\n  },\n  selectedPriceText: {\n    color: '#333',\n  },\n  protectionContent: {\n    flex: 1,\n    padding: 15,\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  protectionImage: {\n    width: 100,\n    height: 80, // Adjusted to accommodate price\n    marginVertical: 5,\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n    backgroundColor: 'transparent',\n  },\n  footerLeft: {\n    flex: 1,\n  },\n  footerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  footerRight: {\n    flex: 1,\n    alignItems: 'flex-end',\n  },\n  placeholderButton: {\n    width: 50,\n    height: 50,\n  },\n});\n\nexport default HoseProtectionScreen;","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\n\n// Price Display Component\nconst PriceDisplay = ({ price, hasTestingSelected, titleFade, priceFade }) => (\n  <View style={styles.pricingCard}>\n    <Animated.Text style={[styles.pricingHeader, { opacity: titleFade }]}>\n      {hasTestingSelected ? 'Price with Pressure Testing' : 'Total Hose and Fitting Price'}\n    </Animated.Text>\n    <View style={styles.pricingValueContainer}>\n      <Animated.Text style={[styles.pricingValue, { opacity: priceFade }]}>\n        A$ {price.toFixed(2)}\n      </Animated.Text>\n    </View>\n  </View>\n);\n\nconst PressureButton = ({ type, onPress, isSelected }) => (\n  <TouchableOpacity \n    style={[styles.pressureButton, isSelected && styles.selectedPressureButton]} \n    onPress={onPress}\n  >\n    <Text style={styles.pressureButtonText}>{type}</Text>\n  </TouchableOpacity>\n);\n\nconst PressureTestingScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [selectedPressure, setSelectedPressure] = useState(null);\n  const [initialPrice, setInitialPrice] = useState(0);\n  const [pressureTestPrice, setPressureTestPrice] = useState(0);\n  const priceFade = useRef(new Animated.Value(1)).current;\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const titleFade = useRef(new Animated.Value(1)).current;\n\n  const { \n    selectedHose,\n    selectedHosePrice,\n    selectedFitting, \n    end1Shape, \n    end1Size,\n    end1Price, \n    selectedEnd2Fitting, \n    end2Shape, \n    end2Size,\n    end2Price, \n    selectedAngle,\n    quantity,\n    cutLengths,\n    selectedProtection,\n    cutLengthPrice,\n    isDevMode: devModeActive,\n    basePrice,\n    hoseProtectionPrice,\n    protectionCost\n  } = route.params || {};\n\n  const pressureOptions = [\n    'Not Required',\n    '8000psi'\n  ];\n\n  // Set initial price\n  useEffect(() => {\n    if (hoseProtectionPrice) {\n      setInitialPrice(hoseProtectionPrice);  // Show price from Hose Protection\n      setPressureTestPrice(hoseProtectionPrice);\n    }\n  }, [hoseProtectionPrice]);\n\n  useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start();\n  }, []);\n\n  useFocusEffect(\n    React.useCallback(() => {\n      fadeAnim.setValue(0);\n      const timer = setTimeout(() => {\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 400,\n          useNativeDriver: Platform.OS === 'native',\n        }).start();\n      }, 50);\n\n      return () => clearTimeout(timer);\n    }, [fadeAnim])\n  );\n\n  const handlePressureSelection = (pressure) => {\n    setSelectedPressure(pressure);\n    \n    if (pressure === 'Not Required') {\n      // Simple navigation with current price from Hose Protection\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start(() => {\n        navigateToNext(pressure, initialPrice);\n      });\n    } else {\n      // Parallel animation for title and price\n      Animated.sequence([\n        Animated.parallel([\n          // Fade out both title and price\n          Animated.timing(titleFade, {\n            toValue: 0,\n            duration: 500,\n            useNativeDriver: Platform.OS === 'native',\n          }),\n          Animated.timing(priceFade, {\n            toValue: 0,\n            duration: 500,\n            useNativeDriver: Platform.OS === 'native',\n          })\n        ]),\n        Animated.timing(new Animated.Value(0), {\n          toValue: 1,\n          duration: 100,\n          useNativeDriver: Platform.OS === 'native',\n        }),\n      ]).start(() => {\n        // Calculate pressure test cost based on quantity\n        const pressureTestCostPerHose = 10;\n        const numberOfHoses = quantity ? parseInt(quantity) : 1; // Use quantity if available\n        const totalPressureTestCost = pressureTestCostPerHose * numberOfHoses;\n        \n        // Add this to the price from Hose Protection\n        const newPrice = hoseProtectionPrice + totalPressureTestCost;\n        setPressureTestPrice(newPrice);\n        \n        // Fade in both title and price\n        Animated.parallel([\n          Animated.timing(titleFade, {\n            toValue: 1,\n            duration: 500,\n            useNativeDriver: Platform.OS === 'native',\n          }),\n          Animated.timing(priceFade, {\n            toValue: 1,\n            duration: 500,\n            useNativeDriver: Platform.OS === 'native',\n          })\n        ]).start(() => {\n          // Start navigation animation after price update\n          setTimeout(() => {\n            Animated.timing(fadeAnim, {\n              toValue: 0,\n              duration: 800,\n              useNativeDriver: Platform.OS === 'native',\n            }).start(() => {\n              navigateToNext(pressure, newPrice);\n            });\n          }, 1000);\n        });\n      });\n    }\n  };\n\n  const navigateToNext = (pressure, price) => {\n    const numberOfHoses = quantity ? parseInt(quantity) : 1;\n    const pressureTestTotalCost = pressure === 'Not Required' ? 0 : (10 * numberOfHoses);\n    \n    navigation.navigate('OrderConfirmation1', {\n      selectedPressure: pressure,\n      selectedProtection,\n      selectedHose,\n      selectedHosePrice,\n      selectedFitting,\n      end1Shape,\n      end1Size,\n      end1Price,\n      selectedEnd2Fitting,\n      end2Shape,\n      end2Size,\n      end2Price,\n      selectedAngle,\n      quantity,\n      cutLengths,\n      cutLengthPrice,\n      isDevMode: devModeActive,\n      basePrice,\n      hoseProtectionPrice: price,  // Pass the new total price\n      protectionCost,\n      pressureTestPrice: pressureTestTotalCost  // Pass the total pressure test cost\n    });\n  };\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Back Button */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n      </TouchableOpacity>\n      <ScrollableGradientWrapper>\n        <SafeAreaView style={styles.container}>\n        <View style={styles.logoContainer}>\n          <Image\n            source={require('../assets/fluidpower_logo.gif')}\n            style={styles.logo}\n            resizeMode=\"contain\"\n          />\n        </View>\n        <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n          <View style={styles.titleContainer}>\n            <View style={styles.titleWrapper}>\n              <Text style={styles.titleText}>Pressure TESTING</Text>\n              <Text style={styles.titleText}>(Optional)</Text>\n            </View>\n          </View>\n          <Image\n            source={require('../assets/pressure_testing_diagram.png')}\n            style={styles.diagram}\n            resizeMode=\"contain\"\n          />\n          <View style={styles.subtitleContainer}>\n            <Text style={styles.subtitleText}>\n              Get your Hose Pressure Tested\n            </Text>\n\n            <Text style={styles.subtitleText}>\n            for an additional A$ 10.00 per Hose\n            </Text>\n          </View>\n          <View style={styles.buttonsContainer}>\n            {pressureOptions.map((pressure, index) => (\n              <PressureButton\n                key={index}\n                type={pressure}\n                onPress={() => handlePressureSelection(pressure)}\n                isSelected={selectedPressure === pressure}\n              />\n            ))}\n          </View>\n\n          <View style={styles.pricingSection}>\n            <PriceDisplay \n              price={selectedPressure && selectedPressure !== 'Not Required' ? pressureTestPrice : initialPrice}\n              hasTestingSelected={selectedPressure && selectedPressure !== 'Not Required'}\n              titleFade={titleFade}\n              priceFade={priceFade}\n            />\n          </View>\n        </Animated.View>\n        </SafeAreaView>\n      </ScrollableGradientWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: 400,\n    height: 200,\n    resizeMode: 'contain',\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 10,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  diagram: {\n    width: '100%',\n    height: 180,\n    marginVertical: 5,\n  },\n  subtitleContainer: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  subtitleText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#ffc100',\n    textAlign: 'center',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n  },\n  pressureButton: {\n    marginBottom: 10,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    overflow: 'hidden',\n    width: BUTTON_WIDTH,\n    height: 100,\n    alignSelf: 'center',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 30,\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  selectedPressureButton: {\n    backgroundColor: '#ffc100',\n  },\n  pressureButtonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  pricingSection: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  pricingCard: {\n    backgroundColor: '#fff',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    padding: 12,\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 300,\n    alignSelf: 'center',\n  },\n  pricingHeader: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  pricingValueContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 12,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n  },\n  pricingValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n    backgroundColor: 'transparent',\n  },\n  footerLeft: {\n    flex: 1,\n  },\n  footerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  footerRight: {\n    flex: 1,\n    alignItems: 'flex-end',\n  },\n  placeholderButton: {\n    width: 50,\n    height: 50,\n  },\n});\n\nexport default PressureTestingScreen;","import React, { useRef, useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\n\n// Shipping Button Component\nconst ShippingButton = ({ type, price, onPress, isSelected }) => (\n  <TouchableOpacity \n    style={[\n      styles.shippingButton,\n      isSelected && styles.selectedShippingButton\n    ]}\n    onPress={onPress}\n  >\n    <View style={styles.shippingContent}>\n      <Text style={styles.shippingButtonText}>{type}</Text>\n      <View style={[styles.pricingValueContainer, isSelected && styles.selectedPricingValueContainer]}>\n        <Text style={styles.priceText}>\n          {price === 'FREE' ? 'FREE' : `A$ ${price}`}\n        </Text>\n      </View>\n    </View>\n  </TouchableOpacity>\n);\n\n// Price Display Component\nconst PriceDisplay = ({ price, hasProtection, withShipping, titleFade, priceFade }) => (\n  <View style={styles.pricingCard}>\n    <Animated.Text style={[styles.pricingHeader, { opacity: titleFade }]}>\n      {withShipping ? 'Price with Express Shipping' : \n       (hasProtection ? 'Hose Price with Protection' : 'Hose Only Price')}\n    </Animated.Text>\n    <View style={styles.pricingValueContainer}>\n      <Animated.Text style={[styles.pricingValue, { opacity: priceFade }]}>\n        A$ {price.toFixed(2)}\n      </Animated.Text>\n    </View>\n  </View>\n);\n\nconst ShippingOptionsScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [selectedService, setSelectedService] = useState(null);\n  const [basePrice, setBasePrice] = useState(0);\n  const [shippingPrice, setShippingPrice] = useState(0);\n  const priceFade = useRef(new Animated.Value(1)).current;\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const titleFade = useRef(new Animated.Value(1)).current;\n  const [easterEggMessage, setEasterEggMessage] = useState('');\n  const [showEasterEgg, setShowEasterEgg] = useState(false);\n\n  const { \n    selectedHose,\n    selectedHosePrice, \n    selectedFitting, \n    end1Shape, \n    end1Size,\n    end1Price, \n    selectedEnd2Fitting, \n    end2Shape, \n    end2Size,\n    end2Price,\n    selectedAngle, \n    quantity, \n    cutLengths,\n    isDevMode: devModeActive,\n    selectedProtection,\n    basePrice: receivedBasePrice,\n    totalPrice: receivedTotalPrice,\n    protectionCost,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    cutLengthPrice,  // Added this\n    totalBeforeShipping  // Added this\n  } = route.params || {};\n\n  useEffect(() => {\n    if (devModeActive) {\n      // Override prices for dev mode\n      setBasePrice(0.2);\n      setShippingPrice(0.2);\n      \n      // Show Easter egg message\n      setEasterEggMessage(' Developer Super Discount Activated! All shipping is magic... enjoy your $0.20 price! ');\n      setShowEasterEgg(true);\n      \n      // Auto-hide the message after 5 seconds\n      setTimeout(() => {\n        setShowEasterEgg(false);\n      }, 5000);\n    } else if (totalBeforeShipping) {\n      setBasePrice(totalBeforeShipping);\n      setShippingPrice(totalBeforeShipping);\n    } else if (hoseProtectionPrice) {\n      setBasePrice(hoseProtectionPrice);\n      setShippingPrice(hoseProtectionPrice);\n    } else if (cutLengthPrice) {\n      setBasePrice(cutLengthPrice);\n      setShippingPrice(cutLengthPrice);\n    }\n  }, [totalBeforeShipping, hoseProtectionPrice, cutLengthPrice, devModeActive]);\n\n  useEffect(() => {\n    if (totalBeforeShipping) {\n      setBasePrice(totalBeforeShipping);\n      setShippingPrice(totalBeforeShipping);\n    } else if (hoseProtectionPrice) {\n      setBasePrice(hoseProtectionPrice);\n      setShippingPrice(hoseProtectionPrice);\n    } else if (cutLengthPrice) {\n      setBasePrice(cutLengthPrice);\n      setShippingPrice(cutLengthPrice);\n    }\n  }, [totalBeforeShipping, hoseProtectionPrice, cutLengthPrice]);\n\n  useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start();\n  }, []);\n\n  useFocusEffect(\n    React.useCallback(() => {\n      //setSelectedService(null);\n      fadeAnim.setValue(0);\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start();\n    }, [fadeAnim])\n  );\n\n  const handleServiceSelection = (service) => {\n    setSelectedService(service);\n  \n    // Express shipping with animation\n    Animated.sequence([\n      Animated.parallel([\n        Animated.timing(titleFade, {\n          toValue: 0,\n          duration: 500,\n          useNativeDriver: Platform.OS === 'native',\n        }),\n        Animated.timing(priceFade, {\n          toValue: 0,\n          duration: 500,\n          useNativeDriver: Platform.OS === 'native',\n        })\n      ]),\n      Animated.timing(new Animated.Value(0), {\n        toValue: 1,\n        duration: 100,\n        useNativeDriver: Platform.OS === 'native',\n      }),\n    ]).start(() => {\n      // Always set to 0.2 in dev mode, otherwise normal calculation\n      const shippingCost = devModeActive ? 0 : 12.85;\n      const newPrice = devModeActive ? 0.2 : basePrice + shippingCost;\n      setShippingPrice(newPrice);\n      \n      Animated.parallel([\n        Animated.timing(titleFade, {\n          toValue: 1,\n          duration: 500,\n          useNativeDriver: Platform.OS === 'native',\n        }),\n        Animated.timing(priceFade, {\n          toValue: 1,\n          duration: 500,\n          useNativeDriver: Platform.OS === 'native',\n        })\n      ]).start(() => {\n        setTimeout(() => {\n          Animated.timing(fadeAnim, {\n            toValue: 0,\n            duration: 800,\n            useNativeDriver: Platform.OS === 'native',\n          }).start(() => {\n            navigateToNext(service, newPrice);\n          });\n        }, 1000);\n      });\n    });\n  };\n\n  const navigateToNext = (service, finalPrice) => {\n    const devPrice = devModeActive ? 0.2 : finalPrice;\n\n\n    navigation.navigate('OrderConfirmation1', {\n      selectedService: service,\n      cutLengths,\n      selectedHose,\n      selectedHosePrice,\n      selectedFitting,\n      end1Shape,\n      end1Size,\n      end1Price,\n      selectedEnd2Fitting,\n      end2Shape,\n      end2Size,\n      end2Price,\n      selectedAngle,\n      quantity,\n      selectedProtection,\n      isDevMode: devModeActive,\n      hoseProtectionPrice,\n      selectedPressure,\n      pressureTestPrice,\n      basePrice: receivedBasePrice,\n      totalBeforeShipping: devModeActive ? 0.2 : (totalBeforeShipping || hoseProtectionPrice || cutLengthPrice),\n      cutLengthPrice: devModeActive ? 0.2 : cutLengthPrice,\n      shippingCost: devModeActive ? 0 : 12.85,\n      totalPriceWithShipping: devPrice,\n      protectionCost: devModeActive ? 0 : protectionCost,\n    });\n  };\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Keep Floating Back Button outside scroll wrapper */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n      </TouchableOpacity>\n\n        {/* Easter Egg Message */}\n        {showEasterEgg && (\n          <View style={styles.easterEggContainer}>\n            <Text style={styles.easterEggText}>{easterEggMessage}</Text>\n          </View>\n        )}\n  \n      <ScrollableGradientWrapper>\n        <SafeAreaView style={styles.container}>\n          <View style={styles.logoContainer}>\n            <Image\n              source={require('../assets/fluidpower_logo.gif')}\n              style={styles.logo}\n              resizeMode=\"contain\"\n            />\n          </View>\n          \n          <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n            <View style={styles.titleContainer}>\n              <View style={styles.titleWrapper}>\n                <Text style={styles.titleText}>Select Shipping OPTION</Text>\n              </View>\n            </View>\n  \n            <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\n              <ShippingButton\n                type=\"EXPRESS\"\n                price=\"12.85\"\n                onPress={() => handleServiceSelection('EXPRESS')}\n                isSelected={selectedService === 'EXPRESS'}\n              />\n\n              <View style={styles.pricingSection}>\n                <PriceDisplay \n                  price={selectedService === 'EXPRESS' ? shippingPrice : basePrice}\n                  hasProtection={selectedProtection && selectedProtection !== 'NOT REQUIRED'}\n                  withShipping={selectedService === 'EXPRESS'}\n                  titleFade={titleFade}\n                  priceFade={priceFade}\n                />\n              </View>\n            </ScrollView>\n          </Animated.View>\n        </SafeAreaView>\n      </ScrollableGradientWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 30,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n  },\n  shippingButton: {\n    width: BUTTON_WIDTH,\n    height: 150,\n    marginBottom: 20,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 20,\n    backgroundColor: 'transparent',\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  selectedShippingButton: {\n    backgroundColor: '#ffc100',\n  },\n  shippingContent: {\n    flex: 1,\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  shippingButtonText: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  pricingSection: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  pricingCard: {\n    backgroundColor: '#fff',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    padding: 12,\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 300,\n    alignSelf: 'center',\n  },\n  pricingHeader: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  pricingValueContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 12,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n  },\n  selectedPricingValueContainer: {\n    backgroundColor: 'transparent',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  pricingValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  easterEggContainer: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 120 : 80,\n    left: 0,\n    right: 0,\n    backgroundColor: '#ffc100',\n    padding: 15,\n    margin: 20,\n    borderRadius: 10,\n    borderWidth: 3,\n    borderColor: '#4a4a4a',\n    zIndex: 2000,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 4,\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 5,\n    elevation: 8,\n  },\n  easterEggText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n});\n\nexport default ShippingOptionsScreen;","import React, { createContext, useState, useContext, useEffect } from 'react';\n\n// ============================================================================\n// CART CONTEXT WITH LOCALSTORAGE INTEGRATION\n// ============================================================================\n// This cart context integrates with the website's localStorage to provide\n// a unified cart experience across PWA and Next.js website.\n// \n// localStorage Keys:\n// - 'shopping-cart': Main cart data { open, items, timestamp }\n// - 'cart-timestamp': Separate timestamp for expiration checks\n//\n// Cart items from PWA are tagged with type: 'pwa_order'\n// ============================================================================\n\nconst CartContext = createContext({\n  cartItems: [],\n  isCartVisible: false,\n  addToCart: () => {},\n  removeFromCart: () => {},\n  clearCart: () => {},\n  getCartTotal: () => 0,\n  getCartItemCount: () => 0,\n});\n\nexport const useCart = () => useContext(CartContext);\n\n// Constants\nconst CART_KEY = 'shopping-cart';\nconst TIMESTAMP_KEY = 'cart-timestamp';\nconst CART_EXPIRY_MS = 3600000; // 1 hour in milliseconds\n\nexport const CartProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useState([]);\n  const [isCartVisible, setIsCartVisible] = useState(false);\n  const isSyncingFromStorage = React.useRef(false);\n  \n  // ============================================================================\n  // INITIALIZATION: Load cart from localStorage on mount\n  // ============================================================================\n  // ============================================================================\n// INITIALIZATION: Load cart from localStorage on mount\n// ============================================================================\nuseEffect(() => {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  console.log('CartContext: Initializing from localStorage...');\n  \n  try {\n    const storedCart = localStorage.getItem(CART_KEY);\n    const storedTimestamp = localStorage.getItem(TIMESTAMP_KEY);\n    \n    if (!storedCart || !storedTimestamp) {\n      console.log('CartContext: No existing cart found');\n      sessionStorage.setItem('pwa-cart-initialized', 'true');\n      return;\n    }\n\n    const cartData = JSON.parse(storedCart);\n    const timestamp = parseInt(storedTimestamp, 10);\n    const now = Date.now();\n    const age = now - timestamp;\n\n    console.log('CartContext: Found cart in localStorage', {\n      itemCount: cartData.items?.length || 0,\n      age: `${Math.round(age / 1000)}s`,\n      expired: age > CART_EXPIRY_MS\n    });\n\n    if (age > CART_EXPIRY_MS) {\n      console.log('CartContext: Cart expired, clearing');\n      localStorage.removeItem(CART_KEY);\n      localStorage.removeItem(TIMESTAMP_KEY);\n      sessionStorage.setItem('pwa-cart-initialized', 'true');\n      return;\n    }\n\n    //  FIX: Load ALL items from localStorage, not just PWA items\n    // This preserves website items when PWA first launches\n    if (cartData.items && Array.isArray(cartData.items)) {\n      if (cartData.items.length > 0) {\n        console.log('CartContext: Loading ALL items (website + PWA):', cartData.items.length, 'items');\n        \n        //  CRITICAL: Mark that we're syncing to prevent save loop\n        isSyncingFromStorage.current = true;\n        \n        //  Load ALL items, regardless of their type (website or PWA)\n        setCartItems(cartData.items);\n        setIsCartVisible(true);\n        \n        console.log('CartContext: Items loaded:', {\n          pwaItems: cartData.items.filter(item => item.type === 'pwa_order').length,\n          websiteItems: cartData.items.filter(item => item.type !== 'pwa_order').length\n        });\n      } else {\n        console.log('CartContext: Cart is empty');\n      }\n    }\n\n    sessionStorage.setItem('pwa-cart-initialized', 'true');\n\n  } catch (error) {\n    console.error('CartContext: Error loading from localStorage:', error);\n    try {\n      localStorage.removeItem(CART_KEY);\n      localStorage.removeItem(TIMESTAMP_KEY);\n    } catch (clearError) {\n      console.error('CartContext: Error clearing corrupted data:', clearError);\n    }\n    sessionStorage.setItem('pwa-cart-initialized', 'true');\n  }\n}, []);\n\n  // ============================================================================\n  // PERSISTENCE: Save cart to localStorage whenever it changes\n  // ============================================================================\n  useEffect(() => {\n    if (typeof window === 'undefined') {\n      return;\n    }\n  \n    const hasInitialized = sessionStorage.getItem('pwa-cart-initialized');\n    \n    if (!hasInitialized) {\n      console.log('CartContext: Not initialized yet, skipping save');\n      return;\n    }\n  \n    if (isSyncingFromStorage.current) {\n      console.log('CartContext: Syncing from storage - skipping save');\n      isSyncingFromStorage.current = false;\n      return;\n    }\n  \n    console.log('CartContext: Saving cart to localStorage...', {\n      itemCount: cartItems.length,\n      pwaItems: cartItems.filter(item => item.type === 'pwa_order').length,\n      websiteItems: cartItems.filter(item => item.type !== 'pwa_order').length\n    });\n  \n    try {\n      if (cartItems.length === 0) {\n        console.log('CartContext: Cart empty, removing from localStorage');\n        localStorage.removeItem(CART_KEY);\n        localStorage.removeItem(TIMESTAMP_KEY);\n      } else {\n        const cartData = {\n          open: false,\n          items: cartItems,  //  Save ALL items (website + PWA)\n          timestamp: Date.now()\n        };\n  \n        localStorage.setItem(CART_KEY, JSON.stringify(cartData));\n        localStorage.setItem(TIMESTAMP_KEY, Date.now().toString());\n        \n        console.log('CartContext:  Saved', cartItems.length, 'items to localStorage');\n      }\n    } catch (error) {\n      if (error.name === 'QuotaExceededError') {\n        console.error('CartContext: localStorage quota exceeded!');\n        alert('Cart storage is full. Please clear your browser cache.');\n      } else {\n        console.error('CartContext: Error saving to localStorage:', error);\n      }\n    }\n  }, [cartItems]);\n\n  // ============================================================================\n  // SYNC WITH WEBSITE: Event-driven sync (no polling)\n  // ============================================================================\n  useEffect(() => {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    // Listen for website cart changes\n    const handleWebsiteCartChange = (event) => {\n      try {\n        const { items } = event.detail;\n        const storageItems = items || [];\n        const currentItems = cartItems;\n\n        const storageItemCount = storageItems.length;\n        const currentItemCount = currentItems.length;\n\n        if (storageItemCount !== currentItemCount) {\n          console.log(`CartContext: Website cart changed: ${currentItemCount}  ${storageItemCount}`);\n          isSyncingFromStorage.current = true;\n          setCartItems(storageItems);\n        } else if (storageItemCount > 0) {\n          const currentIds = currentItems.map(item => item.cartId).sort().join(',');\n          const storageIds = storageItems.map(item => item.cartId).sort().join(',');\n          \n          if (currentIds !== storageIds) {\n            console.log('CartContext: Items changed (same count)');\n            isSyncingFromStorage.current = true;\n            setCartItems(storageItems);\n          }\n        }\n      } catch (error) {\n        console.error('CartContext: Error handling website cart change:', error);\n      }\n    };\n\n    window.addEventListener('website-cart-changed', handleWebsiteCartChange);\n\n    return () => {\n      window.removeEventListener('website-cart-changed', handleWebsiteCartChange);\n    };\n  }, [cartItems]);\n\n  // ============================================================================\n  // VISIBILITY EFFECT\n  // ============================================================================\n  useEffect(() => {\n    const shouldBeVisible = cartItems.length > 0;\n    if (shouldBeVisible !== isCartVisible) {\n      setIsCartVisible(shouldBeVisible);\n    }\n  }, [cartItems.length, isCartVisible]);\n  \n  // ============================================================================\n  // CART OPERATIONS\n  // ============================================================================\n  \n  const addToCart = (item) => {\n    console.log('CartContext: Adding item to cart:', item);\n    \n    setCartItems(prevItems => {\n      const newItem = {\n        ...item,\n        cartId: item.cartId || Date.now(),\n        type: item.type || 'pwa_order'\n      };\n      \n      const newItems = [...prevItems, newItem];\n\n      window.dispatchEvent(new CustomEvent('pwa-cart-item-added', {\n        detail: { item: newItem }\n      }));\n\n      return newItems;\n    });\n  };\n  \n  const removeFromCart = (cartId) => {\n    console.log('CartContext: Removing item:', cartId);\n    \n    setCartItems(prevItems => {\n      return prevItems.filter(item => item.cartId !== cartId);\n    });\n  };\n  \n  const clearCart = () => {\n    console.log('CartContext: Clearing cart');\n    setCartItems([]);\n  };\n  \n  const getCartTotal = () => {\n    return cartItems.reduce((total, item) => {\n      return total + (item.totalPrice || 0);\n    }, 0);\n  };\n\n  const getCartItemCount = () => {\n    return cartItems.length;\n  };\n  \n  return (\n    <CartContext.Provider\n      value={{\n        cartItems,\n        isCartVisible,\n        addToCart,\n        removeFromCart,\n        clearCart,\n        getCartTotal,\n        getCartItemCount,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport default CartContext;","import React from 'react';\nimport { View, TouchableOpacity, Text, StyleSheet, Platform } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { useCart } from '../context/CartContext';\nimport Svg, { Path, Circle } from 'react-native-svg';\n\nconst GlobalCartButton = ({ currentScreen }) => {\n  const navigation = useNavigation();\n  const { cartItems, isCartVisible, getCartItemCount } = useCart();\n  \n  // Don't show the cart button on the cart screen itself\n  if (currentScreen === 'Cart' || !isCartVisible || cartItems.length === 0) {\n    return null;\n  }\n\n  const handleCartPress = () => {\n    navigation.navigate('Cart');\n  };\n\n  return (\n    <TouchableOpacity \n      style={styles.globalCartButton}\n      onPress={handleCartPress}\n    >\n      <View style={styles.cartIconContainer}>\n        <Svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n          <Path \n            d=\"M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n          <Path \n            d=\"M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n        \n        {/* Badge for item count */}\n        {cartItems.length > 0 && (\n          <View style={styles.badge}>\n            <Text style={styles.badgeText}>\n              {cartItems.length > 99 ? '99+' : cartItems.length}\n            </Text>\n          </View>\n        )}\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  globalCartButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    right: 30,\n    backgroundColor: 'white',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 4,\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 4.65,\n    elevation: 8,\n    zIndex: 1000,\n  },\n  cartIconContainer: {\n    position: 'relative',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  badge: {\n    position: 'absolute',\n    top: -8,\n    right: -8,\n    backgroundColor: '#ffc100',\n    borderRadius: 10,\n    minWidth: 20,\n    height: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: 'white',\n  },\n  badgeText: {\n    color: '#4a4a4a',\n    fontSize: 12,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n});\n\nexport default GlobalCartButton;","import { Platform } from 'react-native';\n\n// Import the platform-specific implementation\nconst PDFGenerator = Platform.select({\n  web: () => require('./WebPDFGenerator').default,\n  default: () => require('./NativePDFGenerator').default,\n})();\n\nexport default PDFGenerator;","import React, { useRef, useState } from 'react';\nimport { View, Text, StyleSheet, Platform, Image, Alert } from 'react-native';\nimport PDFGenerator from '../PDFGenerator';\n\n// Helper Components\nconst LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nconst BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.cutLengthsPriceBorder}>\n            <Text style={styles.priceText}>\n              {typeof price === 'number' ? `A$${price.toFixed(2)}` : price}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {typeof price === 'number' ? `A$${price.toFixed(2)}` : price}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nconst NumberedCircle = ({ number }) => (\n  <View style={styles.numberedCircle}>\n    <Text style={styles.numberedCircleText}>{number}</Text>\n  </View>\n);\n\n/**\n * Custom hook for generating PDFs from order configurations\n * @param {Object} params\n * @param {Array} params.cartItems - Current cart items\n * @param {Function} params.cleanPriceString - Function to clean price strings\n * @param {Function} params.calculatePricesFromData - Function to calculate prices from order data\n * @param {Function} params.getTotalLengthFromData - Function to get total hose length\n * @returns {Object} PDF generation functions and state\n */\nexport const useOrderPDFGeneration = ({ \n  cartItems,\n  cleanPriceString,\n  calculatePricesFromData,\n  getTotalLengthFromData,\n}) => {\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\n  const [currentOrderForPDF, setCurrentOrderForPDF] = useState(null);\n  const contentRef = useRef(null);\n\n  // Initialize PDF generator\n  const { generatePDF } = PDFGenerator({\n    contentRef,\n    orderId: `PWA-${Date.now()}`,\n    \n    onGenerateStart: () => {\n      console.log('PDF generation started');\n      setIsGeneratingPDF(true);\n    },\n    \n    onGenerateComplete: async (pdfBuffer) => {\n      console.log('PDF generation complete, buffer received:', !!pdfBuffer);\n      setIsGeneratingPDF(false);\n    },\n    \n    onError: (error) => {\n      console.error('PDF generation failed:', error);\n      setIsGeneratingPDF(false);\n      Alert.alert(\n        'PDF Generation Failed',\n        'Unable to generate order PDF. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  });\n\n  /**\n   * Generate PDF for a specific order\n   * @param {Object} orderSnapshot - Order configuration data\n   * @returns {Promise<string>} Base64 PDF data URL\n   */\n  const generateOrderPDF = async (orderSnapshot) => {\n    if (Platform.OS !== 'web') {\n      throw new Error('PDF generation only supported on web platform');\n    }\n\n    try {\n      console.log('Starting PDF generation for order snapshot');\n      \n      // Set the snapshot state (updates hidden PDF container)\n      setCurrentOrderForPDF(orderSnapshot);\n      \n      // Wait for React to update the DOM\n      await new Promise(resolve => setTimeout(resolve, 100));\n      \n      // Generate PDF\n      setIsGeneratingPDF(true);\n      const pdfBuffer = await generatePDF({ silent: true });\n      \n      if (!pdfBuffer) {\n        throw new Error('PDF generation returned null');\n      }\n\n      console.log('PDF buffer received, converting to Base64...');\n\n      // Convert ArrayBuffer to Base64 data URL\n      const pdfBlob = new Blob([pdfBuffer], { type: 'application/pdf' });\n      \n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        \n        reader.onloadend = () => {\n          const base64PDF = reader.result;\n          console.log('PDF converted to Base64, length:', base64PDF.length);\n          \n          // Clear snapshot\n          setCurrentOrderForPDF(null);\n          setIsGeneratingPDF(false);\n          \n          resolve(base64PDF);\n        };\n        \n        reader.onerror = () => {\n          setCurrentOrderForPDF(null);\n          setIsGeneratingPDF(false);\n          reject(new Error('Failed to convert PDF to Base64'));\n        };\n        \n        reader.readAsDataURL(pdfBlob);\n      });\n      \n    } catch (error) {\n      console.error('Error in generateOrderPDF:', error);\n      setIsGeneratingPDF(false);\n      setCurrentOrderForPDF(null);\n      throw error;\n    }\n  };\n\n  /**\n   * Download all PWA order PDFs from cart\n   */\n  const downloadAllCartPDFs = async () => {\n    console.log('Downloading PDFs from cart...');\n    \n    const pwaItems = cartItems.filter(item => item.type === 'pwa_order' && item.pdfDataUrl);\n    \n    if (pwaItems.length === 0) {\n      Alert.alert('No PDFs', 'No PWA orders with PDFs found in cart.');\n      return;\n    }\n    \n    try {\n      // Download each PDF with delay between downloads\n      for (let i = 0; i < pwaItems.length; i++) {\n        const item = pwaItems[i];\n        console.log(`Downloading PDF ${i + 1}/${pwaItems.length}: ${item.id}`);\n        \n        // Convert Base64 data URL to Blob\n        const base64Data = item.pdfDataUrl.split(',')[1];\n        const byteCharacters = atob(base64Data);\n        const byteNumbers = new Array(byteCharacters.length);\n        \n        for (let j = 0; j < byteCharacters.length; j++) {\n          byteNumbers[j] = byteCharacters.charCodeAt(j);\n        }\n        \n        const byteArray = new Uint8Array(byteNumbers);\n        const blob = new Blob([byteArray], { type: 'application/pdf' });\n        \n        // Create download link\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `Order_${item.id}.pdf`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n        \n        console.log(` Downloaded: Order_${item.id}.pdf`);\n        \n        // Delay between downloads\n        if (i < pwaItems.length - 1) {\n          await new Promise(resolve => setTimeout(resolve, 500));\n        }\n      }\n      \n      console.log(` All ${pwaItems.length} PDFs downloaded successfully!`);\n      Alert.alert(\n        'Success',\n        `Downloaded ${pwaItems.length} PDF${pwaItems.length > 1 ? 's' : ''} from cart!`,\n        [{ text: 'OK' }]\n      );\n      \n    } catch (error) {\n      console.error('Error downloading PDFs:', error);\n      Alert.alert('Error', 'Failed to download one or more PDFs. Check console for details.');\n    }\n  };\n\n  /**\n   * Render order summary for PDF (hidden container)\n   */\n  const renderOrderSummaryForPDF = () => {\n    if (!currentOrderForPDF) {\n      return null;\n    }\n\n    const orderData = currentOrderForPDF;\n    const orderTimestamp = Date.now();\n    \n    // Calculate prices using snapshot data\n    const totalLength = getTotalLengthFromData(orderData.cutLengths);\n    const calculatedPrices = calculatePricesFromData(orderData, totalLength);\n    const displayPrice = orderData.isOrderFittingMode ? orderData.cutLengthPrice : calculatedPrices.total;\n    \n    return (\n      <View style={styles.pdfContainer}>\n        {/* Logo */}\n        <View style={styles.pdfLogoContainer}>\n          {Platform.OS === 'web' ? (\n            <img\n              src={require('../../assets/fluidpower_logo.gif')}\n              style={{\n                width: '400px',\n                height: '200px',\n                objectFit: 'contain'\n              }}\n              alt=\"FluidPower Logo\"\n            />\n          ) : (\n            <Image\n              source={require('../../assets/fluidpower_logo.gif')}\n              style={styles.pdfLogo}\n              resizeMode=\"contain\"\n            />\n          )}\n        </View>\n\n        {/* Order Details Box */}\n        <View style={styles.detailsBox}>\n          <View style={styles.boxHeader}>\n            <Text style={styles.boxHeaderText}>Order Summary</Text>\n          </View>\n          \n          <View style={styles.orderDetailsContainerPDF}>\n            {/* Order Number */}\n            <View style={styles.rowContainer}>\n              <LabelItem>ORDER NUMBER</LabelItem>\n              <BorderedItem>{`PWA-${orderTimestamp}`}</BorderedItem>\n            </View>\n\n            {/* Hose Size */}\n            {orderData.selectedHose && (\n              <View style={styles.rowContainer}>\n                <LabelItem>HOSE SIZE</LabelItem>\n                <BorderedItem>\n                  {typeof orderData.selectedHose === 'object' && orderData.selectedHose.size \n                    ? orderData.selectedHose.size \n                    : orderData.selectedHose}\n                </BorderedItem>\n              </View>\n            )}\n\n            {/* Quantity */}\n            {orderData.quantity && (\n              <View style={styles.rowContainer}>\n                <LabelItem>QUANTITY</LabelItem>\n                <BorderedItem>{orderData.quantity}</BorderedItem>\n              </View>\n            )}\n\n            {/* End 1 */}\n            {orderData.end1Shape && orderData.end1Size && (\n              <View style={styles.rowContainer}>\n                <LabelItem>{orderData.isOrderFittingMode ? 'FITTING' : 'END1'}</LabelItem>\n                <BorderedItem price={orderData.end1Price}>\n                  {`${orderData.end1Shape} - ${orderData.end1Size}`}\n                </BorderedItem>\n              </View>\n            )}\n\n            {/* End 2 */}\n            {orderData.end2Shape && orderData.end2Size && (\n              <View style={styles.rowContainer}>\n                <LabelItem>END2</LabelItem>\n                <BorderedItem price={orderData.end2Price}>\n                  {`${orderData.end2Shape} - ${orderData.end2Size}`}\n                </BorderedItem>\n              </View>\n            )}\n\n            {/* Angle */}\n            {orderData.selectedAngle && (\n              <View style={styles.rowContainer}>\n                <LabelItem>ANGLE</LabelItem>\n                <BorderedItem>{orderData.selectedAngle}</BorderedItem>\n              </View>\n            )}\n\n            {/* Cut Lengths */}\n            {orderData.cutLengths && orderData.cutLengths.length > 0 && (\n              <View style={styles.rowContainer}>\n                <LabelItem>CUT LENGTHS</LabelItem>\n                <BorderedItem\n                  price={calculatedPrices.baseHosePrice.toFixed(2)}\n                  isCutLengths={true}\n                >\n                  <View style={styles.cutLengthsContentWrapper}>\n                    {orderData.cutLengths.map((cut, i) => (\n                      <View key={i} style={styles.cutLengthRow}>\n                        <NumberedCircle number={i + 1} />\n                        <Text style={styles.cutLengthText}>\n                          {`${cut.length} ${cut.unit || 'mm'}`}\n                        </Text>\n                      </View>\n                    ))}\n                  </View>\n                </BorderedItem>\n              </View>\n            )}\n\n            {/* Protection */}\n            {orderData.selectedProtection && (\n              <View style={styles.rowContainer}>\n                <LabelItem>PROTECTION</LabelItem>\n                <BorderedItem \n                  price={orderData.selectedProtection === 'NOT REQUIRED' \n                    ? 'NOT REQUIRED' \n                    : orderData.protectionCost}\n                >\n                  {orderData.selectedProtection}\n                </BorderedItem>\n              </View>\n            )}\n\n            {/* Pressure Test */}\n            {orderData.selectedPressure && (\n              <View style={styles.rowContainer}>\n                <LabelItem>PRESSURE TEST</LabelItem>\n                <BorderedItem \n                  price={orderData.selectedPressure === 'Not Required' \n                    ? 'NOT REQUIRED' \n                    : orderData.pressureTestPrice}\n                >\n                  {orderData.selectedPressure}\n                </BorderedItem>\n              </View>\n            )}\n\n            {/* Total */}\n            <View style={styles.totalContainerPDF}>\n              <Text style={styles.totalLabelPDF}>Total Price (Ex. GST)</Text>\n              <Text style={styles.totalValuePDF}>A${displayPrice.toFixed(2)}</Text>\n            </View>\n          </View>\n        </View>\n\n        {/* Footer */}\n        <View style={styles.pdfFooter}>\n          <Text style={styles.pdfFooterText}>\n            For enquiries:  +61 409 517 333 | info@fluidpowergroup.com.au\n          </Text>\n          <Text style={styles.pdfFooterText}>\n            FluidPower Group  {new Date().getFullYear()}\n          </Text>\n        </View>\n      </View>\n    );\n  };\n\n  /**\n   * Render PDF content (hidden container for web)\n   */\n  const renderPDFContent = () => {\n    if (Platform.OS !== 'web') {\n      return null;\n    }\n\n    return (\n      <div \n        ref={contentRef}\n        style={{\n          position: 'absolute',\n          left: '-9999px',\n          top: 0,\n          width: '800px',\n          backgroundColor: 'white'\n        }}\n      >\n        {renderOrderSummaryForPDF()}\n      </div>\n    );\n  };\n\n  return {\n    isGeneratingPDF,\n    contentRef,\n    generateOrderPDF,\n    downloadAllCartPDFs,\n    renderPDFContent,\n  };\n};\n\n// PDF-specific styles\nconst styles = StyleSheet.create({\n  // Helper component styles\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  cutLengthsLayout: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  cutLengthsContent: {\n    flex: 1,\n    paddingRight: 10,\n  },\n  cutLengthsPriceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    alignSelf: 'center',\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginLeft: 10,\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  \n  // PDF container styles\n  pdfContainer: {\n    backgroundColor: 'white',\n    padding: 20,\n    width: '100%',\n  },\n  pdfLogoContainer: {\n    alignItems: 'center',\n    marginBottom: 30,\n  },\n  pdfLogo: {\n    width: 400,\n    height: 200,\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n  },\n  boxHeader: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n  },\n  boxHeaderText: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  orderDetailsContainerPDF: {\n    padding: 15,\n  },\n  cutLengthsContentWrapper: {\n    flex: 1,\n  },\n  totalContainerPDF: {\n    backgroundColor: '#ffc100',\n    padding: 15,\n    alignItems: 'center',\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n    marginTop: 10,\n  },\n  totalLabelPDF: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  totalValuePDF: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  pdfFooter: {\n    marginTop: 30,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: '#e0e0e0',\n    alignItems: 'center',\n  },\n  pdfFooterText: {\n    fontSize: 14,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginVertical: 5,\n  },\n});","import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\n\n// Helper Components for Screen Display\nexport const LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nexport const BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.cutLengthsPriceBorder}>\n            <Text style={styles.priceText}>\n              {typeof price === 'number' ? `A$${price.toFixed(2)}` : price}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {typeof price === 'number' ? `A$${price.toFixed(2)}` : price}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nexport const NumberedCircle = ({ number }) => (\n  <View style={styles.numberedCircle}>\n    <Text style={styles.numberedCircleText}>{number}</Text>\n  </View>\n);\n\nexport const TotalPriceDisplay = ({ total }) => (\n  <View style={styles.totalPriceContainer}>\n    <View style={styles.totalPriceLabelItem}>\n      <Text style={styles.totalPriceLabelText}>TOTAL PRICE</Text>\n    </View>\n    <View style={styles.totalPriceValueContainer}>\n      <Text style={styles.totalPriceValueText}>\n        A${total ? total.toFixed(2) : '0.00'}\n      </Text>\n    </View>\n  </View>\n);\n\nexport const ShippingCostNotice = () => (\n  <View style={styles.shippingNoticeContainer}>\n    <Text style={styles.shippingNoticeText}>\n      *All our shipping costs are capped at A$ 12.85\n    </Text>\n  </View>\n);\n\n/**\n * Renders the complete order details section for the screen\n */\nexport const OrderDetailsSection = ({\n  orderDetails,\n  isOrderFittingMode,\n  end1Price,\n  end2Price,\n  protectionCost,\n  pressureTestPrice,\n  shippingCost,\n  cutLengths,\n  selectedHosePrice,\n  getTotalLength,\n  cleanPriceString,\n}) => {\n  const renderOrderDetails = () => {\n    const details = [];\n    \n    if (orderDetails.hoseSize !== null) {\n      details.push(['hoseSize', orderDetails.hoseSize]);\n    }\n    \n    if (orderDetails.qty !== null) {\n      details.push(['qty', orderDetails.qty]);\n    }\n    \n    Object.entries(orderDetails).forEach(([key, value]) => {\n      if (key !== 'hoseSize' && key !== 'qty' && value !== null) {\n        details.push([key, value]);\n      }\n    });\n    \n    return details.map(([key, value], index) => {\n      let label, content, price;\n\n      switch (key) {\n        case 'hoseSize':\n          label = 'HOSE SIZE';\n          content = value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'qty':\n          label = 'QTY';\n          content = value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'end1':\n          label = isOrderFittingMode ? 'FITTING' : 'END1';\n          content = `${value.type} - ${value.size}`;\n          price = end1Price;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'end2':\n          label = 'END2';\n          content = `${value.type} - ${value.size}`;\n          price = end2Price;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'angle':\n          label = 'ANGLE';\n          content = value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'cutLengths':\n          const totalLength = getTotalLength();\n          const cutLengthPrice = totalLength * cleanPriceString(selectedHosePrice);\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>CUT LENGTHS</LabelItem>\n              <BorderedItem \n                price={cutLengthPrice}\n                isCutLengths={true}\n                style={styles.cutLengthsContainer}\n              >\n                <View>\n                  {value.map((cut, i) => (\n                    <View key={i} style={styles.cutLengthRow}>\n                      <NumberedCircle number={i + 1} />\n                      <Text style={styles.cutLengthText}>{`${cut.length} ${cut.unit}`}</Text>\n                    </View>\n                  ))}\n                </View>\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'hoseProtection':\n          label = 'HOSE PROTECTION';\n          content = value;\n          price = value === 'NOT REQUIRED' ? 'NOT REQUIRED' : protectionCost;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'pressureTest':\n          label = 'PRESSURE TEST';\n          content = value;\n          price = value === 'Not Required' ? 'NOT REQUIRED' : pressureTestPrice;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'shippingService':\n          if (!value) return null;\n          label = 'SHIPPING SERVICE';\n          content = value;\n          price = shippingCost > 0 ? shippingCost : 'FREE';\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        default:\n          label = key.toUpperCase().replace('_', ' ');\n          content = typeof value === 'object' ? \n            `${value.type} - ${value.size}` : value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n      }\n    });\n  };\n\n  return (\n    <View style={styles.orderDetailsContainer}>\n      {renderOrderDetails()}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  orderDetailsContainer: {\n    width: '95%',\n    maxWidth: 800,\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  cutLengthsContainer: {},\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginLeft: 10,\n  },\n  cutLengthsLayout: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  cutLengthsContent: {\n    flex: 1,\n    paddingRight: 10,\n  },\n  cutLengthsPriceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    alignSelf: 'center',\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  totalPriceContainer: {\n    width: '95%',\n    maxWidth: 800,\n    marginVertical: 20,\n    alignItems: 'center',\n  },\n  totalPriceLabelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    marginBottom: 10,\n  },\n  totalPriceLabelText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  totalPriceValueContainer: {\n    width: 200,\n    height: 200,\n    borderRadius: 25,\n    backgroundColor: '#ffc100',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  totalPriceValueText: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  shippingNoticeContainer: {\n    width: '95%',\n    maxWidth: 800,\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  shippingNoticeText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    fontStyle: 'italic',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n});","import React, { useRef, useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, SafeAreaView, Image, ScrollView, TouchableOpacity, Platform, Animated, Modal, ActivityIndicator, Alert } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\nimport { useCart } from '../context/CartContext';\nimport GlobalCartButton from '../components/GlobalCartButton';\nimport { useOrderPDFGeneration } from '../components/OrderConfirmation1/OrderPDFGeneration';\nimport { OrderDetailsSection, TotalPriceDisplay, ShippingCostNotice } from '../components/OrderConfirmation1/OrderSummaryDisplay';\n\nconst BUTTON_WIDTH = Math.min(380);\n\n// Helper function\nconst cleanPriceString = (priceStr) => {\n  if (!priceStr) return 0;\n  return parseFloat(priceStr.replace(/\\s+/g, '').split('/')[0]);\n};\n\n// Main Component\nconst OrderConfirmationScreen1 = () => {\n  \n  const navigation = useNavigation();\n  const route = useRoute();\n  \n  // State management\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const buttonFadeAnim = useRef(new Animated.Value(1)).current;\n  const messageFadeAnim = useRef(new Animated.Value(0)).current;\n  const { cartItems, addToCart, isCartVisible } = useCart();\n  const [selectedAction, setSelectedAction] = useState(null);\n  const [showSelectionModal, setShowSelectionModal] = useState(false);\n  const modalFadeAnim = useRef(new Animated.Value(0)).current;\n  const [selectedButton, setSelectedButton] = useState(null);\n  \n  const currentOrderKey = useRef(null);\n  const [currentOrderAddedToCart, setCurrentOrderAddedToCart] = useState(false);\n  \n  const ADDED_ORDERS_KEY = 'pwa-added-order-keys';\n\n  // Extract route params\n  const { \n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice,\n    isDevMode: devModeActive,\n    selectedProtection,\n    selectedPressure,\n    selectedMethod,\n    selectedService,\n    basePrice,\n    hoseProtectionPrice,\n    pressureTestPrice,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    isOrderFittingMode\n  } = route.params || {};\n\n  // Helper function for getting total length\n  const getTotalLength = () => {\n    if (!cutLengths) return 0;\n    return cutLengths.reduce((total, cut) => {\n      if (!cut.length) return total;\n      return total + (parseFloat(cut.length) / 1000);\n    }, 0);\n  };\n\n  // Helper function for getting total length from order data\n  const getTotalLengthFromData = (cutLengthsData) => {\n    if (!cutLengthsData) return 0;\n    return cutLengthsData.reduce((total, cut) => {\n      if (!cut.length) return total;\n      return total + (parseFloat(cut.length) / 1000);\n    }, 0);\n  };\n\n  // Calculate total price components\n  const calculatePrices = () => {\n    const totalLength = getTotalLength();\n    const baseHosePrice = totalLength * cleanPriceString(selectedHosePrice);\n    const protectionAmount = selectedProtection === 'NOT REQUIRED' ? 0 : protectionCost;\n    \n    const end1Cost = typeof end1Price === 'number' ? end1Price : parseFloat(end1Price) || 0;\n    const end2Cost = typeof end2Price === 'number' ? end2Price : parseFloat(end2Price) || 0;\n    const pressureTestCost = selectedPressure === 'Not Required' ? 0 : pressureTestPrice || 0;\n    \n    const finalShippingCost = 0;\n    \n    const total = baseHosePrice + end1Cost + end2Cost + protectionAmount + pressureTestCost + finalShippingCost;\n  \n    return {\n      baseHosePrice,\n      protectionAmount,\n      finalShippingCost,\n      total\n    };\n  };\n\n  // Calculate prices from order data (for PDF generation)\n  const calculatePricesFromData = (orderData, totalLength) => {\n    const baseHosePrice = totalLength * cleanPriceString(orderData.selectedHosePrice);\n    const protectionAmount = orderData.selectedProtection === 'NOT REQUIRED' ? 0 : orderData.protectionCost;\n    \n    const end1Cost = typeof orderData.end1Price === 'number' ? orderData.end1Price : parseFloat(orderData.end1Price) || 0;\n    const end2Cost = typeof orderData.end2Price === 'number' ? orderData.end2Price : parseFloat(orderData.end2Price) || 0;\n    const pressureTestCost = orderData.selectedPressure === 'Not Required' ? 0 : orderData.pressureTestPrice || 0;\n    \n    const finalShippingCost = 0;\n    const total = baseHosePrice + end1Cost + end2Cost + protectionAmount + pressureTestCost + finalShippingCost;\n  \n    return { baseHosePrice, protectionAmount, finalShippingCost, total };\n  };\n\n  // Initialize PDF generation hook\n  const {\n    isGeneratingPDF,\n    generateOrderPDF,\n    downloadAllCartPDFs,\n    renderPDFContent,\n  } = useOrderPDFGeneration({\n    cartItems,\n    cleanPriceString,\n    calculatePricesFromData,\n    getTotalLengthFromData,\n  });\n\n  // Helper functions for localStorage operations\n  const getAddedOrderKeys = () => {\n    if (typeof window === 'undefined') return [];\n    \n    try {\n      const stored = localStorage.getItem(ADDED_ORDERS_KEY);\n      if (!stored) return [];\n      return JSON.parse(stored);\n    } catch (error) {\n      console.error('Error reading added order keys from localStorage:', error);\n      return [];\n    }\n  };\n\n  const saveAddedOrderKey = (orderKey) => {\n    if (typeof window === 'undefined') return;\n    \n    try {\n      const existingKeys = getAddedOrderKeys();\n      if (!existingKeys.includes(orderKey)) {\n        existingKeys.push(orderKey);\n        localStorage.setItem(ADDED_ORDERS_KEY, JSON.stringify(existingKeys));\n        console.log('Order key saved to localStorage:', orderKey.substring(0, 50) + '...');\n      }\n    } catch (error) {\n      console.error('Error saving added order key to localStorage:', error);\n    }\n  };\n\n  const isOrderKeyAdded = (orderKey) => {\n    const addedKeys = getAddedOrderKeys();\n    return addedKeys.includes(orderKey);\n  };\n\n  // Generate unique key for current order configuration\n  useEffect(() => {\n    const orderConfig = {\n      hoseSize: selectedHose?.size,\n      end1Shape,\n      end1Size,\n      end2Shape,\n      end2Size,\n      angle: selectedAngle,\n      qty: quantity,\n      cutLengths: cutLengths?.map(c => `${c.length}${c.unit}`).join(','),\n      protection: selectedProtection,\n      pressure: selectedPressure,\n    };\n    \n    const orderKey = JSON.stringify(orderConfig);\n    currentOrderKey.current = orderKey;\n    \n    const isAlreadyAdded = isOrderKeyAdded(orderKey);\n    setCurrentOrderAddedToCart(isAlreadyAdded);\n    \n    console.log(\"Order key generated:\", orderKey.substring(0, 50) + \"...\");\n    console.log(\"Order already added (from localStorage):\", isAlreadyAdded);\n  }, [\n    selectedHose,\n    end1Shape,\n    end1Size,\n    end2Shape,\n    end2Size,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    selectedProtection,\n    selectedPressure\n  ]);\n\n  // Reset animations when screen comes into focus\n  useFocusEffect(\n    React.useCallback(() => {\n      setShowSuccessMessage(false);\n      fadeAnim.setValue(0);\n      buttonFadeAnim.setValue(1);\n      \n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start();\n    }, [fadeAnim, buttonFadeAnim])\n  );\n\n  const orderDetails = {\n    hoseSize: selectedHose ? selectedHose.size : null,\n    end1: end1Shape && end1Size ? { type: end1Shape, size: end1Size } : null,\n    end2: end2Shape && end2Size ? { \n      type: end2Shape, \n      size: end2Size,\n    } : null,\n    angle: selectedAngle || null,\n    qty: quantity || null,\n    cutLengths: cutLengths && cutLengths.length > 0 ? cutLengths : null,\n    hoseProtection: selectedProtection || null,\n    pressureTest: selectedPressure || null,\n    shippingMethod: selectedMethod || null,\n    shippingService: selectedService || null\n  };\n\n  // Handler for test PDF download button\n  const handleTestPDFDownload = async () => {\n    console.log('Test PDF download clicked');\n    \n    if (cartItems.length === 0) {\n      // No items in cart - download current screen order\n      console.log('No cart items, downloading current order PDF');\n      try {\n        const orderSnapshot = {\n          selectedHose,\n          selectedHosePrice,\n          end1Shape,\n          end1Size,\n          end1Price,\n          end2Shape,\n          end2Size,\n          end2Price,\n          selectedAngle,\n          quantity,\n          cutLengths,\n          cutLengthPrice,\n          isOrderFittingMode,\n          selectedProtection,\n          protectionCost,\n          selectedPressure,\n          pressureTestPrice,\n        };\n        \n        const pdfDataUrl = await generateOrderPDF(orderSnapshot);\n        \n        // Download the PDF\n        const base64Data = pdfDataUrl.split(',')[1];\n        const byteCharacters = atob(base64Data);\n        const byteNumbers = new Array(byteCharacters.length);\n        \n        for (let j = 0; j < byteCharacters.length; j++) {\n          byteNumbers[j] = byteCharacters.charCodeAt(j);\n        }\n        \n        const byteArray = new Uint8Array(byteNumbers);\n        const blob = new Blob([byteArray], { type: 'application/pdf' });\n        \n        const url = URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `Order_PWA-${Date.now()}.pdf`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n        \n        console.log('PDF download triggered successfully');\n      } catch (error) {\n        console.error('Error downloading PDF:', error);\n        Alert.alert('Error', 'Failed to download PDF. Check console for details.');\n      }\n    } else {\n      // Cart has items - download all PDFs\n      await downloadAllCartPDFs();\n    }\n  };\n\n  // Helper function for modal closing animation and navigation\n  const animateAndNavigate = (buttonKey, screenName, params = {}) => {\n    setSelectedButton(buttonKey);\n    Animated.timing(modalFadeAnim, {\n      toValue: 0,\n      duration: 500,\n      useNativeDriver: Platform.OS !== 'web',\n    }).start(() => {\n      setShowSelectionModal(false);\n      setSelectedButton(null);\n      \n      navigation.push(screenName, {\n        ...params,\n        cameFromOrderConfirmation: true,\n        originalOrderData: {\n          selectedHose,\n          selectedHosePrice,\n          selectedFitting,\n          end1Shape,\n          end1Size,\n          end1Price,\n          selectedEnd2Fitting,\n          end2Shape,\n          end2Size,\n          end2Price,\n          selectedAngle,\n          quantity,\n          cutLengths,\n          cutLengthPrice,\n          isDevMode: devModeActive,\n          selectedProtection,\n          selectedPressure,\n          selectedMethod,\n          selectedService,\n          basePrice,\n          hoseProtectionPrice,\n          pressureTestPrice,\n          protectionCost,\n          isOrderFittingMode\n        }\n      });\n    });\n  };\n\n  const handleBuildHose = () => {\n    animateAndNavigate('build', 'HoseSelection', { \n      isHoseOnly: false,\n      cameFromOrderConfirmation: true\n    });\n  };\n\n  const handleHoseOnly = () => {\n    animateAndNavigate('hoseOnly', 'HoseSelection', { \n      isHoseOnly: true,\n      cameFromOrderConfirmation: true\n    });\n  };\n\n  const handleOrderFitting = () => {\n    animateAndNavigate('order', 'End1Fitting', {\n      selectedHose: null,\n      selectedHosePrice: null,\n      isOrderFittingMode: true,\n      cameFromOrderConfirmation: true\n    });\n  };\n\n  const handleCloseModal = () => {\n    Animated.timing(modalFadeAnim, {\n      toValue: 0,\n      duration: 500,\n      useNativeDriver: Platform.OS !== 'web',\n    }).start(() => {\n      setShowSelectionModal(false);\n      setSelectedButton(null);\n    });\n  };\n\n  // Add to cart handler with PDF generation\n  const handleAddToCart = async () => {\n    console.log(\"Add to cart clicked - starting PDF generation\");\n    \n    if (Platform.OS !== 'web') {\n      Alert.alert('Platform Error', 'PDF generation only supported on web platform');\n      return;\n    }\n    \n    try {\n      // Create order snapshot\n      const orderSnapshot = {\n        selectedHose,\n        selectedHosePrice,\n        end1Shape,\n        end1Size,\n        end1Price,\n        end2Shape,\n        end2Size,\n        end2Price,\n        selectedAngle,\n        quantity,\n        cutLengths,\n        cutLengthPrice,\n        isOrderFittingMode,\n        selectedProtection,\n        protectionCost,\n        selectedPressure,\n        pressureTestPrice,\n      };\n      \n      console.log('Order snapshot created for PDF generation');\n      \n      // Generate PDF with snapshot data\n      const base64PDF = await generateOrderPDF(orderSnapshot);\n      \n      if (!base64PDF) {\n        throw new Error('PDF generation returned null');\n      }\n\n      console.log('PDF Base64 received, length:', base64PDF.length);\n      \n      // Calculate prices\n      const calculatedPrices = calculatePrices();\n      const displayPrice = orderSnapshot.isOrderFittingMode ? orderSnapshot.cutLengthPrice : calculatedPrices.total;\n      \n      // Create cart item\n      const cartItem = {\n        id: 'fpg-cha',\n        type: 'pwa_order',\n        name: 'Custom Hose Assembly',\n        totalPrice: displayPrice,  //  This variable exists from line 468\n        quantity: 1,\n        stock: 999,\n        image: 'https://cdn.swell.store/fluidpowergroup/68eef617d547240012c0335e/1c05a6596c234db331eef0ba67ea760c/Adobe%20Express%20-%20file%20(1).png?width=300&height=300&padded=true',\n        pdfDataUrl: base64PDF,  //  Changed from pdfDataUrl to base64PDF\n        orderConfig: {\n          ...orderSnapshot,  //  Use the snapshot we created\n          calculatedPrices,\n        },\n        cartId: Date.now(),\n      };\n      \n      console.log('Adding cart item:', {\n        id: cartItem.id,\n        type: cartItem.type,\n        price: cartItem.price,\n        quantity: cartItem.quantity,\n        hasPDF: !!cartItem.pdfDataUrl,\n        pdfSize: `${Math.round(cartItem.pdfDataUrl.length / 1024)}KB`\n      });\n      \n      // Add to cart\n      addToCart(cartItem);\n      \n      // Mark order as added\n      if (currentOrderKey.current) {\n        saveAddedOrderKey(currentOrderKey.current);\n      }\n      \n      // Show success message with animation\n      setShowSuccessMessage(true);\n      Animated.timing(messageFadeAnim, {\n        toValue: 1,\n        duration: 400,\n        useNativeDriver: Platform.OS !== 'web',\n      }).start();\n      \n      // Fade out \"Add to Cart\" button\n      Animated.timing(buttonFadeAnim, {\n        toValue: 0,\n        duration: 400,\n        useNativeDriver: Platform.OS !== 'web',\n      }).start(() => {\n        setCurrentOrderAddedToCart(true);\n        \n        // Fade in \"Place New Order\" button\n        Animated.timing(buttonFadeAnim, {\n          toValue: 1,\n          duration: 400,\n          useNativeDriver: Platform.OS !== 'web',\n        }).start();\n        \n        // Hide success message after 2 seconds\n        setTimeout(() => {\n          Animated.timing(messageFadeAnim, {\n            toValue: 0,\n            duration: 400,\n            useNativeDriver: Platform.OS !== 'web',\n          }).start(() => {\n            setShowSuccessMessage(false);\n          });\n        }, 2000);\n      });\n      \n    } catch (error) {\n      console.error('Error in handleAddToCart:', error);\n      \n      Alert.alert(\n        'Error',\n        'Failed to add item to cart. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  // Handler for \"Place New Order\" button\n  const handlePlaceNewOrder = () => {\n    console.log(\"Place new order clicked - navigating to HoseSelection\");\n    \n    // Navigate directly to HoseSelection screen\n    navigation.navigate('HoseSelection');\n    \n    // OLD CODE - Modal selection (commented out, may be useful for debugging)\n    // setShowSelectionModal(true);\n    // modalFadeAnim.setValue(0);\n    // Animated.timing(modalFadeAnim, {\n    //   toValue: 1,\n    //   duration: 800,\n    //   useNativeDriver: Platform.OS !== 'web',\n    // }).start();\n  };\n\n  // Handler for browsing website products\n  const handleProceedToShipping = () => {\n    setSelectedAction('shipping');\n    \n    console.log(\"Browse website products clicked\");\n    \n    Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start(() => {\n      setSelectedAction(null);\n      \n      // Navigate to website catalogue page\n      if (Platform.OS === 'web') {\n        window.location.href = '/catalogue';\n      } else {\n        // For native apps, you might want to open in browser\n        console.log('Navigate to website catalogue');\n        // Linking.openURL('https://yourwebsite.com/catalogue');\n      }\n    });\n  };\n\n  console.log(\"OrderConfirmationScreen1 rendering\", { \n    cartItems: cartItems?.length || 0, \n    isCartVisible,\n    currentOrderAddedToCart\n  });\n\n  const calculatedPrices = calculatePrices();\n  const displayTotalPrice = isOrderFittingMode ? cutLengthPrice : calculatedPrices.total;\n\n  return (\n    <SafeAreaView style={styles.mainContainer}>\n      {/* Floating Back Button */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n      </TouchableOpacity>\n\n      {/* Global Cart Button - COMMENTED OUT FOR TESTING */}\n      {/* Cart is now managed by website - uncomment if needed for debugging */}\n      {/* <GlobalCartButton currentScreen=\"OrderConfirmationScreen1\" /> */}\n\n      {/* PDF Test Button - REMOVED */}\n      {/* PDF generation logic is still active for cart items */}\n\n      <View style={styles.mainContentContainer}>\n        <ScrollableGradientWrapper>\n          <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.scrollContent}>\n              <View style={styles.logoContainer}>\n                <Image\n                  source={require('../assets/fluidpower_logo.gif')}\n                  style={styles.logo}\n                  resizeMode=\"contain\"\n                />\n              </View>\n              <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n                <View style={styles.titleContainer}>\n                  <Text style={styles.titleText}>ORDER Summary</Text>\n                </View>\n                \n                <OrderDetailsSection\n                  orderDetails={orderDetails}\n                  isOrderFittingMode={isOrderFittingMode}\n                  end1Price={end1Price}\n                  end2Price={end2Price}\n                  protectionCost={protectionCost}\n                  pressureTestPrice={pressureTestPrice}\n                  shippingCost={shippingCost}\n                  cutLengths={cutLengths}\n                  selectedHosePrice={selectedHosePrice}\n                  getTotalLength={getTotalLength}\n                  cleanPriceString={cleanPriceString}\n                />\n                \n                <TotalPriceDisplay total={displayTotalPrice} />\n                <ShippingCostNotice />\n                \n                {/* Success message */}\n                {showSuccessMessage && (\n                  <Animated.View \n                    style={[\n                      styles.successMessageContainer,\n                      { opacity: messageFadeAnim }\n                    ]}\n                  >\n                    <Svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" style={styles.successIcon}>\n                      <Path \n                        d=\"M20 6L9 17L4 12\" \n                        stroke=\"white\" \n                        strokeWidth=\"2.5\" \n                        strokeLinecap=\"round\" \n                        strokeLinejoin=\"round\"\n                      />\n                    </Svg>\n                    <Text style={styles.successMessageText}>Item added to cart!</Text>\n                  </Animated.View>\n                )}\n                \n                {/* Action buttons container */}\n                <View style={styles.actionButtonsContainer}>\n                  <Animated.View style={{ opacity: buttonFadeAnim }}>\n                    {!currentOrderAddedToCart ? (\n                      <TouchableOpacity \n                        style={styles.addToCartButton} \n                        onPress={handleAddToCart}\n                        disabled={isGeneratingPDF}\n                      >\n                        <View style={styles.buttonContent}>\n                          {isGeneratingPDF ? (\n                            <ActivityIndicator color=\"#4a4a4a\" size=\"small\" />\n                          ) : (\n                            <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" style={styles.buttonIcon}>\n                              <Path \n                                d=\"M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z\" \n                                stroke=\"#4a4a4a\" \n                                strokeWidth=\"2\" \n                                strokeLinecap=\"round\" \n                                strokeLinejoin=\"round\"\n                              />\n                              <Path \n                                d=\"M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z\" \n                                stroke=\"#4a4a4a\" \n                                strokeWidth=\"2\" \n                                strokeLinecap=\"round\" \n                                strokeLinejoin=\"round\"\n                              />\n                              <Path \n                                d=\"M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6\" \n                                stroke=\"#4a4a4a\" \n                                strokeWidth=\"2\" \n                                strokeLinecap=\"round\" \n                                strokeLinejoin=\"round\"\n                              />\n                            </Svg>\n                          )}\n                          <Text style={styles.buttonText}>\n                            {isGeneratingPDF ? 'ADDING...' : 'ADD TO CART'}\n                          </Text>\n                        </View>\n                      </TouchableOpacity>\n                    ) : (\n                      <TouchableOpacity \n                        style={styles.placeNewOrderButton} \n                        onPress={handlePlaceNewOrder}\n                      >\n                        <View style={styles.buttonContent}>\n                          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" style={styles.buttonIcon}>\n                            <Path \n                              d=\"M12 5v14m7-7H5\" \n                              stroke=\"#4a4a4a\" \n                              strokeWidth=\"2.5\" \n                              strokeLinecap=\"round\" \n                              strokeLinejoin=\"round\"\n                            />\n                          </Svg>\n                          <Text style={styles.buttonText}>ORDER CUSTOM HOSE ASSEMBLY</Text>\n                        </View>\n                      </TouchableOpacity>\n                    )}\n                  </Animated.View>\n\n                  <TouchableOpacity \n                    style={[\n                      styles.shippingButton, \n                      selectedAction === 'shipping' && styles.selectedButton\n                    ]} \n                    onPress={handleProceedToShipping}\n                  >\n                    <View style={styles.buttonContent}>\n                      <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" style={styles.buttonIcon}>\n                        <Path \n                          d=\"M3 3h18M3 12h18M3 21h18\" \n                          stroke=\"#4a4a4a\" \n                          strokeWidth=\"2\" \n                          strokeLinecap=\"round\" \n                          strokeLinejoin=\"round\"\n                        />\n                        <Path \n                          d=\"M7 7h10M7 16h10\" \n                          stroke=\"#4a4a4a\" \n                          strokeWidth=\"2\" \n                          strokeLinecap=\"round\" \n                          strokeLinejoin=\"round\"\n                        />\n                      </Svg>\n                      <Text style={styles.buttonText}>BROWSE WEBSITE PRODUCTS</Text>\n                    </View>\n                  </TouchableOpacity>\n                </View>\n              </Animated.View>\n            </ScrollView>\n          </View>\n        </ScrollableGradientWrapper>\n\n        {/* Loading Overlay */}\n        {isGeneratingPDF && (\n          <View style={styles.pdfLoadingOverlay}>\n            <ActivityIndicator size=\"large\" color=\"#4a4a4a\" />\n            <Text style={styles.loadingText}>Preparing order for cart...</Text>\n          </View>\n        )}\n\n        {/* Hidden PDF Content (Web Only) */}\n        {renderPDFContent()}\n\n        {/* Selection Modal - COMMENTED OUT (navigating directly to HoseSelection) */}\n        {/* Uncomment below if you need to bring back the modal selection in future */}\n        {/*\n        <Modal\n          transparent={true}\n          visible={showSelectionModal}\n          onRequestClose={handleCloseModal}\n          animationType=\"none\"\n        >\n          <View style={styles.modalOverlay}>\n            <TouchableOpacity\n              style={styles.overlayBackground}\n              activeOpacity={1}\n              onPress={handleCloseModal}\n            />\n            <Animated.View style={[styles.selectionContainer, { opacity: modalFadeAnim, transform: [{ scale: modalFadeAnim }] }]}>\n              <Text style={styles.selectionTitle}>You want to</Text>\n\n              <TouchableOpacity\n                style={[\n                  styles.selectionButton,\n                  selectedButton === 'hoseOnly' && styles.selectedModalButton\n                ]}\n                onPress={handleHoseOnly}\n              >\n                <Text style={styles.selectionButtonText}>Order Hose Only</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity\n                style={[\n                  styles.selectionButton,\n                  selectedButton === 'order' && styles.selectedModalButton\n                ]}\n                onPress={handleOrderFitting}\n              >\n                <Text style={styles.selectionButtonText}>Order Fitting Only</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity\n                style={[\n                  styles.selectionButton,\n                  selectedButton === 'build' && styles.selectedModalButton\n                ]}\n                onPress={handleBuildHose}\n              >\n                <Text style={styles.selectionButtonText}>Build Complete Hose</Text>\n              </TouchableOpacity>\n            </Animated.View>\n          </View>\n        </Modal>\n        */}\n\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContentContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingBottom: 20,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n    marginBottom: 15,\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  animatedContainer: {\n    width: '100%',\n    alignItems: 'center',\n  },\n  titleContainer: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    marginVertical: 20,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  actionButtonsContainer: {\n    width: '95%',\n    maxWidth: 800,\n    alignItems: 'center',\n    marginVertical: 15,\n  },\n  addToCartButton: {\n    backgroundColor: 'white',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    marginVertical: 10,\n    width: BUTTON_WIDTH,\n    alignItems: 'center',\n    alignSelf: 'center',\n    minWidth: 240,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  placeNewOrderButton: {\n    backgroundColor: 'white',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    marginVertical: 10,\n    alignItems: 'center',\n    alignSelf: 'center',\n    minWidth: 240,\n    maxWidth: '90%', // Allow button to grow but not exceed screen width\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  shippingButton: {\n    backgroundColor: 'white',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    marginVertical: 10,\n    alignItems: 'center',\n    alignSelf: 'center',\n    minWidth: 240,\n    maxWidth: '90%', // Allow button to grow but not exceed screen width\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  buttonContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexWrap: 'nowrap', // Prevent wrapping of button content\n  },\n  buttonIcon: {\n    marginRight: 10,\n  },\n  buttonText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flexShrink: 0, // Prevent text from shrinking\n    whiteSpace: 'nowrap', // For web - keep text on one line\n  },\n  selectedButton: {\n    backgroundColor: '#ffc100',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  successMessageContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 15,\n    marginBottom: 10,\n    paddingVertical: 12,\n    paddingHorizontal: 25,\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    alignSelf: 'center',\n  },\n  successIcon: {\n    marginRight: 10,\n  },\n  successMessageText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  modalOverlay: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n  },\n  overlayBackground: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  selectionContainer: {\n    width: '85%',\n    maxWidth: 400,\n    backgroundColor: 'rgba(74, 74, 74, 0.9)',\n    borderRadius: 20,\n    padding: 25,\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 5 },\n    shadowOpacity: 0.35,\n    shadowRadius: 6,\n    elevation: 10,\n  },\n  selectionTitle: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    color: 'white',\n    marginBottom: 25,\n    textAlign: 'center',\n  },\n  selectionButton: {\n    width: '100%',\n    backgroundColor: 'white',\n    paddingHorizontal: 20,\n    paddingVertical: 15,\n    borderRadius: 15,\n    marginVertical: 8,\n    borderWidth: 2,\n    borderColor: '#ccc',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 3,\n    elevation: 4,\n  },\n  selectedModalButton: {\n    backgroundColor: '#ffc100',\n  },\n  selectionButtonText: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  pdfLoadingOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.95)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 999,\n  },\n  loadingText: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginTop: 15,\n    fontWeight: 'bold',\n  },\n  floatingPDFTestButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    right: 30,\n    backgroundColor: '#ffc100',\n    paddingHorizontal: 15,\n    paddingVertical: 12,\n    borderRadius: 25,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 999,\n  },\n  pdfTestButtonText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n});\n\nexport default OrderConfirmationScreen1;","import React, { useState, useRef } from 'react';\nimport { View, Text, StyleSheet, SafeAreaView, Image, Dimensions, Platform, TextInput, ScrollView, Animated, TouchableOpacity } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport { Picker } from '@react-native-picker/picker';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\nconst STATES = ['Select State', 'ACT', 'NSW', 'NT', 'QLD', 'SA', 'TAS', 'VIC', 'WA'];\n\nconst ShippingDetailsScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const buttonRef = React.useRef(null);\n  const [isSelected, setIsSelected] = React.useState(false);\n  const [hadTenDigits, setHadTenDigits] = useState(false);\n  const [formSubmitAttempted, setFormSubmitAttempted] = useState(false);\n  const [devModeActive, setDevModeActive] = useState(route.params?.isDevMode || false);\n  const [showDevModeEasterEgg, setShowDevModeEasterEgg] = useState(false);\n\n  const isIOSBrowser = () => {\n    return (\n      Platform.OS === 'ios' ||\n      (Platform.OS === 'web' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)\n    );\n  };\n\n  const { \n    selectedHose,\n        selectedHosePrice,\n        selectedFitting,\n        end1Shape,\n        end1Size,\n        end1Price,\n        selectedEnd2Fitting,\n        end2Shape,\n        end2Size,\n        end2Price,\n        selectedAngle,\n        quantity,\n        cutLengths,\n        isDevMode,\n        cutLengthPrice, isOrderFittingMode,\n        selectedProtection,\n        selectedPressure,\n        selectedMethod,\n        selectedService,\n        basePrice,\n        hoseProtectionPrice,\n        pressureTestPrice,\n        protectionCost,\n        shippingCost,\n        totalBeforeShipping,\n        totalPriceWithShipping\n  } = route.params || {};\n  \n  // State for form fields\n  const [formFields, setFormFields] = useState({\n    name: '',\n    companyName: '',\n    address: '',\n    suburb: '',\n    state: 'Select State', // Default state selection\n    postcode: '',\n    email: '',\n    contactNumber: ''\n  });\n\n  const [touchedFields, setTouchedFields] = useState({\n    name: false,\n    companyName: false,\n    address: false,\n    suburb: false,\n    state: false,\n    postcode: false,\n    email: false,\n    contactNumber: false\n  })\n  \n  const [errors, setErrors] = useState({\n    name: '',\n    companyName: '',\n    address: '',\n    suburb: '',\n    state: '',\n    postcode: '',\n    email: '',\n    contactNumber: ''\n  });\n\n  const [allFieldsFilled, setAllFieldsFilled] = useState(false);\n  const inputRefs = useRef([]);\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n\n  // Initial fade-in animation\n  React.useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS === 'native',\n    }).start();\n  }, []);\n\n  // Screen focus animation and cleanup\n  useFocusEffect(\n    React.useCallback(() => {\n      fadeAnim.setValue(0);\n      setIsSelected(false);\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start();\n\n      return () => {\n        // Cleanup if needed\n      };\n    }, [fadeAnim])\n  );\n\n  React.useEffect(() => {\n    // Small delay to ensure the input is mounted\n    const timer = setTimeout(() => {\n      if (inputRefs.current[0]) {\n        inputRefs.current[0].focus();\n      }\n    }, 100);\n  \n    return () => clearTimeout(timer);\n  }, []);\n\n  const validateField = (name, value) => {\n    let error = '';\n    \n    switch (name) {\n      case 'name':\n      case 'address':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        }\n        break;\n\n      case 'suburb':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else if (!/^[a-zA-Z\\s]+$/.test(value)) {\n          error = 'Please enter letters only';\n        }\n        break;\n\n      case 'state':\n        if (value === 'Select State') {\n          error = 'Please select a state';\n        }\n        break;\n\n      case 'postcode':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else if (!/^\\d{4}$/.test(value)) {\n          error = 'Please enter 4 digits';\n        }\n        break;\n\n      case 'email':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else {\n          const emailRegex = /^[a-zA-Z0-9._]+@[a-zA-Z]{2,}\\.[a-zA-Z]{2,}(\\.[a-zA-Z]{2,})*$/;\n          if (!emailRegex.test(value)) {\n            error = 'Please enter a valid email address';\n          }\n        }\n        break;\n\n      case 'contactNumber':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else if (!/^\\d{10}$/.test(value)) {\n          error = 'Contact number must be 10 digits';\n        }\n        break;\n    }\n    \n    return error;\n  };\n\n  const updateField = (name, value) => {\n    setFormFields(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Check for AGC PTY LTD to activate dev mode\n    if (name === 'companyName' && value.trim().toUpperCase() === 'AGC PTY LTD') {\n      setDevModeActive(true);\n      setShowDevModeEasterEgg(true);\n      // Hide Easter egg after 3 seconds\n      setTimeout(() => {\n        setShowDevModeEasterEgg(false);\n      }, 3000);\n    }\n\n    // Only show errors if form submission was attempted\n    if (formSubmitAttempted) {\n      const error = validateField(name, value);\n      setErrors(prev => ({\n        ...prev,\n        [name]: error\n      }));\n    }\n  };\n\n  const handleNext = () => {\n    setFormSubmitAttempted(true);\n    \n    // Validate all required fields using our new helper function\n    const newErrors = {};\n    let hasErrors = false;\n    \n    Object.entries(formFields).forEach(([fieldName, value]) => {\n      if (fieldName !== 'companyName') { // Skip optional fields\n        const error = validateField(fieldName, value);\n        newErrors[fieldName] = error;\n        if (error) hasErrors = true;\n      }\n    });\n    \n    setErrors(newErrors);\n  \n    if (!hasErrors) {\n      setIsSelected(true);\n      // Start the fade out animation\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 800,\n        useNativeDriver: Platform.OS === 'native',\n      }).start(() => {\n        // Navigate after animation completes\n        navigation.navigate('Payment', {\n          // Previous parameters from route\n          selectedHose,\n          selectedHosePrice,\n          selectedFitting,\n          end1Shape,\n          end1Size,\n          end1Price,\n          selectedEnd2Fitting,\n          end2Shape,\n          end2Size,\n          end2Price,\n          selectedAngle,\n          quantity,\n          cutLengths,\n          isDevMode: devModeActive, // Use the updated dev mode value\n          cutLengthPrice, isOrderFittingMode,\n          selectedProtection,\n          hoseProtectionPrice,\n          selectedPressure,\n          pressureTestPrice,\n          selectedMethod,\n          selectedService,\n          basePrice,\n          shippingCost,\n          totalBeforeShipping,\n          totalPriceWithShipping,\n          protectionCost,\n          shippingDetails: formFields,\n        });\n      });\n    }\n  };\n      \n\nconst handleInputSubmit = (index) => {\n  const currentFieldName = Object.keys(formFields)[index];\n  \n  // Show required field error immediately when skipping\n  setTouchedFields(prev => ({\n    ...prev,\n    [currentFieldName]: true\n  }));\n\n  const currentValue = formFields[currentFieldName];\n  const error = validateField(currentFieldName, currentValue, true);\n  setErrors(prev => ({\n    ...prev,\n    [currentFieldName]: error\n  }));\n\n  // iOS platform check - don't auto-advance focus on iOS\n  if (Platform.OS !== 'ios' && index < 6) {\n    inputRefs.current[index + 1].focus();\n  }\n};\n    \nconst handleInputBlur = (name) => {\n  setTouchedFields(prev => ({\n    ...prev,\n    [name]: true\n  }));\n  \n  // Always validate on blur for iOS\n  const error = validateField(name, formFields[name]);\n  setErrors(prev => ({\n    ...prev,\n    [name]: error\n  }));\n  \n  // If on iOS and this was a successful submission of a field,\n  // check if we should validate all fields\n  if (Platform.OS === 'ios' && formSubmitAttempted) {\n    validateAllFields();\n  }\n};\n\n// Helper function to validate all fields\nconst validateAllFields = () => {\n  const newErrors = {};\n  let hasErrors = false;\n  \n  Object.entries(formFields).forEach(([fieldName, value]) => {\n    if (fieldName !== 'companyName') { // Skip optional fields\n      const error = validateField(fieldName, value);\n      newErrors[fieldName] = error;\n      if (error) hasErrors = true;\n    }\n  });\n  \n  setErrors(newErrors);\n  return !hasErrors;\n};\n\nconst renderInputField = (label, name, index, keyboardType = 'default', isOptional = false, additionalProps = {}) => {\n  // Determine the appropriate input mode based on field type\n  let inputModeValue;\n  switch (name) {\n    case 'postcode':\n    case 'contactNumber':\n      inputModeValue = 'numeric';\n      break;\n    case 'email':\n      inputModeValue = 'email';\n      break;\n    default:\n      inputModeValue = 'text';\n  }\n\n  return (\n    <View key={name} style={styles.inputRow}>\n      <View style={styles.labelContainer}>\n        <Text style={styles.labelText}>\n          {label}{!isOptional && <Text style={styles.asterisk}>*</Text>}{isOptional ? ' (Optional)' : ''}\n        </Text>\n      </View>\n      <View style={styles.inputContainer}>\n        <TextInput\n          ref={el => inputRefs.current[index] = el}\n          style={[\n            styles.input,\n            formSubmitAttempted && errors[name] ? styles.inputError : null\n          ]}\n          value={formFields[name]}\n          onChangeText={(text) => updateField(name, text)}\n          onSubmitEditing={() => handleInputSubmit(index)}\n          onEndEditing={() => Platform.OS === 'ios' ? handleInputBlur(name) : null} // Handle iOS \"Done\" button\n          onBlur={() => {\n            handleInputBlur(name);\n            // On iOS browsers, we may want to validate the entire form\n            if (isIOSBrowser() && formSubmitAttempted) {\n              validateAllFields();\n            }\n          }}\n          keyboardType={keyboardType}\n          returnKeyType={index === 6 ? \"done\" : \"next\"}  // Last field shows \"done\", others show \"next\"\n          enterKeyHint={index === 6 ? \"done\" : \"next\"}   // HTML equivalent for web views\n          inputMode={inputModeValue}\n          autoComplete=\"off\"\n          blurOnSubmit={Platform.OS === 'ios' || index === 6}   // Allow keyboard to dismiss on iOS or last field\n          maxLength={name === 'postcode' ? 4 : (name === 'contactNumber' ? 10 : additionalProps?.maxLength)}\n          placeholder={additionalProps?.placeholder}\n          {...additionalProps}\n        />\n      </View>\n      {formSubmitAttempted && errors[name] ? \n        <Text style={styles.errorText}>{errors[name]}</Text> : null}\n    </View>\n  );\n};\n\n    return (\n      <View style={styles.mainContainer}>\n        {/* Floating Back Button */}\n        <TouchableOpacity \n          style={styles.floatingBackButton}\n          onPress={() => navigation.goBack()}\n        >\n          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n            <Path \n              d=\"M19 12H5M12 19L5 12L12 5\" \n              stroke=\"#4a4a4a\" \n              strokeWidth=\"2.5\" \n              strokeLinecap=\"round\" \n              strokeLinejoin=\"round\"\n            />\n          </Svg>\n        </TouchableOpacity>\n    \n        <ScrollableGradientWrapper>\n          <SafeAreaView style={styles.container}>\n            <View style={styles.logoContainer}>\n              <Image\n                source={require('../assets/fluidpower_logo.gif')}\n                style={styles.logo}\n                resizeMode=\"contain\"\n              />\n            </View>\n            \n            {showDevModeEasterEgg && (\n              <Animated.View style={styles.devModeEasterEgg}>\n                <Text style={styles.devModeText}> Developer Mode Activated! </Text>\n              </Animated.View>\n            )}\n            \n            <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\n              <ScrollView \n                style={styles.mainScrollView}\n                contentContainerStyle={styles.mainScrollViewContent}\n                showsVerticalScrollIndicator={true}\n              >\n                <View style={styles.titleContainer}>\n                  <Text style={styles.titleText}>Shipping Details</Text>\n                </View>\n                <Text style={styles.requiredFieldsText}>Fields marked with * are required</Text>\n            \n            <View style={styles.formContainer}>\n              {renderInputField('Name', 'name', 0)}\n              {renderInputField('Company Name', 'companyName', 1, 'default', true)}\n              {renderInputField('Address', 'address', 2)}\n              {renderInputField('Suburb', 'suburb', 3)}\n      \n              {/* State Picker */}\n              <View style={styles.inputRow}>\n                <View style={styles.labelContainer}>\n                  <Text style={styles.labelText}>\n                    State<Text style={styles.asterisk}>*</Text>\n                  </Text>\n                </View>\n                <View style={styles.pickerContainer}>\n                  <Picker\n                    selectedValue={formFields.state}\n                    onValueChange={(itemValue) => {\n                      updateField('state', itemValue);\n                      if (Platform.OS === 'ios') {\n                        // On iOS, immediately validate after selection\n                        const error = validateField('state', itemValue);\n                        setErrors(prev => ({\n                          ...prev,\n                          state: error\n                        }));\n                        setTouchedFields(prev => ({\n                          ...prev,\n                          state: true\n                        }));\n                      }\n                    }}\n                    style={styles.picker}\n                    itemStyle={{ fontSize: 20, fontWeight: 'bold' }}\n                  >\n                    {STATES.map((state) => (\n                      <Picker.Item \n                        key={state} \n                        label={state} \n                        value={state}\n                        style={{ fontSize: 20, fontWeight: 'bold' }}\n                      />\n                    ))}\n                  </Picker>\n                </View>\n                {formSubmitAttempted && errors.state ? \n                  <Text style={styles.errorText}>{errors.state}</Text> : null}\n              </View>\n              \n              {renderInputField('Postcode', 'postcode', 4, 'numeric')}\n              {renderInputField('Email', 'email', 5, 'email-address')}\n              {renderInputField('Contact Number', 'contactNumber', 6, 'numeric', false, { maxLength: 10 })}\n              \n              {/* Proceed to Payment Button - Always visible */}\n              <TouchableOpacity \n                style={[\n                  styles.proceedButton,\n                  { backgroundColor: isSelected ? '#ffc100' : 'transparent' },\n                  { borderColor: '#4a4a4a' }\n                ]}\n                onPress={handleNext}\n                activeOpacity={0.8}\n              >\n                <Text style={styles.proceedButtonText}>Proceed to Payment</Text>\n              </TouchableOpacity>\n              </View>\n          </ScrollView>\n        </Animated.View>\n      </SafeAreaView>\n    </ScrollableGradientWrapper>\n  </View>\n)\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  mainScrollView: {\n    flex: 1,\n  },\n  mainScrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: 20,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 10,\n    paddingBottom: 20,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',  // This ensures horizontal centering\n    paddingHorizontal: 20, // Add horizontal padding\n    width: '100%',        // Ensure full width\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginTop: 15,\n    marginBottom: 20,\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,  // Increased padding\n    alignSelf: 'center',\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  requiredFieldsText: {\n    color: 'red',\n    fontSize: 16,\n    marginTop: 5,\n    marginBottom: 15,\n    alignItems: 'center', // Center the form elements\n    alignSelf: 'center',\n  },\n  asterisk: {\n    color: 'red',\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  formContainer: {\n    width: '100%',\n    maxWidth: 400,       // Maximum width for the form\n    alignItems: 'center', // Center the form elements\n    alignSelf: 'center',  // Center the container itself\n  },\n  inputRow: {\n    marginBottom: 20,\n    width: '100%',   \n  },\n  labelContainer: {\n    marginBottom: 5,\n  },\n  labelText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  input: {\n    width: '100%',      // Ensure full width\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'left',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 10,\n    height: 40,\n    paddingHorizontal: 10,\n  },\n  pickerContainer: {\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 10,\n    overflow: 'hidden',\n    width: '100%', \n  },\n  picker: {\n    height: 40,\n    backgroundColor: 'transparent',\n  },\n  inputError: {\n    borderColor: 'red',\n  },\n  errorText: {\n    color: 'red',\n    fontSize: 14,\n    marginTop: 5,\n  },\n  proceedButton: {\n    marginTop: 30,\n    marginBottom: 20,\n    paddingVertical: 12,\n    paddingHorizontal: 20,\n    borderRadius: 25,\n    borderWidth: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center',\n    minWidth: 200,\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n},\nproceedButtonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n},\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n    backgroundColor: 'transparent',\n  },\n  footerLeft: {\n    flex: 1,\n  },\n  footerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  footerRight: {\n    flex: 1,\n    alignItems: 'flex-end',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  devModeEasterEgg: {\n    backgroundColor: '#4a4a4a',\n    padding: 10,\n    borderRadius: 10,\n    marginHorizontal: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 10,\n    // Add a subtle animation effect\n    shadowColor: '#ffc100',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.8,\n    shadowRadius: 3.84,\n    elevation:\n    5,\n  },\n  devModeText: {\n    color: '#ffc100',\n    fontWeight: 'bold',\n    fontSize: 18,\n  },\n});\n\nexport default ShippingDetailsScreen;","// PayPalButtonWrapper - With dynamic script loading fallback\nimport React, { useEffect, useRef, useState } from 'react';\nimport { View, Platform, Text, ActivityIndicator, StyleSheet } from 'react-native';\n\nconst PayPalButtonWrapper = ({\n    amount,\n    currency = 'AUD',\n    description = 'FluidPower Order',\n    onApprove,\n    onCancel,\n    onError,\n    disabled\n}) => {\n    const containerRef = useRef(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [sdkReady, setSdkReady] = useState(false);\n    const scriptAddedRef = useRef(false);\n    \n    // First useEffect: Handle SDK loading with fallback\n    useEffect(() => {\n        // Only run on web platform\n        if (Platform.OS !== 'web') return;\n        \n        console.log(\"PayPalButtonWrapper: Initializing PayPal integration\");\n        \n        // Function to check if SDK is loaded\n        const checkSDK = () => {\n            if (window.paypal) {\n                console.log(\"PayPalButtonWrapper: PayPal SDK detected\");\n                setSdkReady(true);\n                return true;\n            }\n            return false;\n        };\n        \n        // Function to dynamically add script if needed\n        const addPayPalScript = () => {\n            if (scriptAddedRef.current) return;\n            \n            console.log(\"PayPalButtonWrapper: Dynamically adding PayPal script\");\n            scriptAddedRef.current = true;\n            \n            const script = document.createElement('script');\n            script.src = \"https://www.paypal.com/sdk/js?client-id=AdYLJtivoqNzTAJ9-pho-cB5TcaSgg1MuOo_Hc-ENlSG9Upab9GQsO0Uip95jaGXL6vdCNyCT88erFnA&currency=AUD\";\n            script.async = true;\n            \n            script.onload = () => {\n                console.log(\"PayPalButtonWrapper: Dynamically added script loaded\");\n                setSdkReady(true);\n            };\n            \n            script.onerror = (err) => {\n                console.error(\"PayPalButtonWrapper: Script load error:\", err);\n                if (onError) onError(new Error(\"PayPal SDK failed to load\"));\n            };\n            \n            document.head.appendChild(script);\n        };\n        \n        // Check immediately if SDK is loaded from initial script tag\n        if (checkSDK()) {\n            return;\n        }\n        \n        // Listen for the custom event from the index.html script\n        const handleSDKReady = () => {\n            console.log(\"PayPalButtonWrapper: PayPal SDK ready event detected\");\n            setSdkReady(true);\n        };\n        document.addEventListener('paypal-sdk-loaded', handleSDKReady);\n        \n        // Wait a short time, then check again before trying to add the script\n        const initialTimeout = setTimeout(() => {\n            if (!checkSDK()) {\n                console.log(\"PayPalButtonWrapper: SDK not found after initial wait, adding script\");\n                addPayPalScript();\n            }\n        }, 1000);\n        \n        return () => {\n            clearTimeout(initialTimeout);\n            document.removeEventListener('paypal-sdk-loaded', handleSDKReady);\n        };\n    }, [onError]);\n    \n    // Second useEffect: Render PayPal buttons when SDK is ready\n    useEffect(() => {\n        // Only proceed if SDK is ready, we're on web, and have a valid container\n        if (!sdkReady || Platform.OS !== 'web' || !containerRef.current || disabled) return;\n        \n        // Additional delay before rendering to ensure SDK is fully initialized\n        const renderTimeout = setTimeout(() => {\n            // Clear any previous content\n            if (containerRef.current) {\n                containerRef.current.innerHTML = '';\n            }\n            \n            // Skip if amount is invalid\n            if (isNaN(amount) || amount <= 0) {\n                console.error('PayPalButtonWrapper: Invalid amount for PayPal', amount);\n                if (onError) onError(new Error('Invalid amount'));\n                return;\n            }\n            \n            console.log(\"PayPalButtonWrapper: Starting PayPal button render\");\n            \n            try {\n                // Create the PayPal buttons\n                window.paypal.Buttons({\n                    // Style\n                    style: {\n                        layout: 'vertical',\n                        color: 'gold',\n                        shape: 'rect',\n                        label: 'paypal',\n                        height: 50\n                    },\n                    \n                    // Create order\n                    createOrder: function(data, actions) {\n                        console.log('PayPalButtonWrapper: createOrder triggered');\n                        setIsLoading(true);\n                        \n                        return actions.order.create({\n                            purchase_units: [{\n                                amount: {\n                                    value: amount.toFixed(2),\n                                    currency_code: currency\n                                },\n                                description: description\n                            }],\n                            application_context: {\n                                shipping_preference: 'NO_SHIPPING',\n                                user_action: 'PAY_NOW',\n                            }\n                        });\n                    },\n                    \n                    // Payment approved\n                    onApprove: function(data, actions) {\n                        setIsLoading(false);\n                        \n                        if (onApprove) {\n                            onApprove(data);\n                        } else {\n                            return actions.order.capture().then(function(details) {\n                                console.log('PayPalButtonWrapper: Payment completed', details);\n                            });\n                        }\n                    },\n                    \n                    // Payment cancelled\n                    onCancel: function(data) {\n                        console.log('PayPalButtonWrapper: Payment cancelled', data);\n                        setIsLoading(false);\n                        if (onCancel) onCancel(data);\n                    },\n                    \n                    // Error occurred\n                    onError: function(err) {\n                        console.error('PayPalButtonWrapper: PayPal error', err);\n                        setIsLoading(false);\n                        if (onError) onError(err);\n                    }\n                }).render(containerRef.current).then(() => {\n                    console.log(\"PayPalButtonWrapper: Render successful.\");\n                }).catch(err => {\n                    console.error(\"PayPalButtonWrapper: Render failed:\", err);\n                    if (onError) onError(err);\n                });\n            } catch (error) {\n                console.error('PayPalButtonWrapper: Error rendering PayPal buttons', error);\n                if (onError) onError(error);\n            }\n        }, 500);\n        \n        return () => {\n            clearTimeout(renderTimeout);\n            if (containerRef.current) {\n                containerRef.current.innerHTML = '';\n            }\n        };\n    }, [sdkReady, amount, currency, description, onApprove, onCancel, onError, disabled]);\n    \n    // Render container\n    return (\n        <View style={styles.container}>\n            {Platform.OS === 'web' ? (\n                <>\n                    {!sdkReady ? (\n                        <View style={styles.loadingContainer}>\n                            <ActivityIndicator size=\"small\" color=\"#999\" />\n                            <Text style={styles.loadingText}>Loading PayPal...</Text>\n                        </View>\n                    ) : (\n                        <div \n                            ref={containerRef}\n                            style={styles.paypalContainer}\n                        />\n                    )}\n                </>\n            ) : (\n                <Text style={styles.unsupportedText}>\n                    PayPal is only available on web platforms\n                </Text>\n            )}\n            {(disabled || isLoading) && sdkReady && (\n                <View style={styles.disabledOverlay}>\n                    <ActivityIndicator size=\"small\" color=\"#999\" />\n                    <Text style={styles.disabledText}>Processing payment...</Text>\n                </View>\n            )}\n        </View>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        width: '100%',\n        minHeight: 50,\n        position: 'relative'\n    },\n    paypalContainer: {\n        width: '100%',\n        minHeight: 50\n    },\n    loadingContainer: {\n        width: '100%',\n        minHeight: 50,\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: '#f7f7f7',\n        borderRadius: 4\n    },\n    loadingText: {\n        marginTop: 8,\n        color: '#666',\n        fontSize: 14\n    },\n    unsupportedText: {\n        textAlign: 'center',\n        padding: 15,\n        color: '#666'\n    },\n    disabledOverlay: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(255, 255, 255, 0.8)',\n        justifyContent: 'center',\n        alignItems: 'center',\n        zIndex: 1\n    },\n    disabledText: {\n        marginTop: 10,\n        color: '#666',\n        fontSize: 14\n    }\n});\n\nexport default PayPalButtonWrapper;","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport {\n  View, Text, StyleSheet, SafeAreaView, Image, ScrollView,\n  Animated, TouchableOpacity, Platform, ActivityIndicator, Alert\n} from 'react-native';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport PayPalButtonWrapper from '../components/PayPalButtonWrapper';\nimport Svg, { Path } from 'react-native-svg';\n\nconst PaymentScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  \n  // Simple payment status\n  const [paymentStatus, setPaymentStatus] = useState('idle'); // 'idle', 'processing', 'success', 'cancelled', 'error'\n  const [errorMessage, setErrorMessage] = useState('');\n  // --- Extract route parameters ---\n  const {\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice,\n    isDevMode: devModeActive,\n    isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod = 'Standard',\n    selectedService = 'Standard Shipping',\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    shippingDetails\n  } = route.params || {};\n\n  // --- Helper Functions ---\n  const cleanPriceString = (priceStr) => {\n    if (!priceStr) return 0;\n    return parseFloat(priceStr.replace(/\\s+/g, '').split('/')[0]);\n  };\n\n  // Calculation function that preserves fittings only mode\n  const calculateTotalBeforeShipping = useCallback(() => {\n    // If we're in isOrderFittingMode, use the cutLengthPrice directly\n    if (isOrderFittingMode) {\n      return cutLengthPrice || 0;\n    }\n\n    // For normal hose orders\n    const end1Cost = typeof end1Price === 'number' ? end1Price : parseFloat(end1Price) || 0;\n    const end2Cost = typeof end2Price === 'number' ? end2Price : parseFloat(end2Price) || 0;\n\n    // Get base hose price from cut lengths\n    let cutLengthCost = 0;\n    if (cutLengths && cutLengths.length > 0) {\n      const totalLength = cutLengths.reduce((total, cut) => {\n        if (!cut.length) return total;\n        return total + (parseFloat(cut.length) / 1000); // Convert mm to meters\n      }, 0);\n      \n      cutLengthCost = totalLength * cleanPriceString(selectedHosePrice);\n    } else {\n      cutLengthCost = cutLengthPrice || 0;\n    }\n\n    // Get protection cost\n    const protectionAmount = selectedProtection === 'NOT REQUIRED' ? 0 : (protectionCost || 0);\n\n    // Get pressure test cost\n    const pressureTestAmount = selectedPressure === 'Not Required' ? 0 : (pressureTestPrice || 0);\n\n    // Sum all components\n    return end1Cost + end2Cost + cutLengthCost + protectionAmount + pressureTestAmount;\n  }, [isOrderFittingMode, cutLengthPrice, end1Price, end2Price, cutLengths, selectedHosePrice, selectedProtection, protectionCost, selectedPressure, pressureTestPrice]);\n\n  // Price calculations\n  const calculatedSubtotal = calculateTotalBeforeShipping();\n  const subtotal = isOrderFittingMode ? cutLengthPrice : (totalBeforeShipping || calculatedSubtotal);\n  const shippingAmount = devModeActive ? 0 : (shippingCost || 12.85);\n  const total = subtotal + shippingAmount;\n  const gst = total * 0.10;\n  const finalTotal = devModeActive ? 0.20 : (total + gst);\n\n  useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: Platform.OS !== 'web',\n    }).start();\n  }, [fadeAnim]);\n\n  // --- PayPal Event Handlers ---\n  const handlePayPalApprove = useCallback(async (sdkData) => { \n    \n    if (!sdkData || !sdkData.orderID) {\n      console.error(\"PaymentScreen: Approve callback missing orderID!\");\n      setPaymentStatus('error');\n      setErrorMessage('Critical error after PayPal approval. Missing Order ID.');\n      return;\n    }\n    \n    setPaymentStatus('processing');\n    \n    // Create an internal order number\n    const internalOrderNumber = `FPG-${Date.now()}`;\n    \n    try {\n      // Option 1: Quick demo approach - just use the PayPal order ID without server-side capture\n     /* setTimeout(() => {\n        console.log(\"PaymentScreen: Demo payment processed successfully\");\n        navigation.replace('OrderConfirmation', {\n          success: true,\n          orderDetails: {\n            orderID: sdkData.orderID,\n            orderNumber: internalOrderNumber,\n            totalAmount: finalTotal,\n            userDetails: shippingDetails\n          }\n        });\n      }, 1500); */\n      \n      \n      // Option 2: Server-side capture (This can be uncommented when your backend is fully ready)\n      const emailTemplatesContent = {\n        customerEmailContent: `<p>Thank you for your order, ${route.params?.shippingDetails?.name || 'Customer'}!</p><p>Your Order Number: ${internalOrderNumber}</p><p>Amount: A$${finalTotal.toFixed(2)}</p>`,\n        businessEmailContent: `<p>New order ${internalOrderNumber}.</p><p>Customer: ${route.params?.shippingDetails?.name || 'N/A'}</p><p>Email: ${route.params?.shippingDetails?.email || 'N/A'}</p><p>Amount: A$${finalTotal.toFixed(2)}</p>`\n      };\n  \n      const payloadForBackend = {\n        orderID: sdkData.orderID,\n        payerID: sdkData.payerID,\n        orderNumber: internalOrderNumber,\n        userDetails: route.params?.shippingDetails,\n        emailTemplates: emailTemplatesContent,\n        originalOrderParams: route.params\n      };\n      \n      console.log(\"PaymentScreen: Payload successfully prepared for backend capture\");\n  \n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/paypal/capture-order`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payloadForBackend)\n      });\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        let errorJson;\n        try {\n          errorJson = JSON.parse(errorText);\n        } catch (e) {\n          // If parsing fails, use the raw text\n        }\n        \n        const errorMessage = errorJson?.error || `Server error: ${response.status}`;\n        throw new Error(errorMessage);\n      }\n      \n      const captureResult = await response.json();\n  \n      if (captureResult.success) {\n        console.log(\"PaymentScreen: Server-side capture successful!\");\n        const transactionId = captureResult.paypalCaptureID;\n        navigation.replace('OrderConfirmation', {\n          success: true,\n          orderDetails: payloadForBackend, transactionId \n        });\n      } else {\n        console.error(\"PaymentScreen: Server-side capture failed:\", captureResult.error);\n        setPaymentStatus('error');\n        setErrorMessage(captureResult.error || 'An error occurred processing your payment after approval.');\n      }\n      \n      \n    } catch (error) {\n      console.error(\"PaymentScreen: Error in payment process:\", error);\n      setPaymentStatus('error');\n      setErrorMessage(error.message || 'A network error occurred while finalizing your payment.');\n    }\n  }, [navigation, finalTotal, shippingDetails]);\n\n\n\n  const handlePayPalCancel = useCallback((data) => {\n    console.log('Payment cancelled:', data);\n    setPaymentStatus('cancelled');\n  }, []);\n\n  const handlePayPalError = useCallback((error) => {\n    console.error('Payment error:', error);\n    setPaymentStatus('error');\n    setErrorMessage(error.message || 'An error occurred during payment');\n    \n    Alert.alert(\n      'Payment Error',\n      'There was a problem with your payment. Please try again.'\n    );\n  }, []);\n\n  const handleRetryPayment = useCallback(() => {\n    setPaymentStatus('idle');\n    setErrorMessage('');\n  }, []);\n\n  const handleStartNewOrder = useCallback(() => {\n    navigation.reset({\n      index: 0,\n      routes: [{ name: 'Welcome' }]\n    });\n  }, [navigation]);\n\n  // --- Clean up on unmount ---\n  useEffect(() => {\n    return () => {\n      // Reset any global state or cleanup\n      //console.log(\"PaymentScreen unmounting - performing cleanup\");\n    };\n  }, []);\n\n  // --- UI Components ---\n  const renderShippingDetails = () => (\n    <View style={styles.shippingDetailsContainer}>\n      <View style={styles.sectionTitleContainer}>\n        <Text style={styles.sectionTitleText}>Shipping Details</Text>\n      </View>\n      <View style={styles.detailsGrid}>\n        {shippingDetails?.name && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Name:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.name}</Text>\n          </View>\n        )}\n        {shippingDetails?.companyName && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Company:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.companyName}</Text>\n          </View>\n        )}\n        {shippingDetails?.address && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Address:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.address}</Text>\n          </View>\n        )}\n        {shippingDetails?.suburb && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Suburb:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.suburb}</Text>\n          </View>\n        )}\n        {shippingDetails?.state && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>State:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.state}</Text>\n          </View>\n        )}\n        {shippingDetails?.postcode && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Postcode:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.postcode}</Text>\n          </View>\n        )}\n        {shippingDetails?.email && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Email:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.email}</Text>\n          </View>\n        )}\n        {shippingDetails?.contactNumber && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Contact:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.contactNumber}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderPriceBreakdown = () => (\n    <View style={styles.priceBreakdownContainer}>\n      <View style={styles.sectionTitleContainer}>\n        <Text style={styles.sectionTitleText}>Price Breakdown</Text>\n      </View>\n      <View style={styles.priceDetailsGrid}>\n        <View style={styles.priceRow}>\n          <Text style={styles.priceLabel}>Subtotal:</Text>\n          <Text style={styles.priceValue}>A${subtotal.toFixed(2)}</Text>\n        </View>\n        <View style={styles.priceRow}>\n          <Text style={styles.priceLabel}>Shipping Cost:</Text>\n          <Text style={styles.priceValue}>\n            {shippingAmount > 0 ? `A$${shippingAmount.toFixed(2)}` : 'FREE'}\n          </Text>\n        </View>\n        <View style={styles.priceRow}>\n          <Text style={styles.priceLabel}>GST (10%):</Text>\n          <Text style={styles.priceValue}>A${gst.toFixed(2)}</Text>\n        </View>\n      </View>\n    </View>\n  );\n\n  const renderStatusMessage = () => {\n    if (paymentStatus === 'cancelled') {\n      return (\n        <View style={[styles.statusContainer, { backgroundColor: '#fff3cd' }]}>\n          <Text style={styles.statusTitle}>Payment Cancelled</Text>\n          <Text style={styles.statusMessage}>\n            Your payment was cancelled. No charges have been applied.\n          </Text>\n          <TouchableOpacity style={styles.retryButton} onPress={handleRetryPayment}>\n            <Text style={styles.buttonText}>Try Again</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.newOrderButton} onPress={handleStartNewOrder}>\n            <Text style={styles.buttonText}>Start New Order</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    \n    if (paymentStatus === 'error') {\n      return (\n        <View style={[styles.statusContainer, { backgroundColor: '#f8d7da' }]}>\n          <Text style={styles.statusTitle}>Payment Error</Text>\n          <Text style={styles.statusMessage}>\n            {errorMessage || 'There was a problem processing your payment.'}\n          </Text>\n          <TouchableOpacity style={styles.retryButton} onPress={handleRetryPayment}>\n            <Text style={styles.buttonText}>Try Again</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.newOrderButton} onPress={handleStartNewOrder}>\n            <Text style={styles.buttonText}>Start New Order</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    \n    return null;\n  };\n\n  // --- Main Render ---\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Back Button */}\n      <TouchableOpacity \n          style={styles.floatingBackButton}\n          onPress={() => navigation.goBack()}\n        >\n          <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n        </TouchableOpacity>\n      \n      <ScrollableGradientWrapper>\n        <SafeAreaView style={styles.container}>\n          {/* Logo */}\n          <View style={styles.logoContainer}>\n            <Image \n              source={require('../assets/fluidpower_logo.gif')} \n              style={styles.logo} \n              resizeMode=\"contain\"\n            />\n          </View>\n          \n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\n            <ScrollView \n              contentContainerStyle={styles.scrollContent}\n              showsVerticalScrollIndicator={true}\n            >\n              {/* Payment details title \n              <View style={styles.pageTitle}>\n                <Text style={styles.pageTitleText}>Payment Details</Text>\n              </View>*/}\n              \n              <View style={styles.formContainer}>\n                {/* Shipping details */}\n                {renderShippingDetails()}\n                \n                {/* Price summary (simplified) \n                <View style={styles.sectionContainer}>\n                  <View style={styles.sectionHeader}>\n                    <Text style={styles.sectionTitle}>Price Summary</Text>\n                  </View>\n                  <View style={styles.detailsGrid}>\n                    <View style={styles.detailRow}>\n                      <Text style={styles.detailLabel}>Total Amount:</Text>\n                      <Text style={styles.detailValue}>A${finalTotal.toFixed(2)}</Text>\n                    </View>\n                  </View>\n                </View>*/}\n\n                {renderPriceBreakdown()}\n                \n                {/* Total amount */}\n                <View style={styles.totalContainer}>\n                  <Text style={styles.totalText}>\n                    {devModeActive ? 'Dev Mode Amount: ' : 'Total Amount: '}\n                    A${finalTotal.toFixed(2)}\n                  </Text>\n                </View>\n                \n                {/* PayPal payment */}\n                <View style={styles.paymentContainer}>\n                  {paymentStatus === 'idle' ? (\n                    <>\n                      <PayPalButtonWrapper \n                        amount={finalTotal}\n                        description={`FluidPower Order - Total A$${finalTotal.toFixed(2)}`}\n                        onApprove={handlePayPalApprove}\n                        onCancel={handlePayPalCancel}\n                        onError={handlePayPalError}\n                        disabled={paymentStatus === 'processing'}\n                      />\n                      <Text style={styles.paymentNote}>\n                        Secure payment processed by PayPal. You don't need a PayPal account to pay.\n                      </Text>\n                    </>\n                  ) : (\n                    renderStatusMessage()\n                  )}\n                </View>\n              </View>\n            </ScrollView>\n          </Animated.View>\n        </SafeAreaView>\n      </ScrollableGradientWrapper>\n      \n      {/* Processing overlay */}\n      {paymentStatus === 'processing' && (\n        <View style={styles.overlay}>\n          <ActivityIndicator size=\"large\" color=\"#4a4a4a\" />\n          <Text style={styles.overlayText}>Processing your payment...</Text>\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingBottom: 40,\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginTop: 15,\n    marginBottom: 20,\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  formContainer: {\n    width: '100%',\n    maxWidth: 400,\n    paddingHorizontal: 20,\n    paddingBottom: 30,\n  },\n  totalContainer: {\n    backgroundColor: '#ffc100',\n    borderRadius: 25,\n    padding: 15,\n    marginBottom: 20,\n    alignItems: 'center',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n  },\n  totalText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  paypalContainer: {\n    marginTop: 20,\n    alignItems: 'center',\n    width: '100%',\n  },\n  securePaymentText: {\n    marginTop: 10,\n    fontSize: 14,\n    color: '#666',\n    textAlign: 'center',\n  },\n  shippingDetailsContainer: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    padding: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  sectionTitleContainer: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 10,\n    padding: 8,\n    marginBottom: 15,\n    alignItems: 'center',\n  },\n  sectionTitleText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  detailsGrid: {\n    gap: 10,\n  },\n  detailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 5,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  detailLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    flex: 2,\n    textAlign: 'right',\n  },\n  priceBreakdownContainer: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    padding: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceDetailsGrid: {\n    gap: 10,\n  },\n  priceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  priceLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n  },\n  priceValue: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    fontWeight: 'bold',\n    textAlign: 'right',\n  },\n  loadingOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 999,\n  },\n  loadingText: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    fontWeight: 'bold',\n    marginTop: 15,\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  statusContainer: {\n    width: '100%',\n    padding: 20,\n    borderRadius: 15,\n    alignItems: 'center',\n    marginVertical: 15,\n    borderWidth: 2,\n  },\n  cancelledContainer: {\n    backgroundColor: '#f5f5f5',\n    borderColor: '#4a4a4a',\n  },\n  errorContainer: {\n    backgroundColor: '#f8d7da',\n    borderColor: '#f5c6cb',\n  },\n  statusTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#721c24',\n    marginBottom: 10,\n  },\n  statusMessage: {\n    fontSize: 16,\n    color: '#721c24',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  retryButton: {\n    backgroundColor: '#ffc100',\n    paddingVertical: 12,\n    paddingHorizontal: 30,\n    borderRadius: 25,\n    marginBottom: 15,\n    minWidth: 200,\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  retryButtonText: {\n    color: '#142C8E',\n    fontSize: 22,\n    fontWeight: 'bold',\n  },\n  newOrderButton: {\n    backgroundColor: '#e9ecef',\n    paddingVertical: 12,\n    paddingHorizontal: 30,\n    borderRadius: 25,\n    minWidth: 200,\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  newOrderButtonText: {\n    color: '#495057',\n    fontSize: 22,\n    fontWeight: 'bold',\n  }\n});\n\nexport default PaymentScreen;","// utils/emailService.js\n\nexport const sendOrderEmail = async (orderDetailsFromConfirmation) => { // Renamed param for clarity\n  \n  try {\n    // Use environment variable for API URL (ensure it's set correctly, e.g., http://localhost:3000)\n    // Make sure this evaluates correctly in your environment\n    const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || process.env.REACT_APP_API_URL || 'http://localhost:3000'; // Add fallbacks\n    const SERVER_KEY = process.env.NEXT_PUBLIC_SERVER_KEY || process.env.REACT_APP_SERVER_KEY; // Get server key\n\n    if (!API_BASE_URL) {\n        console.error(\"[emailService] API_BASE_URL is not defined.\");\n        throw new Error(\"API URL configuration error.\");\n    }\n     if (!SERVER_KEY) {\n        console.error(\"[emailService] SERVER_KEY is not defined.\");\n        throw new Error(\"Server key configuration error.\");\n    }\n\n    // --- Recalculate Price Breakdown using the correct function ---\n    // Ensure calculatePriceBreakdown is robust and uses nested params correctly\n    const priceBreakdown = calculatePriceBreakdown(orderDetailsFromConfirmation); // Use the function below\n\n    // --- Generate HTML Content ---\n    // Ensure these functions use the correct priceBreakdown object\n    const priceBreakdownHTML = generatePriceBreakdownHTML(priceBreakdown);\n    const businessEmailContent = generateBusinessEmailContent(orderDetailsFromConfirmation, priceBreakdownHTML);\n    const customerEmailContent = generateCustomerEmailContent(orderDetailsFromConfirmation, priceBreakdownHTML);\n\n    // --- Prepare PDF Attachment ---\n    let pdfBase64 = null; // Rename for clarity\n    if (orderDetailsFromConfirmation.pdfAttachment) {\n      try {\n         // Assuming pdfAttachment is already a base64 string or ArrayBuffer/Buffer from PDFGenerator\n         if (typeof orderDetailsFromConfirmation.pdfAttachment === 'string') {\n             pdfBase64 = orderDetailsFromConfirmation.pdfAttachment; // Already base64\n         } else if (orderDetailsFromConfirmation.pdfAttachment instanceof ArrayBuffer || Buffer.isBuffer(orderDetailsFromConfirmation.pdfAttachment)) {\n             // Convert ArrayBuffer/Buffer to base64\n             const buffer = Buffer.from(orderDetailsFromConfirmation.pdfAttachment);\n             pdfBase64 = buffer.toString('base64');\n         } else {\n             console.warn(\"[emailService] pdfAttachment is in an unexpected format:\", typeof orderDetailsFromConfirmation.pdfAttachment);\n             // Handle other types if necessary, or default to null\n         }\n      } catch (pdfError) {\n          console.error(\"[emailService] Error processing pdfAttachment:\", pdfError);\n          // pdfBase64 remains null\n      }\n    }\n\n    // --- *** CORRECTLY Construct the payload for the backend *** ---\n    const payloadToSend = {\n      // Explicitly include fields expected by /api/send-email\n      orderNumber: orderDetailsFromConfirmation.orderNumber || 'Unknown', // Get from top level\n      userDetails: orderDetailsFromConfirmation.userDetails || {}, // Get from top level\n      pdfAttachment: pdfBase64, // Use the processed base64 string\n      emailTemplates: { // Pass the generated HTML content\n        businessEmailContent: businessEmailContent,\n        customerEmailContent: customerEmailContent\n      },\n      // Include userEmail as a fallback if needed by backend validation\n      userEmail: orderDetailsFromConfirmation.userDetails?.email // Can add fallback if needed\n    };\n\n    // --- Send to server ---\n    const response = await fetch(`${API_BASE_URL}/api/send-email`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        // Use the correct server key environment variable\n        'x-server-key': SERVER_KEY,\n      },\n      body: JSON.stringify(payloadToSend) // Send the correctly structured payload\n    });\n\n    // Use .text() first to see raw response if JSON parsing fails\n    const responseText = await response.text();\n\n    if (!response.ok) {\n      // Try parsing as JSON for error message, otherwise use text\n      let errorMsg = `Failed to send email (${response.status})`;\n      try {\n          const errorData = JSON.parse(responseText);\n          errorMsg = errorData.error || errorMsg;\n      } catch (parseError) {\n          // Ignore if response wasn't JSON\n      }\n      throw new Error(errorMsg);\n    }\n\n    // Try parsing successful response as JSON\n     let data = { success: true }; // Assume success if response.ok\n     try {\n         data = JSON.parse(responseText);\n     } catch(parseError) {\n         console.warn(\"[emailService] Backend response was OK but not valid JSON:\", responseText);\n     }\n    return { success: true, data: data }; // Return success\n\n  } catch (error) {\n    console.error('[emailService] Error in sendOrderEmail:', error.message);\n    return { success: false, error: error.message }; // Return failure\n  }\n};\n\n// --- Helper Function: Calculate Price Breakdown ---\n// Ensure this function correctly accesses nested params from the input object\nconst calculatePriceBreakdown = (details) => {\n    // Default values\n    let prices = { subtotal: 0, shipping: 0, gst: 0, total: 0 };\n\n    try {\n        // Check if the necessary nested structure exists\n        if (!details || !details.originalOrderParams) {\n            console.warn(\"[emailService > calculatePriceBreakdown] originalOrderParams missing in details:\", details);\n            return prices; // Return zeroed object\n        }\n        const params = details.originalOrderParams;\n        const fittingMode = details.isOrderFittingMode ?? params.isOrderFittingMode ?? false;\n\n        if (fittingMode) {\n            const subtotal = parseFloat(params.cutLengthPrice) || 0;\n            const shipping = 12.85; // Fixed shipping for Fitting Mode? Check this logic\n            const subtotalWithShipping = subtotal + shipping;\n            const gst = subtotalWithShipping * 0.1;\n            const total = subtotalWithShipping + gst;\n            prices = { subtotal, shipping, gst, total };\n        } else { // Hose or Normal Mode\n            const end1Cost = parseFloat(params.end1Price) || 0;\n            const end2Cost = parseFloat(params.end2Price) || 0;\n            let calculatedCutLengthPrice = 0;\n            if (params.cutLengths && params.cutLengths.length > 0) {\n                 const totalLength = params.cutLengths.reduce((total, cut) => {\n                     if (!cut || !cut.length) return total;\n                     return total + (parseFloat(cut.length) / 1000);\n                 }, 0);\n                 const hosePriceStr = typeof params.selectedHosePrice === 'string' ? params.selectedHosePrice : '0';\n                 const hosePricePerMeter = parseFloat(hosePriceStr.replace(/\\s+/g, '').split('/')[0] || 0);\n                 calculatedCutLengthPrice = totalLength * hosePricePerMeter;\n            }\n            const protectionCostValue = params.selectedProtection === 'NOT REQUIRED' ? 0 : (parseFloat(params.protectionCost) || 0);\n            const pressureTestCostValue = params.selectedPressure === 'Not Required' ? 0 : (parseFloat(params.pressureTestPrice) || 0);\n            const subtotal = end1Cost + end2Cost + calculatedCutLengthPrice + protectionCostValue + pressureTestCostValue;\n            const shipping = parseFloat(params.shippingCost) ?? (params.devModeActive ? 0 : 12.85);\n            const subtotalWithShipping = subtotal + shipping;\n            const gst = subtotalWithShipping * 0.1;\n            const total = subtotalWithShipping + gst;\n            prices = { subtotal, shipping, gst, total };\n        }\n    } catch (calcError) {\n         console.error(\"[emailService > calculatePriceBreakdown] Error during calculation:\", calcError);\n         // Return default zeroed prices on error\n    }\n    return prices;\n};\n\nconst formatPrice = (amount) => `A$${amount.toFixed(2)}`;\n\nconst generatePriceBreakdownHTML = (priceBreakdown) => `\n  <h3>Price Breakdown:</h3>\n  <table style=\"width: 100%; max-width: 400px; margin: 10px 0;\">\n    <tr>\n      <td><strong>Subtotal:</strong></td>\n      <td style=\"text-align: right\">${formatPrice(priceBreakdown.subtotal)}</td>\n    </tr>\n    <tr>\n      <td><strong>Shipping:</strong></td>\n      <td style=\"text-align: right\">${formatPrice(priceBreakdown.shipping)}</td>\n    </tr>\n    <tr>\n      <td><strong>GST (10%):</strong></td>\n      <td style=\"text-align: right\">${formatPrice(priceBreakdown.gst)}</td>\n    </tr>\n    <tr style=\"border-top: 1px solid #ccc;\">\n      <td><strong>Total Amount:</strong></td>\n      <td style=\"text-align: right\"><strong>${formatPrice(priceBreakdown.total)}</strong></td>\n    </tr>\n  </table>\n`;\n\nconst generateBusinessEmailContent = (orderDetails, priceBreakdownHTML) => `\n  <h2>New Order Received</h2>\n  <p>A new order has been placed with the following details:</p>\n  <p><strong>Order Number:</strong> ${orderDetails.orderNumber || 'Unknown'}</p>\n  ${priceBreakdownHTML}\n  <p><strong>Customer Details:</strong></p>\n  <ul>\n    <li><strong>Name:</strong> ${orderDetails.userDetails?.name || 'N/A'}</li>\n    <li><strong>Email:</strong> ${orderDetails.userDetails?.email || 'N/A'}</li>\n    <li><strong>Contact:</strong> ${orderDetails.userDetails?.contactNumber || 'N/A'}</li>\n  </ul>\n  <p><strong>Shipping Address:</strong></p>\n  <p>\n    ${orderDetails.userDetails?.address || 'N/A'}<br>\n    ${orderDetails.userDetails?.suburb || ''} ${orderDetails.userDetails?.state || ''} ${orderDetails.userDetails?.postcode || ''}\n  </p>\n`;\n\nconst generateCustomerEmailContent = (orderDetails, priceBreakdownHTML) => `\n  <h2>Thank You for Your Order!</h2>\n  <p>Hi ${orderDetails.userDetails?.name || 'Valued Customer'},</p>\n  <p>Thank you for choosing FluidPower Group. We're pleased to confirm that your order has been received and is being processed.</p>\n  \n  <h3>Order Details:</h3>\n  <p><strong>Order Number:</strong> ${orderDetails.orderNumber || 'Unknown'}</p>\n  ${priceBreakdownHTML}\n  \n  <h3>Shipping Details:</h3>\n  <p>\n    ${orderDetails.userDetails?.address || 'N/A'}<br>\n    ${orderDetails.userDetails?.suburb || ''} ${orderDetails.userDetails?.state || ''} ${orderDetails.userDetails?.postcode || ''}\n  </p>\n  \n  <p>We've attached a copy of your order confirmation for your records.</p>\n  \n  <p>If you have any questions about your order, please don't hesitate to contact us:</p>\n  <ul>\n    <li>Phone: 0409 517 333</li>\n    <li>Email: info@fluidpowergroup.com.au</li>\n  </ul>\n  \n  <p>We appreciate you doing business with us!</p>\n  \n  <p>Best regards,<br>\n  FluidPower Group Team</p>\n`;","import React, { useEffect, useState, useRef, useCallback } from 'react';\nimport { \n  View, \n  Text,\n  Image, \n  StyleSheet, \n  SafeAreaView, \n  ScrollView, \n  TouchableOpacity, \n  BackHandler,\n  Dimensions,\n  Animated,\n  Platform,\n  Linking\n} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport PDFGenerator from '../components/PDFGenerator';\nimport { sendOrderEmail } from '../utils/emailService';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\n\n// Helper Components\nconst LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nconst BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nconst OrderConfirmationScreen = ({ route }) => {\n\n  const navigation = useNavigation();\n  const { success, orderDetails, error } = route.params;\n  const fadeAnim = React.useRef(new Animated.Value(1)).current;\n  const contentRef = useRef(null);\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\n  const orderId = orderDetails?.orderNumber || 'Unknown';\n  const [emailSent, setEmailSent] = useState(false);\n  const [selectedButton, setSelectedButton] = useState(null);\n\n  const {\n    userDetails,\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    paymentId,\n    orderNumber,\n    amount\n  } = orderDetails || {};\n\n    // --- MODIFIED calculatePriceBreakdown function ---\n    const calculatePriceBreakdown = (details) => {\n      // Check if the necessary nested structure exists\n      if (!details || !details.originalOrderParams) {\n          console.error(\"Calculation Error: originalOrderParams missing in details:\", details);\n          return { subtotal: 0, shipping: 0, subtotalWithShipping: 0, gst: 0, total: 0 }; // Return zeroed object\n      }\n  \n      // Access data from the nested originalOrderParams object\n      const params = details.originalOrderParams;\n  \n      // Use the isOrderFittingMode flag from the top level 'details' if passed directly,\n      // otherwise check inside originalOrderParams if it exists there\n      const fittingMode = details.isOrderFittingMode ?? params.isOrderFittingMode ?? false;\n  \n      if (fittingMode) {\n        // Use cutLengthPrice from original params if available\n        const subtotal = params.cutLengthPrice || 0;\n        const shipping = 12.85;\n        const subtotalWithShipping = subtotal + shipping;\n        const gst = subtotalWithShipping * 0.1;\n        const total = subtotalWithShipping + gst;\n        return { subtotal, shipping, subtotalWithShipping, gst, total };\n      } else {\n        // Calculate subtotal based on component prices within params\n        const end1Cost = typeof params.end1Price === 'number' ? params.end1Price : parseFloat(params.end1Price) || 0;\n        const end2Cost = typeof params.end2Price === 'number' ? params.end2Price : parseFloat(params.end2Price) || 0;\n  \n        let calculatedCutLengthPrice = 0; // Rename to avoid confusion with param\n        if (params.cutLengths && params.cutLengths.length > 0) {\n          const totalLength = params.cutLengths.reduce((total, cut) => {\n            if (!cut || !cut.length) return total; // Add check for cut object\n            return total + (parseFloat(cut.length) / 1000);\n          }, 0);\n          // Ensure selectedHosePrice is a string before replacing/splitting\n          const hosePriceStr = typeof params.selectedHosePrice === 'string' ? params.selectedHosePrice : '0';\n          const hosePricePerMeter = parseFloat(hosePriceStr.replace(/\\s+/g, '').split('/')[0] || 0);\n          calculatedCutLengthPrice = totalLength * hosePricePerMeter;\n        }\n  \n        const protectionCostValue = params.selectedProtection === 'NOT REQUIRED' ? 0 : (parseFloat(params.protectionCost) || 0);\n        const pressureTestCostValue = params.selectedPressure === 'Not Required' ? 0 : (parseFloat(params.pressureTestPrice) || 0);\n  \n        const subtotal = end1Cost + end2Cost + calculatedCutLengthPrice + protectionCostValue + pressureTestCostValue;\n  \n        // Use shippingCost from original params if available\n        const shipping = params.shippingCost ?? (params.devModeActive ? 0 : 12.85); // Use ?? for nullish coalescing\n  \n        const subtotalWithShipping = subtotal + shipping;\n        const gst = subtotalWithShipping * 0.1;\n        const total = subtotalWithShipping + gst;\n  \n        return { subtotal, shipping, subtotalWithShipping, gst, total };\n      }\n    };\n\n  // Calculate price breakdown once for the component\n  const [priceBreakdown, setPriceBreakdown] = useState({\n    subtotal: 0,\n    shipping: 0,\n    subtotalWithShipping: 0,\n    gst: 0,\n    total: 0\n  });\n  \n  // Add this useEffect to calculate price breakdown when orderDetails is available\n  useEffect(() => {\n    if (orderDetails && Object.keys(orderDetails).length > 0) {\n      const calculatedBreakdown = calculatePriceBreakdown(orderDetails);\n      setPriceBreakdown(calculatedBreakdown);\n    }\n  }, [orderDetails]);\n\n  useEffect(() => {\n    // Check if we're missing orderDetails from route params but are on web\n    if (Platform.OS === 'web' && (!orderDetails || Object.keys(orderDetails).length === 0)) {\n      // Try to get the order details from sessionStorage\n      try {\n        const storedOrderData = sessionStorage.getItem('pendingOrderData');\n        if (storedOrderData) {\n          const parsedOrderData = JSON.parse(storedOrderData);\n          // Update the route params\n          navigation.setParams({\n            orderDetails: parsedOrderData,\n            // If success isn't defined in the route, determine it from the URL\n            success: success !== undefined ? success : window.location.search.includes('success=true')\n          });\n          // Clear the stored data after using it\n          sessionStorage.removeItem('pendingOrderData');\n        }\n      } catch (error) {\n        console.error('Failed to retrieve order data from sessionStorage:', error);\n      }\n    }\n  }, [orderDetails, navigation, success]);\n\n  useEffect(() => {\n    const backHandler = BackHandler.addEventListener('hardwareBackPress', () => {\n      handlePlaceAnotherOrder();\n      return true;\n    });\n    return () => backHandler.remove();\n  }, [navigation]);\n\n  const handlePlaceAnotherOrder = () => {\n    navigation.reset({\n      index: 0,\n      routes: [{ name: 'Welcome' }],\n    });\n  };\n\n  // Auto-generate PDF when screen loads\n  useEffect(() => {\n    const autoGeneratePDF = async () => {\n      if (success && contentRef.current && !emailSent) {\n        // Wait a brief moment for content to render\n        setTimeout(async () => {\n          await generatePDF({ silent: true }); // Generate PDF without triggering download\n        }, 1000);\n      }\n    };\n\n    autoGeneratePDF();\n  }, [success, emailSent]);\n\n  const { generatePDF } = PDFGenerator({\n    contentRef,\n    orderId: orderDetails?.orderNumber || 'Unknown-Order', // Use FPG number for filename\n\n    onGenerateStart: () => {\n      setIsGeneratingPDF(true);\n    },\n\n    // *** MODIFIED onGenerateComplete Callback ***\n    onGenerateComplete: async (pdfBuffer) => {\n      const modePrefix = isOrderFittingMode ? '[Fitting Mode DEBUG]' : (orderDetails?.originalOrderParams?.cutLengths ? '[Hose/Normal DEBUG]' : '[Unknown Mode DEBUG]'); // Dynamic prefix for logs\n      setIsGeneratingPDF(false); // Set state regardless of outcome below\n\n      if (pdfBuffer && !emailSent && success) {\n          try {\n              // --- Prepare the data object to pass to emailService ---\n              // We pass the original 'orderDetails' object received by this screen,\n              // and simply add the generated PDF buffer to it.\n              // emailService will handle calculations and extraction from this structure.\n              const dataToSendToEmailService = {\n                   ...orderDetails, // Pass the original, nested structure\n                   pdfAttachment: pdfBuffer // Add the generated PDF (might be ArrayBuffer/Buffer)\n              };\n              // --- No need to calculate prices or flatten data here ---\n\n              // Call the email service utility function with the prepared data\n              const emailResult = await sendOrderEmail(dataToSendToEmailService);\n              \n              // Check the result from sendOrderEmail\n              if (emailResult && emailResult.success) {\n                  setEmailSent(true); // Mark as sent only on success from emailService\n          \n              } else {\n                   // Log the error returned by emailService\n                   console.error(`${modePrefix} sendOrderEmail reported failure:`, emailResult?.error || 'Unknown error');\n                   // Optionally alert the user that email sending failed\n                   // Alert.alert(\"Email Failed\", \"Could not send confirmation email. Please contact support if needed.\");\n              }\n\n          } catch (error) {\n              // Catch any unexpected errors during the process\n              console.error(`${modePrefix} CRITICAL ERROR in onGenerateComplete try block:`, error);\n              console.error(`${modePrefix} Error Stack:`, error.stack);\n              // Optionally alert the user\n              // Alert.alert(\"Error\", \"An unexpected error occurred while sending the confirmation email.\");\n          }\n      } else {\n      }\n    }, // End of onGenerateComplete\n\n    onError: (error) => {\n      // Log errors specifically from the PDF generation process\n      const modePrefix = isOrderFittingMode ? '[Fitting Mode DEBUG]' : (orderDetails?.originalOrderParams?.cutLengths ? '[Hose/Normal DEBUG]' : '[Unknown Mode DEBUG]');\n      console.error(`${modePrefix} PDF generation failed (onError callback):`, error);\n      setIsGeneratingPDF(false);\n       // Optionally alert the user\n      // Alert.alert(\"PDF Error\", \"Could not generate the order confirmation PDF.\");\n    }\n}); // End of PDFGenerator hook call\n\n// --- Define handlePDFDownload function AFTER the hook call ---\nconst handlePDFDownload = async () => {\n    if (isGeneratingPDF) return;\n    // Call generatePDF with 'silent: false' (or default) to trigger download/view\n    await generatePDF();\n};\n\n  const renderShippingDetails = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Shipping Details</Text>\n      </View>\n      \n      <View style={styles.detailsGrid}>\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Name:</Text>\n          <Text style={styles.detailValue}>{userDetails?.name}</Text>\n        </View>\n        \n        {userDetails?.companyName && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Company:</Text>\n            <Text style={styles.detailValue}>{userDetails.companyName}</Text>\n          </View>\n        )}\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Address:</Text>\n          <Text style={styles.detailValue}>{userDetails?.address}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Suburb:</Text>\n          <Text style={styles.detailValue}>{userDetails?.suburb}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>State:</Text>\n          <Text style={styles.detailValue}>{userDetails?.state}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Postcode:</Text>\n          <Text style={styles.detailValue}>{userDetails?.postcode}</Text>\n        </View>\n\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Email:</Text>\n          <Text style={styles.detailValue}>{userDetails?.email}</Text>\n        </View>\n        \n        {userDetails?.contactNumber && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Contact:</Text>\n            <Text style={styles.detailValue}>{userDetails.contactNumber}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n   // --- MODIFIED renderOrderSummary function ---\n   const renderOrderSummary = () => {\n    // Ensure orderDetails and originalOrderParams exist before rendering\n    if (!orderDetails || !orderDetails.originalOrderParams) {\n      return <Text>Loading order details...</Text>; // Or some placeholder\n    }\n    const params = orderDetails.originalOrderParams; // Use params for brevity\n\n    return (\n       <View style={styles.detailsBox}>\n         <View style={styles.boxHeader}>\n           <Text style={styles.boxHeaderText}>Order Summary</Text>\n         </View>\n         <View style={styles.orderDetailsContainer}>\n           {/* Display your internal order number */}\n           {orderDetails.orderNumber && (\n             <View style={styles.rowContainer}>\n               <LabelItem>ORDER NUMBER</LabelItem>\n               <BorderedItem>{orderDetails.orderNumber}</BorderedItem>\n             </View>\n           )}\n            {/* Optionally display PayPal's Order ID */}\n            {orderDetails.orderID && (\n             <View style={styles.rowContainer}>\n               <LabelItem>PAYPAL ORDER ID</LabelItem>\n               <BorderedItem>{orderDetails.orderID}</BorderedItem>\n             </View>\n           )}\n\n           {/* Display PayPal Payer ID */}\n           {orderDetails.paypalCaptureID && (\n             <View style={styles.rowContainer}>\n               <LabelItem>PAYPAL PAYMENT ID</LabelItem>\n               <BorderedItem>{orderDetails.paypalCaptureID}</BorderedItem>\n             </View>\n           )}\n\n           {/* Access item details from params */}\n           {params.selectedHose && (\n             <View style={styles.rowContainer}>\n               <LabelItem>HOSE SIZE</LabelItem>\n               <BorderedItem>\n                 {typeof params.selectedHose === 'object' && params.selectedHose.size ? params.selectedHose.size : params.selectedHose}\n               </BorderedItem>\n             </View>\n           )}\n            {params.quantity && (\n             <View style={styles.rowContainer}>\n               <LabelItem>QUANTITY</LabelItem>\n               <BorderedItem>{params.quantity}</BorderedItem>\n             </View>\n           )}\n            {params.end1Shape && params.end1Size && (\n             <View style={styles.rowContainer}>\n               <LabelItem>END1</LabelItem>\n               <BorderedItem price={params.end1Price}>\n                 {`${params.end1Shape} - ${params.end1Size}`}\n               </BorderedItem>\n             </View>\n           )}\n            {params.end2Shape && params.end2Size && (\n             <View style={styles.rowContainer}>\n               <LabelItem>END2</LabelItem>\n               <BorderedItem price={params.end2Price}>\n                 {`${params.end2Shape} - ${params.end2Size}`}\n               </BorderedItem>\n             </View>\n           )}\n            {params.selectedAngle && (\n             <View style={styles.rowContainer}>\n               <LabelItem>ANGLE</LabelItem>\n               <BorderedItem>{params.selectedAngle}</BorderedItem>\n             </View>\n           )}\n            {params.cutLengths && params.cutLengths.length > 0 && (\n              <View style={styles.rowContainer}>\n                <LabelItem>CUT LENGTHS</LabelItem>\n                <BorderedItem\n                  // Recalculate cut length price *for display* based on params\n                  price={params.cutLengths.reduce((total, cut) => {\n                    if (!cut || !cut.length) return total;\n                    const lengthInMeters = parseFloat(cut.length) / 1000;\n                    const hosePriceStr = typeof params.selectedHosePrice === 'string' ? params.selectedHosePrice : '0';\n                    const basePrice = parseFloat(hosePriceStr.replace(/\\s+/g, '').split('/')[0] || 0);\n                    return total + (lengthInMeters * basePrice);\n                  }, 0).toFixed(2)}\n                  isCutLengths={true}\n                  >\n                    <View style={styles.cutLengthsContentWrapper}>\n                      {params.cutLengths.map((cut, i) => (\n                        <View key={i} style={styles.cutLengthRow}>\n                          <View style={styles.numberedCircle}>\n                            <Text style={styles.numberedCircleText}>{i + 1}</Text>\n                          </View>\n                          <Text style={styles.cutLengthText}>\n                            {`${cut.length} ${cut.unit || 'mm'}`}\n                          </Text>\n                        </View>\n                      ))}\n                    </View>\n                  </BorderedItem>\n                </View>\n              )}\n            {params.selectedProtection && (\n              <View style={styles.rowContainer}>\n                 <LabelItem>PROTECTION</LabelItem>\n                 <BorderedItem price={params.selectedProtection === 'NOT REQUIRED' ? 'NOT REQUIRED' : params.protectionCost}>\n                    {params.selectedProtection}\n                 </BorderedItem>\n              </View>\n            )}\n            {params.selectedPressure && (\n              <View style={styles.rowContainer}>\n                <LabelItem>PRESSURE TEST</LabelItem>\n                 <BorderedItem price={params.selectedPressure === 'Not Required' ? 'NOT REQUIRED' : params.pressureTestPrice}>\n                   {params.selectedPressure}\n                 </BorderedItem>\n               </View>\n            )}\n           {/* Use calculated priceBreakdown state for final totals */}\n            <View style={styles.rowContainer}>\n               <LabelItem>SUBTOTAL</LabelItem>\n               <BorderedItem price={priceBreakdown.subtotal}>Items Total</BorderedItem>\n            </View>\n            <View style={styles.rowContainer}>\n               <LabelItem>SHIPPING COST</LabelItem>\n               <BorderedItem price={priceBreakdown.shipping === 0 ? 'FREE' : priceBreakdown.shipping}>\n                  {/* Display service name from params if needed */}\n                  {params.selectedService || 'Standard Shipping'}\n               </BorderedItem>\n            </View>\n            <View style={styles.rowContainer}>\n               <LabelItem>SUBTOTAL WITH SHIPPING</LabelItem>\n               <BorderedItem price={priceBreakdown.subtotalWithShipping}></BorderedItem>\n            </View>\n            <View style={styles.rowContainer}>\n               <LabelItem>GST (10%)</LabelItem>\n               <BorderedItem price={priceBreakdown.gst}></BorderedItem>\n            </View>\n            <View style={styles.totalContainer}>\n               <Text style={styles.totalLabel}>Total Amount (Inc. GST)</Text>\n               <Text style={styles.totalValue}>A${priceBreakdown.total.toFixed(2)}</Text>\n            </View>\n         </View>\n       </View>\n     );\n  };\n\n  if (!success) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.logoContainer}>\n          <Image\n            source={require('../assets/fluidpower_logo.gif')}\n            style={styles.logo}\n            resizeMode=\"contain\"\n          />\n        </View>\n        \n        <View style={styles.errorContainer}>\n          <View style={styles.titleWrapper}>\n            <Text style={styles.titleText}> Payment Failed</Text>\n          </View>\n          <Text style={[styles.errorText, { marginTop: 20 }]}>\n            {error || 'Payment processing failed. Please try again.'}\n          </Text>\n          \n          <View style={styles.buttonContainer}>\n            <TouchableOpacity \n              style={[\n                styles.actionButton,\n                { backgroundColor: selectedButton === 'tryAgain' ? '#ffc100' : 'transparent' }\n              ]}\n              onPress={() => {\n                setSelectedButton('tryAgain');\n                setTimeout(() => {\n                  // Navigate to Payment screen with all the necessary values\n                  navigation.navigate('Payment', {\n                    selectedHose,\n                    selectedHosePrice,\n                    selectedFitting,\n                    end1Shape,\n                    end1Size,\n                    end1Price,\n                    selectedEnd2Fitting,\n                    end2Shape,\n                    end2Size,\n                    end2Price,\n                    selectedAngle,\n                    quantity,\n                    cutLengths,\n                    cutLengthPrice,\n                    isOrderFittingMode,\n                    selectedProtection,\n                    hoseProtectionPrice,\n                    selectedPressure,\n                    pressureTestPrice,\n                    selectedMethod,\n                    selectedService,\n                    shippingCost,\n                    totalBeforeShipping,\n                    totalPriceWithShipping,\n                    protectionCost,\n                    shippingDetails: orderDetails.userDetails // Pass the shipping details\n                  });\n                }, 100);\n              }}\n              activeOpacity={0.8}\n            >\n              <Text style={styles.buttonText}>Try Again</Text>\n            </TouchableOpacity>\n  \n            <TouchableOpacity \n              style={[\n                styles.actionButton,\n                { backgroundColor: selectedButton === 'newOrder' ? '#ffc100' : 'transparent' }\n              ]}\n              onPress={() => {\n                setSelectedButton('newOrder');\n                setTimeout(handlePlaceAnotherOrder, 100);\n              }}\n              activeOpacity={0.8}\n            >\n              <Text style={styles.buttonText}>Place New Order</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  const handlePhonePress = () => {\n    Linking.openURL('tel:+61409517333');\n  };\n  \n  const handleEmailPress = () => {\n    Linking.openURL('mailto:info@fluidpowergroup.com.au');\n  };\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Buttons */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={handlePlaceAnotherOrder}\n      >\n        <Text style={styles.backButtonText}>Place New Order</Text>\n      </TouchableOpacity>\n  \n      <TouchableOpacity \n        style={[\n          styles.floatingDownloadButton,\n          isGeneratingPDF && styles.disabledButton\n        ]}\n        onPress={handlePDFDownload}\n        disabled={isGeneratingPDF}\n      >\n        <Text style={styles.backButtonText}>\n          {isGeneratingPDF ? 'Generating PDF...' : 'Download PDF'}\n        </Text>\n      </TouchableOpacity>\n  \n      <ScrollableGradientWrapper>\n        {Platform.OS === 'web' ? (\n          <>\n            {/* Screen View - This won't be included in PDF */}\n            <SafeAreaView style={styles.container}>\n              <View style={styles.logoContainer}>\n                <Image\n                  source={require('../assets/fluidpower_logo.gif')}\n                  style={styles.logo}\n                  resizeMode=\"contain\"\n                />\n              </View>\n  \n              <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\n                <View style={styles.titleContainer}>\n                  <View style={styles.titleWrapper}>\n                    <Text style={styles.titleText}>\n                      {success ? ' Payment Successful!' : ' Payment Failed'}\n                    </Text>\n                  </View>\n                </View>\n  \n                <Text style={styles.successTitle}>Thank You for Your Order!</Text>\n                <Text style={styles.emailTitle}>Don't forget to check Junk/Spam folder for Confirmation email</Text>\n                <Text style={styles.emailTitle2}>Confirmation emails are sent from{' '}\n                  <Text style={styles.highlightedEmail}>orders@fluidpowergroup.com.au</Text>\n                </Text>\n  \n                <ScrollView \n                  style={styles.mainScrollView}\n                  contentContainerStyle={styles.mainScrollViewContent}\n                  showsVerticalScrollIndicator={true}\n                >\n                  {success ? (\n                    <>\n                      {renderOrderSummary()}\n                      {renderShippingDetails()}\n                    </>\n                  ) : (\n                    <View style={styles.errorContainer}>\n                      {/* Error content */}\n                    </View>\n                  )}\n                </ScrollView>\n\n                {/* Add this View container here */}\n                <View style={styles.copyrightContainer}>\n                  <Text style={styles.enquiryText}>\n                    For any and all enquiries:\n                  </Text>\n                  \n                  <TouchableOpacity \n                    onPress={handlePhonePress}\n                    style={styles.touchableArea}\n                  >\n                    <Text style={styles.contactText}>\n                      +61 409 517 333\n                    </Text>\n                  </TouchableOpacity>\n                  \n                  <TouchableOpacity \n                    onPress={handleEmailPress}\n                    style={styles.touchableArea}\n                  >\n                    <Text style={styles.contactText}>\n                      email: info@fluidpowergroup.com.au\n                    </Text>\n                  </TouchableOpacity>\n\n                  <Text style={styles.copyrightText}>\n                    FluidPower Group All Rights Reserved {new Date().getFullYear()}\n                  </Text>\n                </View>\n              </Animated.View>\n            </SafeAreaView>\n  \n            {/* PDF View - This div and its contents will be used for PDF generation */}\n            <div \n                ref={contentRef} \n                style={{ \n                  position: 'absolute',\n                  left: '-9999px',\n                  top: 0,\n                  width: '800px',  // Fixed width for PDF generation\n                  backgroundColor: 'white'\n                }}\n              >\n                <SafeAreaView style={[styles.container, { width: '100%' }]}>\n                  <View style={[styles.logoContainer, { width: '100%', height: 'auto' }]}>\n                    <img\n                      src={require('../assets/fluidpower_logo.gif')}\n                      style={{\n                        width: '400px',\n                        height: '200px',\n                        objectFit: 'contain'\n                      }}\n                      alt=\"FluidPower Logo\"\n                    />\n                  </View>\n\n                  <View style={styles.contentContainer}>\n                    <ScrollView \n                      style={styles.mainScrollView}\n                      contentContainerStyle={styles.mainScrollViewContent}\n                    >\n                      {success && (\n                        <>\n                          {renderOrderSummary()}\n                          {renderShippingDetails()}\n                        </>\n                      )}\n                    </ScrollView>\n                  </View>\n\n                  <View style={styles.copyrightContainer}>\n                    <Text style={styles.enquiryText}>\n                      For any and all enquiries:\n                    </Text>\n                    \n                    <TouchableOpacity \n                      onPress={handlePhonePress}\n                      style={styles.touchableArea}\n                    >\n                      <Text style={styles.contactText}>\n                        +61 409 517 333\n                      </Text>\n                    </TouchableOpacity>\n                    \n                    <TouchableOpacity \n                      onPress={handleEmailPress}\n                      style={styles.touchableArea}\n                    >\n                      <Text style={styles.contactText}>\n                        email: info@fluidpowergroup.com.au\n                      </Text>\n                    </TouchableOpacity>\n\n                    <Text style={styles.copyrightText}>\n                      FluidPower Group All Rights Reserved {new Date().getFullYear()}\n                    </Text>\n                  </View>\n                </SafeAreaView>\n              </div>\n          </>\n        ) : (\n          <ViewShot\n            ref={contentRef}\n            options={{\n              format: 'jpg',\n              quality: 0.9,\n            }}\n          >\n            <SafeAreaView style={styles.container}>\n              {/* Your existing content for non-web platforms */}\n            </SafeAreaView>\n          </ViewShot>\n        )}\n      </ScrollableGradientWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  mainScrollView: {\n    flex: 1,\n  },\n  mainScrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: 20,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: 400,\n    height: 200,\n    resizeMode: 'contain',\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  successTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  emailTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  emailTitle2: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  highlightedEmail: {\n    color: '#ffc100',\n    fontWeight: 'bold',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n    maxWidth: 600,\n    width: '100%',\n    alignSelf: 'center',\n  },\n  boxHeader: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n  },\n  boxHeaderText: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  detailsGrid: {\n    padding: 15,\n    gap: 10,\n  },\n  detailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 5,\n  },\n  detailLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    flex: 2,\n    textAlign: 'right',\n  },\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  alignSelf: 'center'\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n    width: '100%',\n    maxWidth: 600,\n  },\n  orderDetailsContainer: {\n    padding: 15,\n  },\n  totalContainer: {\n    backgroundColor: '#ffc100',\n    padding: 15,\n    alignItems: 'center',\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n  },\n  totalLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  totalValue: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  cutLengthsLayout: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  cutLengthsContainer: {\n    flex: 1,\n  },\n  cutLengthsContent: {\n    flex: 1,\n  },\n  cutLengthsContentWrapper: {\n    flex: 1,\n  },\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 5,\n    paddingRight: 10, \n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: '#4a4a4a',\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 8,\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  priceContainer: {\n    justifyContent: 'center', // Centers the price container vertically\n    alignItems: 'flex-end', // Keeps the price aligned to the right\n  },\n  buttonContainer: {\n    width: '100%',\n    gap: 10,\n    marginTop: 20,\n    paddingHorizontal: 20,\n    maxWidth: 400,\n  },\n  actionButton: {\n    marginTop: 10,\n    marginBottom: 10,\n    paddingVertical: 12,\n    paddingHorizontal: 20,\n    borderRadius: 25,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    alignItems: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center',\n    minWidth: 200,\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  buttonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    padding: 20,\n    marginTop: 40,\n    width: '100%',\n  },\n  errorText: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n    maxWidth: 300,\n  },\n  bulletPoints: {\n    alignSelf: 'stretch',\n    marginBottom: 20,\n  },\n  bulletPoint: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  tryAgainButton: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n    minWidth: 200,\n  },\n  tryAgainText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  copyrightContainer: {\n    paddingBottom: Platform.OS === 'web' ? 80 : 20, // Increased padding only for web\n    paddingTop: 10,\n    alignItems: 'center',\n    marginTop: 'auto', // This helps push it to the bottom\n},\n  copyrightText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    fontStyle: 'italic',\n    opacity: 0.8,\n    marginTop: 20,\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingDownloadButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    right: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  disabledButton: {\n    opacity: 0.6,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    padding: 20,\n    marginTop: 10, // Change from 40 to 10 to move everything up\n    width: '100%',\n  },\n  errorText: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n    maxWidth: 300\n  },\n  tryAgainButton: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n    minWidth: 200,\n    marginBottom: 20,\n  },\n  tryAgainText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  touchableArea: {\n    padding: 8,\n    marginVertical: 2,\n    width: '100%',\n    alignItems: 'center',\n  },\n  enquiryText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 12,\n  },\n  contactText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginTop: 8,\n    textDecorationLine: 'underline',\n    paddingVertical: 5,\n  },\n});\n\nexport default OrderConfirmationScreen;","// screens/TrialScreen2.js\nimport React from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport PDFGenerator from '../components/PDFGenerator';\n\nconst TrialScreen2 = () => {\n  const testContent = `\n    Hydraulic Hose Builder\n    \n    Your Custom Hose Specifications:\n    - Size: 1/2 inch\n    - Length: 24 inches\n    - End Fittings: Standard\n    \n    Thank you for using our service!\n  `;\n  \n  return (\n    <View style={styles.container}>\n      <PDFGenerator content={testContent} />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n});\n\nexport default TrialScreen2;","import React from 'react';\nimport { \n  View, \n  Text, \n  StyleSheet, \n  SafeAreaView, \n  ScrollView,\n  TouchableOpacity,\n  Share\n} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\n\nconst OrderDetailsScreen = ({ route }) => {\n  const { orderDetails } = route.params;\n  const navigation = useNavigation();\n\n  // Extract order information\n  const {\n    userDetails,\n    paymentId,\n    amount,\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n  } = orderDetails;\n\n  // Function to share order details\n  const handleShareOrder = async () => {\n    try {\n      const shareMessage = `\nOrder Details\nOrder ID: ${paymentId}\nAmount: A$${amount}\nStatus: Confirmed\n\nProduct Details:\n- Hose: ${selectedHose}\n- Fittings: ${selectedFitting}\n- End 1: ${end1Shape} ${end1Size}\n- End 2: ${selectedEnd2Fitting} ${end2Shape} ${end2Size}\n- Quantity: ${quantity}\n`;\n\n      await Share.share({\n        message: shareMessage,\n        title: `Order #${paymentId}`,\n      });\n    } catch (error) {\n      console.error('Error sharing order:', error);\n    }\n  };\n\n  const renderSection = (title, content) => (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>{title}</Text>\n      <View style={styles.sectionContent}>\n        {content}\n      </View>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        {/* Order ID and Status */}\n        <View style={styles.headerSection}>\n          <Text style={styles.orderId}>Order #{paymentId}</Text>\n          <View style={styles.statusBadge}>\n            <Text style={styles.statusText}>Confirmed</Text>\n          </View>\n        </View>\n\n        {/* Product Details */}\n        {renderSection('Product Details', (\n          <>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Hose Type:</Text>\n              <Text style={styles.detailValue}>{selectedHose}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Fitting Type:</Text>\n              <Text style={styles.detailValue}>{selectedFitting}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>End 1:</Text>\n              <Text style={styles.detailValue}>{`${end1Shape} ${end1Size}`}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>End 2:</Text>\n              <Text style={styles.detailValue}>{`${end2Shape} ${end2Size}`}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Angle:</Text>\n              <Text style={styles.detailValue}>{selectedAngle}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Quantity:</Text>\n              <Text style={styles.detailValue}>{quantity}</Text>\n            </View>\n          </>\n        ))}\n\n        {/* Additional Services */}\n        {renderSection('Additional Services', (\n          <>\n            {selectedProtection && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Protection:</Text>\n                <Text style={styles.detailValue}>{selectedProtection}</Text>\n              </View>\n            )}\n            {selectedPressure && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Pressure Test:</Text>\n                <Text style={styles.detailValue}>{selectedPressure}</Text>\n              </View>\n            )}\n            {selectedMethod && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Delivery Method:</Text>\n                <Text style={styles.detailValue}>{selectedMethod}</Text>\n              </View>\n            )}\n          </>\n        ))}\n\n        {/* Price Breakdown */}\n        {renderSection('Price Breakdown', (\n          <>\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>Hose:</Text>\n              <Text style={styles.priceValue}>A${selectedHosePrice.toFixed(2)}</Text>\n            </View>\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>End 1:</Text>\n              <Text style={styles.priceValue}>A${end1Price.toFixed(2)}</Text>\n            </View>\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>End 2:</Text>\n              <Text style={styles.priceValue}>A${end2Price.toFixed(2)}</Text>\n            </View>\n            {hoseProtectionPrice > 0 && (\n              <View style={styles.priceRow}>\n                <Text style={styles.priceLabel}>Protection:</Text>\n                <Text style={styles.priceValue}>A${hoseProtectionPrice.toFixed(2)}</Text>\n              </View>\n            )}\n            {pressureTestPrice > 0 && (\n              <View style={styles.priceRow}>\n                <Text style={styles.priceLabel}>Pressure Test:</Text>\n                <Text style={styles.priceValue}>A${pressureTestPrice.toFixed(2)}</Text>\n              </View>\n            )}\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>Shipping:</Text>\n              <Text style={styles.priceValue}>A${shippingCost.toFixed(2)}</Text>\n            </View>\n            <View style={[styles.priceRow, styles.totalRow]}>\n              <Text style={styles.totalLabel}>Total:</Text>\n              <Text style={styles.totalValue}>A${amount}</Text>\n            </View>\n          </>\n        ))}\n\n        {/* Shipping Details */}\n        {renderSection('Shipping Details', (\n          <>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Name:</Text>\n              <Text style={styles.detailValue}>{userDetails.name}</Text>\n            </View>\n            {userDetails.companyName && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Company:</Text>\n                <Text style={styles.detailValue}>{userDetails.companyName}</Text>\n              </View>\n            )}\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Address:</Text>\n              <Text style={styles.detailValue}>{userDetails.address}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Suburb:</Text>\n              <Text style={styles.detailValue}>{userDetails.suburb}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>State:</Text>\n              <Text style={styles.detailValue}>{userDetails.state}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Postcode:</Text>\n              <Text style={styles.detailValue}>{userDetails.postcode}</Text>\n            </View>\n          </>\n        ))}\n\n        {/* Action Buttons */}\n        <View style={styles.actionButtons}>\n          <TouchableOpacity \n            style={styles.shareButton}\n            onPress={handleShareOrder}\n          >\n            <Text style={styles.shareButtonText}>Share Order Details</Text>\n          </TouchableOpacity>\n          \n          <TouchableOpacity \n            style={styles.newOrderButton}\n            onPress={() => navigation.navigate('CreateOrder')}\n          >\n            <Text style={styles.newOrderButtonText}>Place New Order</Text>\n          </TouchableOpacity>\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  scrollContent: {\n    padding: 20,\n  },\n  headerSection: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  orderId: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  statusBadge: {\n    backgroundColor: '#4CAF50',\n    paddingHorizontal: 15,\n    paddingVertical: 5,\n    borderRadius: 15,\n  },\n  statusText: {\n    color: 'white',\n    fontWeight: 'bold',\n  },\n  section: {\n    marginBottom: 25,\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    padding: 15,\n    borderWidth: 1,\n    borderColor: '#e0e0e0',\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 15,\n  },\n  detailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  detailLabel: {\n    fontSize: 16,\n    color: '#666',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    fontWeight: '500',\n    flex: 2,\n    textAlign: 'right',\n  },\n  priceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  priceLabel: {\n    fontSize: 16,\n    color: '#666',\n  },\n  priceValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    fontWeight: '500',\n  },\n  totalRow: {\n    marginTop: 10,\n    borderBottomWidth: 0,\n    paddingTop: 15,\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n  },\n  totalLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  totalValue: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  actionButtons: {\n    marginTop: 20,\n    gap: 15,\n  },\n  shareButton: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n  },\n  shareButtonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  newOrderButton: {\n    backgroundColor: '#f5f5f5',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  newOrderButtonText: {\n    color: '#4a4a4a',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  sectionContent: {\n    backgroundColor: 'white',\n    borderRadius: 10,\n    padding: 15,\n  },\n});\n\nexport default OrderDetailsScreen;","// components/ScreenWrapper.js\nimport React from 'react';\nimport { Platform } from 'react-native';\n\nconst ScreenWrapper = ({ children }) => {\n  // Only apply web-specific styles on web platform\n  if (Platform.OS === 'web') {\n    return (\n      <div \n        style={{\n          minHeight: '100vh',\n          maxHeight: '100vh',\n          overflowY: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          backgroundColor: '#fff',\n        }}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  // Return children as-is for mobile platforms\n  return children;\n};\n\nexport default ScreenWrapper;","import React, { useCallback } from 'react';\nimport { \n  View, \n  Text, \n  StyleSheet, \n  SafeAreaView, \n  ScrollView, \n  Image,\n  Dimensions,\n  Platform,\n  TouchableOpacity,\n} from 'react-native';\nimport { useRoute, useNavigation } from '@react-navigation/native';\nimport ScreenWrapper from '../components/ScreenWrapper';\nimport { PDFDownloadLink } from '@react-pdf/renderer';\nimport { pdf } from '@react-pdf/renderer';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\n// Reuse the helper components from OrderConfirmationScreen1\nconst LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nconst BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.cutLengthsPriceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nconst NumberedCircle = ({ number }) => (\n  <View style={styles.numberedCircle}>\n    <Text style={styles.numberedCircleText}>{number}</Text>\n  </View>\n);\n\nconst OrderDetailsScreen1 = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const { orderDetails } = route.params;\n  \n  // Destructure the orderDetails\n  const {\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    userDetails,\n    amount,\n    paymentId\n  } = orderDetails;\n\n  // For debugging\n  console.log('Order Details received:', orderDetails);\n\n  const handlePDFDownload = useCallback(async () => {\n    try {\n      console.log('Generating PDF...');\n      const blob = await pdf(<OrderPDF orderDetails={orderDetails} />).toBlob();\n      const url = URL.createObjectURL(blob);\n      \n      // Create a link element\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `Order_${paymentId}.pdf`;\n      \n      // Trigger download\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      \n      // Cleanup\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n    }\n  }, [orderDetails, paymentId]);\n\n  const renderShippingDetails = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Shipping Details</Text>\n      </View>\n      \n      <View style={styles.detailsGrid}>\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Name:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.name}</Text>\n        </View>\n        \n        {orderDetails.userDetails?.companyName && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Company:</Text>\n            <Text style={styles.detailValue}>{orderDetails.userDetails.companyName}</Text>\n          </View>\n        )}\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Address:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.address}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Suburb:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.suburb}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>State:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.state}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Postcode:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.postcode}</Text>\n        </View>\n\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Email:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.email}</Text>\n        </View>\n        \n        {orderDetails.userDetails?.contactNumber && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Contact:</Text>\n            <Text style={styles.detailValue}>{orderDetails.userDetails.contactNumber}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderOrderSummary = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Order Summary</Text>\n      </View>\n  \n      <View style={styles.orderDetailsContainer}>\n        {/* Order ID - Always show if exists */}\n        {paymentId && (\n          <View style={styles.rowContainer}>\n            <LabelItem>ORDER ID</LabelItem>\n            <BorderedItem>{paymentId}</BorderedItem>\n          </View>\n        )}\n  \n        {/* Hose Details - Only show if selectedHose exists */}\n        {selectedHose && (\n          <View style={styles.rowContainer}>\n            <LabelItem>HOSE SIZE</LabelItem>\n            <BorderedItem>\n              {typeof selectedHose === 'object' && selectedHose.size ? selectedHose.size : selectedHose}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* End 1 Details - Only show if both shape and size exist */}\n        {end1Shape && end1Size && (\n          <View style={styles.rowContainer}>\n            <LabelItem>END1</LabelItem>\n            <BorderedItem price={end1Price}>\n              {`${end1Shape} - ${end1Size}`}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* End 2 Details - Only show if both shape and size exist */}\n        {end2Shape && end2Size && (\n          <View style={styles.rowContainer}>\n            <LabelItem>END2</LabelItem>\n            <BorderedItem price={end2Price}>\n              {`${end2Shape} - ${end2Size}`}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Angle - Only show if exists */}\n        {selectedAngle && (\n          <View style={styles.rowContainer}>\n            <LabelItem>ANGLE</LabelItem>\n            <BorderedItem>{selectedAngle}</BorderedItem>\n          </View>\n        )}\n  \n        {/* Quantity - Only show if exists */}\n        {quantity && (\n          <View style={styles.rowContainer}>\n            <LabelItem>QUANTITY</LabelItem>\n            <BorderedItem>{quantity}</BorderedItem>\n          </View>\n        )}\n  \n        {/* Cut Lengths - Only show if array exists and has items */}\n        {cutLengths && cutLengths.length > 0 && (\n          <View style={styles.rowContainer}>\n            <LabelItem>CUT LENGTHS</LabelItem>\n            <BorderedItem \n              price={cutLengths.reduce((total, cut) => {\n                const lengthInMeters = parseFloat(cut.length) / 1000; // Convert mm to meters\n                const basePrice = parseFloat(selectedHosePrice);\n                return total + (lengthInMeters * basePrice);\n              }, 0)}\n              isCutLengths={false}\n            >\n              <View>\n                {cutLengths.map((cut, index) => (\n                  <View key={index} style={styles.cutLengthRow}>\n                    <View style={styles.numberedCircle}>\n                      <Text style={styles.numberedCircleText}>{index + 1}</Text>\n                    </View>\n                    <Text style={styles.cutLengthText}>\n                      {`${cut.length} ${cut.unit}`}\n                    </Text>\n                  </View>\n                ))}\n              </View>\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Protection - Only show if exists */}\n        {selectedProtection && (\n          <View style={styles.rowContainer}>\n            <LabelItem>PROTECTION</LabelItem>\n            <BorderedItem \n              price={selectedProtection === 'NOT REQUIRED' ? 'NOT REQUIRED' : protectionCost}\n            >\n              {selectedProtection}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Pressure Test - Only show if exists */}\n        {selectedPressure && (\n          <View style={styles.rowContainer}>\n            <LabelItem>PRESSURE TEST</LabelItem>\n            <BorderedItem price={pressureTestPrice}>\n              {selectedPressure}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Shipping - Only show if service exists */}\n        {selectedService && (\n          <View style={styles.rowContainer}>\n            <LabelItem>SHIPPING</LabelItem>\n            <BorderedItem price={shippingCost || 'FREE'}>\n              {selectedService}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Subtotal - Always show */}\n        <View style={styles.rowContainer}>\n          <LabelItem>SUBTOTAL</LabelItem>\n          <BorderedItem price={totalBeforeShipping}>\n            Before GST\n          </BorderedItem>\n        </View>\n      </View>\n  \n      {/* Total Price Display */}\n      <View style={styles.totalContainer}>\n        <Text style={styles.totalLabel}>Total Amount (Inc. GST)</Text>\n        <Text style={styles.totalValue}>\n          A${(totalBeforeShipping * 1.1).toFixed(2)} {/* Add 10% GST */}\n        </Text>\n      </View>\n    </View>\n  );\n\n  // Add error handling\n  if (!orderDetails) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>Error: Order details not found</Text>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Back Button - Moved outside of ScreenWrapper */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.navigate('Welcome')}\n      >\n        <Text style={styles.backButtonText}>Place New Order</Text>\n      </TouchableOpacity>\n\n      {/* New Download PDF Button */}\n        <TouchableOpacity \n          style={styles.floatingDownloadButton}\n          onPress={handlePDFDownload}\n        >\n          <Text style={styles.backButtonText}>Download PDF</Text>\n        </TouchableOpacity>\n  \n      <ScreenWrapper>\n        <SafeAreaView style={styles.container}>\n          <View style={styles.logoContainer}>\n            <Image\n              source={require('../assets/fluidpower_logo.gif')}\n              style={styles.logo}\n              resizeMode=\"contain\"\n            />\n          </View>\n  \n          <View style={styles.titleContainer}>\n            <Text style={styles.titleText}>Order Details</Text>\n          </View>\n  \n          <ScrollView \n            style={styles.scrollView}\n            contentContainerStyle={styles.scrollContent}\n          >\n            {renderOrderSummary()}\n            {renderShippingDetails()}\n          </ScrollView>\n          {/* Add copyright text */}\n          <View style={styles.copyrightContainer}>\n            <Text style={styles.copyrightText}>\n              FluidPower Group All Rights Reserved {new Date().getFullYear()}\n            </Text>\n          </View>\n        </SafeAreaView>\n      </ScreenWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 18,\n    color: 'red',\n    textAlign: 'center',\n  },\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginTop: 15,\n    marginBottom: 20,\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    alignSelf: 'center',\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    padding: 20,\n    alignItems: 'center',\n    width: '100%',\n  },\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 5,  // Reduced from 10 to match the design\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 8,  // Add some space between circle and text\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  cutLengthsContainer: {\n    flex: 1,\n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n  },\n  boxHeader: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n  },\n  boxHeaderText: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  detailsGrid: {\n    padding: 15,\n    gap: 10,\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n    maxWidth: 600,  // Add this line\n    alignSelf: 'center',  // Add this line\n    width: '100%',  // Add this line\n},\n  detailLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    flex: 2,\n    textAlign: 'right',\n  },\n  totalContainer: {\n    backgroundColor: '#ffc100',\n    padding: 15,\n    alignItems: 'center',\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n  },\n  totalLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  totalValue: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  // Existing styles from OrderConfirmationScreen1\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n    width: '100%', \n    maxWidth: 600, \n  },\n  orderDetailsContainer: {\n    padding: 15,\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingDownloadButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    right: 30,  // Changed from 'left' to 'right'\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  copyrightContainer: {\n    paddingBottom: 20,\n    paddingTop: 10,\n    alignItems: 'center',\n  },\n  copyrightText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    fontStyle: 'italic',\n    opacity: 0.8,\n  },\n});\n\nexport default OrderDetailsScreen1;","// Create a new component file: PaymentSuccessPage.js\nimport React, { useEffect } from 'react';\nimport { View, Image } from 'react-native';\n\nconst PaymentSuccessPage = () => {\n  useEffect(() => {\n    // Close the window after 2 seconds\n    const timer = setTimeout(() => {\n      if (window.opener) {\n        window.close();\n      }\n    }, 2000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    <View style={{\n      flex: 1,\n      backgroundColor: 'white',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }}>\n      <Image\n        source={require('../assets/fluidpower_logo.gif')}\n        style={{\n          width: 300,\n          height: 150,\n          resizeMode: 'contain'\n        }}\n      />\n    </View>\n  );\n};\n\nexport default PaymentSuccessPage;","import React, { useEffect, useState } from 'react';\nimport { View, Text, ActivityIndicator, StyleSheet } from 'react-native';\nimport { useNavigation, useRoute } from '@react-navigation/native';\n\nconst PaymentReturnScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [errorMessage, setErrorMessage] = useState('');\n\n  useEffect(() => {\n    console.log('Current URL:', window.location.href);\n    console.log('Current Path:', window.location.pathname);\n    console.log('sessionStorage data:', window.sessionStorage.getItem('pendingOrderData'));\n  \n    // Rest of your existing code\n  }, []);\n\n  useEffect(() => {\n    console.log('PaymentReturnScreen mounted. Route name:', route.name);\n    console.log('Current URL:', window.location.href);\n    \n    // Rest of your code...\n  }, [navigation, route.name]);\n  \n  useEffect(() => {\n    // Determine if this is a success or cancel return\n    const isSuccess = route.name === 'PaymentSuccess';\n    \n    // Get the order data from sessionStorage\n    let orderDetails = {};\n    if (typeof window !== 'undefined' && window.sessionStorage) {\n      try {\n        const orderDataString = window.sessionStorage.getItem('pendingOrderData');\n        if (orderDataString) {\n          orderDetails = JSON.parse(orderDataString);\n          // Clear the data from sessionStorage\n          window.sessionStorage.removeItem('pendingOrderData');\n        } else {\n          console.error('No order data found in sessionStorage');\n          setErrorMessage('Order data not found. Please try again.');\n          return;\n        }\n      } catch (error) {\n        console.error('Error parsing order data from sessionStorage:', error);\n        setErrorMessage('Error processing your order. Please try again.');\n        return;\n      }\n    }\n    \n    // Short delay to allow the component to mount\n    setTimeout(() => {\n      // Navigate to the order confirmation screen\n      navigation.reset({\n        index: 0,\n        routes: [\n          {\n            name: 'OrderConfirmation',\n            params: {\n              success: isSuccess,\n              orderDetails: orderDetails,\n              error: !isSuccess ? 'Payment was cancelled' : null\n            }\n          }\n        ]\n      });\n    }, 500);\n  }, [navigation, route.name]);\n  \n  return (\n    <View style={styles.container}>\n      <ActivityIndicator size=\"large\" color=\"#4a4a4a\" />\n      <Text style={styles.loadingText}>\n        {errorMessage || (route.name === 'PaymentSuccess' \n          ? 'Payment successful! Processing your order...' \n          : 'Returning to checkout...')}\n      </Text>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    padding: 20\n  },\n  loadingText: {\n    marginTop: 20,\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center'\n  }\n});\n\nexport default PaymentReturnScreen;","import React from 'react';\nimport { \n  View, \n  Text, \n  StyleSheet, \n  SafeAreaView, \n  FlatList, \n  TouchableOpacity, \n  Image,\n  ScrollView,\n  Platform,\n  Dimensions,\n} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport Svg, { Path } from 'react-native-svg';\nimport { useCart } from '../context/CartContext';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\nconst CartScreen = () => {\n  const navigation = useNavigation();\n  const { cartItems, removeFromCart, clearCart, getCartTotal } = useCart();\n\n  const renderCartItem = ({ item, index }) => {\n    const {\n      selectedHose,\n      cutLengths,\n      end1Shape,\n      end1Size,\n      end2Shape,\n      end2Size,\n      selectedProtection,\n      totalPrice,\n      cartId,\n    } = item;\n\n    // Helper function to get total length from cut lengths\n    const getTotalLength = () => {\n      if (!cutLengths) return 0;\n      return cutLengths.reduce((total, cut) => {\n        if (!cut.length) return total;\n        return total + (parseFloat(cut.length) / 1000); // Convert mm to meters\n      }, 0);\n    };\n\n    return (\n      <View style={styles.cartItemContainer}>\n        <View style={styles.cartItemHeader}>\n          <Text style={styles.cartItemHeaderText}>Item {index + 1}</Text>\n          <TouchableOpacity \n            style={styles.removeButton}\n            onPress={() => removeFromCart(cartId)}\n          >\n            <Svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\">\n              <Path \n                d=\"M18 6L6 18M6 6l12 12\" \n                stroke=\"#4a4a4a\" \n                strokeWidth=\"2.5\" \n                strokeLinecap=\"round\" \n                strokeLinejoin=\"round\"\n              />\n            </Svg>\n          </TouchableOpacity>\n        </View>\n        \n        <View style={styles.cartItemDetails}>\n          {selectedHose && (\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Hose:</Text>\n              <Text style={styles.detailValue}>{selectedHose.size}</Text>\n            </View>\n          )}\n          \n          {cutLengths && cutLengths.length > 0 && (\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Length:</Text>\n              <Text style={styles.detailValue}>{getTotalLength().toFixed(2)} m</Text>\n            </View>\n          )}\n          \n          {end1Shape && end1Size && (\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>End 1:</Text>\n              <Text style={styles.detailValue}>{`${end1Shape} - ${end1Size}`}</Text>\n            </View>\n          )}\n          \n          {end2Shape && end2Size && (\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>End 2:</Text>\n              <Text style={styles.detailValue}>{`${end2Shape} - ${end2Size}`}</Text>\n            </View>\n          )}\n          \n          {selectedProtection && (\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Protection:</Text>\n              <Text style={styles.detailValue}>{selectedProtection}</Text>\n            </View>\n          )}\n        </View>\n        \n        <View style={styles.cartItemFooter}>\n          <View style={styles.priceContainer}>\n            <Text style={styles.priceLabel}>Price:</Text>\n            <Text style={styles.priceValue}>\n              A${totalPrice ? totalPrice.toFixed(2) : '0.00'}\n            </Text>\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <SafeAreaView style={styles.mainContainer}>\n      {/* Floating Back Button */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <Path \n            d=\"M19 12H5M12 19L5 12L12 5\" \n            stroke=\"#4a4a4a\" \n            strokeWidth=\"2.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </Svg>\n      </TouchableOpacity>\n\n      <View style={styles.mainContentContainer}>\n        <ScrollableGradientWrapper>\n          <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.scrollContent}>\n              <View style={styles.logoContainer}>\n                <Image\n                  source={require('../assets/fluidpower_logo.gif')}\n                  style={styles.logo}\n                  resizeMode=\"contain\"\n                />\n              </View>\n              \n              <View style={styles.titleContainer}>\n                <Text style={styles.titleText}>YOUR CART</Text>\n              </View>\n              \n              {cartItems.length === 0 ? (\n                <View style={styles.emptyCartContainer}>\n                  <Text style={styles.emptyCartText}>Your cart is empty</Text>\n                  <TouchableOpacity \n                    style={styles.continueShoppingButton}\n                    onPress={() => navigation.navigate('Welcome')}\n                  >\n                    <Text style={styles.continueShoppingButtonText}>CONTINUE SHOPPING</Text>\n                  </TouchableOpacity>\n                </View>\n              ) : (\n                <>\n                  <FlatList\n                    data={cartItems}\n                    renderItem={renderCartItem}\n                    keyExtractor={(item) => item.cartId.toString()}\n                    style={styles.cartList}\n                    scrollEnabled={false}\n                    contentContainerStyle={styles.listContentContainer}\n                  />\n                  \n                  <View style={styles.cartSummary}>\n                    <View style={styles.cartTotalContainer}>\n                      <Text style={styles.cartTotalLabel}>TOTAL</Text>\n                      <Text style={styles.cartTotalValue}>\n                        A${getCartTotal().toFixed(2)}\n                      </Text>\n                    </View>\n                    \n                    <View style={styles.shippingNoticeContainer}>\n                      <Text style={styles.shippingNoticeText}>\n                        *All our shipping costs are capped at A$ 12.85\n                      </Text>\n                    </View>\n                    \n                    <View style={styles.cartActions}>\n                      <TouchableOpacity \n                        style={styles.clearCartButton}\n                        onPress={clearCart}\n                      >\n                        <Text style={styles.buttonText}>CLEAR CART</Text>\n                      </TouchableOpacity>\n                      \n                      <TouchableOpacity \n                        style={styles.checkoutButton}\n                        onPress={() => {\n                          // Create a combined cart item for shipping\n                          const combinedCartData = {\n                            cartItems,\n                            cartTotal: getCartTotal(),\n                            fromCart: true\n                          };\n                          \n                          navigation.navigate('ShippingDetails', combinedCartData);\n                        }}\n                      >\n                        <Text style={styles.buttonText}>PROCEED TO SHIPPING</Text>\n                      </TouchableOpacity>\n                    </View>\n                    \n                    <TouchableOpacity \n                      style={styles.continueShoppingButton}\n                      onPress={() => navigation.goBack()}\n                    >\n                      <Text style={styles.continueShoppingButtonText}>CONTINUE SHOPPING</Text>\n                    </TouchableOpacity>\n                  </View>\n                </>\n              )}\n            </ScrollView>\n          </View>\n        </ScrollableGradientWrapper>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContentContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingBottom: 20,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n    marginBottom: 15,\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  titleContainer: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    marginVertical: 20,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  emptyCartContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 30,\n  },\n  emptyCartText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 20,\n  },\n  cartList: {\n    width: '95%',\n    maxWidth: 800,\n  },\n  listContentContainer: {\n    flexGrow: 1,\n  },\n  cartItemContainer: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    marginBottom: 15,\n    overflow: 'hidden',\n  },\n  cartItemHeader: {\n    backgroundColor: '#4a4a4a',\n    padding: 10,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  cartItemHeaderText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  removeButton: {\n    padding: 5,\n  },\n  cartItemDetails: {\n    padding: 15,\n  },\n  detailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  detailLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n  },\n  cartItemFooter: {\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n  },\n  priceContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  priceLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  priceValue: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  cartSummary: {\n    width: '95%',\n    maxWidth: 800,\n    marginTop: 10,\n  },\n  cartTotalContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  cartTotalLabel: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  cartTotalValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  shippingNoticeContainer: {\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  shippingNoticeText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    fontStyle: 'italic',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  cartActions: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 15,\n  },\n  clearCartButton: {\n    backgroundColor: 'transparent',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  checkoutButton: {\n    backgroundColor: '#ffc100',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    flex: 1,\n    marginLeft: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  buttonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  continueShoppingButton: {\n    backgroundColor: 'transparent',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  continueShoppingButtonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n});\n\nexport default CartScreen;","import 'react-native-gesture-handler';\nimport React, { useRef, useEffect } from 'react';\nimport { View, Platform } from 'react-native';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\nimport './src/crypto-polyfill';\nimport { Font } from '@react-pdf/renderer';\n\nimport useEnvLoader from './src/useEnvLoader';\nimport { ActivityIndicator } from 'react-native';\nimport { Text } from 'react-native';\nimport './src/global.css';\n\n// Screen imports\nimport WelcomeScreen from './screens/WelcomeScreen';\nimport HoseSelectionScreen from './screens/HoseSelectionScreen';\nimport FittingSelectionScreen from './screens/FittingSelectionScreen';\nimport End1FittingScreen from './screens/End1FittingScreen';\nimport BSPFittingScreen1 from './screens/BSPFittingScreen1';\nimport JICFittingScreen1 from './screens/JICFittingScreen1';\nimport MetricFittingScreen1 from './screens/MetricFittingScreen1';\nimport OrfsScreen1 from './screens/OrfsScreen1';\nimport End2FittingScreen from './screens/End2FittingScreen';\nimport BSPFittingScreen2 from './screens/BSPFittingScreen2';\nimport JICFittingScreen2 from './screens/JICFittingScreen2';\nimport MetricFittingScreen2 from './screens/MetricFittingScreen2';\nimport OrfsScreen2 from './screens/OrfsScreen2';\nimport OrientationSelectionScreen from './screens/OrientationSelectionScreen';\nimport CutLengthsScreen from './screens/CutLengthsScreen';\nimport HoseProtectionScreen from './screens/HoseProtectionScreen';\nimport PressureTestingScreen from './screens/PressureTestingScreen';\nimport ShippingOptionsScreen from './screens/ShippingOptionsScreen';\nimport OrderConfirmationScreen1 from './screens/OrderConfirmationScreen1';\nimport ShippingDetailsScreen from './screens/ShippingDetailsScreen';\nimport PaymentScreen from './screens/PaymentScreen';\nimport OrderConfirmationScreen from './screens/OrderConfirmationScreen';\nimport TrialScreen2 from './screens/TrialScreen2';\nimport OrderDetailsScreen from './screens/OrderDetailsScreen';\nimport OrderDetailsScreen1 from './screens/OrderDetailsScreen1';\nimport PaymentSuccessPage from './components/PaymentSuccessPage';\nimport PaymentReturnScreen from './screens/PaymentReturnScreen';\nimport { CartProvider } from './context/CartContext';\nimport CartScreen from './screens/CartScreen';\n\n// Register fonts for PDF generation\nFont.register({\n  family: 'Roboto',\n  fonts: [\n    { src: 'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-light-webfont.ttf' },\n    { src: 'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-bold-webfont.ttf', fontWeight: 'bold' },\n  ],\n});\n\n// Create the stack navigator\nconst Stack = createStackNavigator();\n\n/**\n * Main application component\n */\nconst App = () => {\n  const isEnvLoaded = useEnvLoader();\n  const navigationRef = useRef(null);\n  \n  // Show loading spinner while env.js is being loaded\n  if (!isEnvLoaded) {\n    return (\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n        <ActivityIndicator size=\"large\" />\n        <Text>Loading Environment...</Text>\n      </View>\n    );\n  }\n\n  return (\n    <SafeAreaProvider>\n    <CartProvider>\n      <NavigationContainer \n        ref={navigationRef}\n        onReady={() => {\n          // Handle PayPal return navigation if needed\n          if (Platform.OS === 'web') {\n            const urlParams = new URLSearchParams(window.location.search);\n            if (urlParams.get('screen') === 'OrderConfirmation') {\n              // Get payment status and order details\n              const success = urlParams.get('success') === 'true';\n              let orderDetails = null;\n\n              try {\n                const orderDataString = window.sessionStorage.getItem('pendingOrderData');\n                if (orderDataString) {\n                  orderDetails = JSON.parse(orderDataString);\n                  \n                  // Clean up storage\n                  window.sessionStorage.removeItem('pendingOrderData');\n                }\n              } catch (error) {\n                console.error('Error retrieving order data:', error);\n              }\n\n              // Navigate to OrderConfirmation screen\n              setTimeout(() => {\n                navigationRef.current?.navigate('OrderConfirmation', {\n                  success: success,\n                  orderDetails: orderDetails,\n                  error: !success ? 'Payment was cancelled' : null\n                });\n                \n                // Clean up URL\n                window.history.replaceState(null, '', window.location.pathname);\n              }, 500);\n            }\n          }\n        }}\n      >\n        <Stack.Navigator initialRouteName=\"Welcome\">\n          <Stack.Screen name=\"Welcome\" component={WelcomeScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"HoseSelection\" component={HoseSelectionScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"TrialScreen2\" component={TrialScreen2} options={{ headerTransparent: true, headerBackground: () => ( <View style={{ flex: 1, backgroundColor: 'white' }} /> ), title: 'Trial Screen2' }} />\n          <Stack.Screen name=\"FittingSelection\" component={FittingSelectionScreen} options={{ headerTransparent: true, headerBackground: () => ( <View style={{ flex: 1, backgroundColor: 'white' }} /> ),  title: 'Select Fitting' }} />\n          <Stack.Screen name=\"End1Fitting\" component={End1FittingScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"BSPFittingScreen1\" component={BSPFittingScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"JICFittingScreen1\" component={JICFittingScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"MetricFittingScreen1\" component={MetricFittingScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrfsScreen1\" component={OrfsScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"End2Fitting\" component={End2FittingScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"BSPFittingScreen2\" component={BSPFittingScreen2} options={{ headerShown: false }} />\n          <Stack.Screen name=\"JICFittingScreen2\" component={JICFittingScreen2} options={{ headerShown: false }} />\n          <Stack.Screen name=\"MetricFittingScreen2\" component={MetricFittingScreen2} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrfsScreen2\" component={OrfsScreen2} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrientationSelectionScreen\" component={OrientationSelectionScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"CutLengths\" component={CutLengthsScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"HoseProtection\" component={HoseProtectionScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"PressureTesting\" component={PressureTestingScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"ShippingOptions\" component={ShippingOptionsScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrderConfirmation1\" component={OrderConfirmationScreen1} options={{ headerShown: false }} />\n          <Stack.Screen name=\"ShippingDetails\" component={ShippingDetailsScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"Payment\" component={PaymentScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"OrderConfirmation\" component={OrderConfirmationScreen} options={{ headerLeft: null }} />\n          <Stack.Screen name=\"OrderDetails\" component={OrderDetailsScreen} options={{ title: 'Order Details', headerBackTitle: 'Back' }}/>\n          <Stack.Screen name=\"OrderDetails1\" component={OrderDetailsScreen1} options={{ headerShown: false }}/>\n          <Stack.Screen name=\"payment_success\" component={PaymentSuccessPage} options={{ headerShown: false }}/>\n          <Stack.Screen name=\"PaymentSuccess\" component={PaymentReturnScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"PaymentCancel\" component={PaymentReturnScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"Cart\" component={CartScreen} options={{ headerShown: false }} />\n        </Stack.Navigator>\n      </NavigationContainer>\n      </CartProvider>\n    </SafeAreaProvider>\n  );\n};\n\nexport default App;","// components/PDFGenerator/WebPDFGenerator.js\nimport React from 'react';\nimport html2canvas from 'html2canvas';\nimport { jsPDF } from 'jspdf';\n\nconst WebPDFGenerator = ({ contentRef, onGenerateStart, onGenerateComplete, onError, orderId }) => {\n  const generatePDF = async ({ silent = false } = {}) => {\n    try {\n      if (!contentRef.current) return;\n      \n      onGenerateStart?.();\n\n      const element = contentRef.current;\n      const canvas = await html2canvas(element, {\n        scale: 2,\n        useCORS: true,\n        logging: false\n      });\n\n      const imgData = canvas.toDataURL('image/jpeg', 1.0);\n      const pdf = new jsPDF({\n        orientation: 'portrait',\n        unit: 'px',\n        format: [canvas.width, canvas.height]\n      });\n\n      pdf.addImage(imgData, 'JPEG', 0, 0, canvas.width, canvas.height);\n      \n      // Get PDF as buffer for email\n      const pdfBuffer = pdf.output('arraybuffer');\n\n      // If not silent, trigger download\n      if (!silent) {\n        // Generate filename using Order ID\n        const filename = `Order_${orderId}.pdf`;\n        \n        // Create blob and URL for download\n        const pdfBlob = new Blob([pdfBuffer], { type: 'application/pdf' });\n        const pdfUrl = URL.createObjectURL(pdfBlob);\n        \n        // Create and trigger download link\n        const link = document.createElement('a');\n        link.href = pdfUrl;\n        link.download = filename;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        // Clean up\n        URL.revokeObjectURL(pdfUrl);\n      }\n      \n      // Call onGenerateComplete with the PDF buffer\n      onGenerateComplete?.(pdfBuffer);\n      \n      return pdfBuffer;\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n      onError?.(error);\n      return null;\n    }\n  };\n\n  return { generatePDF };\n};\n\nexport default WebPDFGenerator;","// src/crypto-polyfill.js\nif (typeof window !== 'undefined') {\n    if (!window.crypto) {\n      window.crypto = {};\n    }\n    if (!window.crypto.randomUUID) {\n      window.crypto.randomUUID = () => {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n          const r = Math.random() * 16 | 0;\n          const v = c === 'x' ? r : (r & 0x3 | 0x8);\n          return v.toString(16);\n        });\n      };\n    }\n  }","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + {\"159\":\"6cd2578e\",\"331\":\"d16c3da6\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [453], () => (__webpack_require__(5036)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_useState","useState","_useState2","_slicedToArray","isEnvLoaded","setIsEnvLoaded","useEffect","Promise","resolve","reject","script","document","createElement","src","async","onload","onerror","err","head","appendChild","then","catch","error","console","_ref","children","style","wrapperRef","useRef","gradientRef","checkScroll","current","wrapper","scrollableDistance","scrollHeight","clientHeight","currentScroll","scrollTop","isScrollable","isAtBottom","Math","ceil","floor","opacity","resizeObserver","ResizeObserver","entries","initialChecks","setTimeout","observe","addEventListener","MutationObserver","childList","subtree","window","removeEventListener","disconnect","_jsxs","ref","_objectSpread","height","overflowY","position","backgroundColor","isolation","_jsx","minHeight","paddingBottom","zIndex","bottom","left","right","background","pointerEvents","transition","styles","StyleSheet","create","container","flexGrow","mainContainer","flex","contentContainer","alignItems","logoContainer","justifyContent","marginTop","marginBottom","width","logo","maxWidth","resizeMode","titleContainer","alignSelf","borderRadius","paddingVertical","paddingHorizontal","title","fontSize","fontWeight","color","textAlign","messageContainer","marginVertical","messageText","highlightText","highlightText2","imageContainer","hoseImage","Dimensions","get","instructionsContainer","instructionsText","lineHeight","spacedText","startButton","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","startButtonText","asteriskContainer","asteriskText","copyrightText","fontStyle","modalOverlay","overlayBackground","top","selectionContainer","padding","selectionTitle","selectionButton","borderWidth","borderColor","selectedButton","selectionButtonText","enquiryText","contactText","textDecorationLine","appCreditsText","feedbackFlyerContainer","feedbackHeading","feedbackSlideContainer","overflow","feedbackTitle","feedbackSlide","feedbackImage","feedbackText","feedbackIndicators","flexDirection","taglineText","indicator","marginHorizontal","activeIndicator","transform","scale","ebayStoreRow","ebaySourceText","ebayLinkText","marginLeft","navigation","fadeAnim","Animated","Value","showSelectionModal","setShowSelectionModal","modalFadeAnim","_useState3","_useState4","setSelectedButton","_useState5","_useState6","setCurrentFeedbackIndex","feedbackFadeAnim","animateAndNavigate","buttonKey","screenName","params","arguments","length","undefined","timing","toValue","duration","useNativeDriver","start","navigate","handleBuildHose","isHoseOnly","handleCloseModal","feedbackComments","id","image","require","useFocusEffect","React","setValue","interval","setInterval","prev","clearInterval","View","ScrollableGradientWrapper","SafeAreaView","Image","source","Text","TouchableOpacity","onPress","Linking","openURL","Date","getFullYear","Modal","transparent","visible","onRequestClose","animationType","activeOpacity","selectedHose","selectedHosePrice","isOrderFittingMode","DEFAULT_HOSE_PRICES","getHosePrices","_asyncToGenerator","response","fetch","method","headers","log","status","ok","errorText","text","Error","JSON","parse","hosePrices","apply","SCREEN_WIDTH","isMobile","HoseSizeButton","min","size","insideDiameter","specs","hosePrice","isSelected","buttonContainer","sizeButton","selectedSizeButton","sizeContent","sizeButtonText","sizeDescription","numberOfLines","ellipsizeMode","hoseImageContainer","hoseCrossSection","priceBorder","selectedPriceBorder","priceText","selectedPriceText","specsContainer","map","spec","index","specText","mainScrollView","mainScrollViewContent","loadingContainer","loadingContent","loadingLogo","loadingText","titleWrapper","titleText","scrollView","scrollViewContent","marginRight","innerContainer","selectedInnerContainer","whiteSpace","floatingBackButton","backButtonText","footer","floatingFooter","borderTopWidth","borderTopColor","viewportFooter","footerContent","footerLeft","footerCenter","footerRight","hoseOnlyButton","hoseOnlyButtonText","placeholderButton","_ref2","route","useNavigation","selectedSize","setSelectedSize","setSelectedHosePrice","loadingFadeAnim","contentFadeAnim","showContent","setShowContent","_useState7","_useState8","prices","setPrices","_useState9","_useState10","isLoading","setIsLoading","hoseSizes","useMemo","loadPrices","_ref4","fetchedPrices","sequence","delay","goBack","Svg","viewBox","fill","Path","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ScrollView","contentContainerStyle","showsVerticalScrollIndicator","hose","cleanPrice","trim","split","handleSizeSelection","subtitle","fittingType","fittingOption","selectedOption","fittingShape","selectedFitting","setSelectedFitting","type","shapes","fitting","shape","handleSelection","BUTTON_WIDTH","isWebDesktop","FittingTypeButton","description","onHelpPress","fittingButton","selectedFittingButton","fittingContent","fittingButtonText","fittingDescription","helpIcon","hitSlop","helpIconBackground","helpIconText","circleWrapper","circleText","diagram","diagramSpacing","paddingRight","helpImageContainer","minWidth","imageWrapper","helpImage","closeButton","closeButtonText","clickToEnlargeText","diagramImageContainer","paddingTop","closeModalButton","closeModalButtonText","includeFontPadding","textAlignVertical","paddingLeft","modalTitle","enlargedDiagram","_ref3","showSizeModal","setShowSizeModal","sizeFadeAnim","showHelpOverlay","setShowHelpOverlay","currentHelpImage","setCurrentHelpImage","_useState11","_useState12","showDiagramOverlay","setShowDiagramOverlay","helpModalFadeAnim","diagramModalFadeAnim","fittingTypes","handleCloseSizeModal","closeHelpOverlay","closeDiagramOverlay","_Fragment","baseParams","handleFittingSelection","onError","e","nativeEvent","DEFAULT_BSP_PRICES","getBSPPrices","bspPrices","screenWidth","MAX_COLUMN_WIDTH","adjustPrice","basePrice","price","parseFloat","toFixed","ShapeButton","imagePath","shapeButton","selectedShapeButton","shapeButtonContent","shapeButtonSubtitle","shapeButtonImageContainer","shapeButtonImage","SizeButton","sizeButtonContentStyle","sizeTextContainerStyle","priceBorderStyle","adjustedPrice","toString","sizeTextContainer","touchAction","WebkitOverflowScrolling","animatedContainer","column","sectionTitleContainer","sectionTitle","sectionTitleText","sectionSubtitle","placeholderColumn","sizeButtonContent","bottomContainer","fittingTypeContainer","fittingTypeText","ferruleContainer","ferruleImage","ferruleTextContainer","ferruleText","selectedShape","setSelectedShape","_route$params","_route$params$selecte","_route$params$selecte2","_route$params$selecte3","name","allSizes","compatibilityMatrix","sizes","hoseSize","compatibleSizes","filter","sizeObj","includes","getFilteredSizes","useCallback","handleNavigation","end1Shape","end1Size","end1Price","selectedEnd2Fitting","end2Shape","end2Size","end2Price","selectedAngle","handleShapeSelection","selectedSizeObj","find","DEFAULT_JIC_PRICES","getJICPrices","jicPrices","DEFAULT_METRIC_PRICES","getMetricPrices","metricPrices","DEFAULT_ORFS_PRICES","getORFSPrices","orfsPrices","setSelectedEnd2Fitting","_ref5","isStraightFitting","priceNumeric","useRoute","AngleButton","angle","angleButton","selectedAngleButton","angleImage","angleText","helpIconVisual","NotSureButton","notSureButton","notSureText","notSureSubtext1","notSureSubtext2","subtitleContainer","subtitleText","aspectRatio","angleButtonsContainer","flexWrap","angleButtonWrapper","setSelectedAngle","angles","handleAngleSelection","centerContent","slice","angleData","button","arrow","borderBottomWidth","borderLeftWidth","borderBottomColor","borderLeftColor","buttonActive","textActive","arrowActive","isActive","scrollContent","selectedHoseContainer","selectedHoseHeader","selectedHoseSize","selectedHosePriceContainer","quantityRow","quantityContainer","quantityInput","errorContainer","inputError","cutLengthsContainer","cutLengthRow","cutLengthText","rowLabelContainer","rowNumberContainer","rowNumber","cutLengthInputContainer","cutLengthInput","unitText","pricingContainer","easterEggContainer","margin","easterEggText","iosNextButtonContainer","quantity","setQuantity","setError","unit","cutLengths","setCutLengths","showCutLengths","setShowCutLengths","allLengthsFilled","setAllLengthsFilled","lastInputIndex","setLastInputIndex","_useState13","_useState14","cutLengthErrors","setCutLengthErrors","quantityInputRef","inputRefs","_useState15","_useState16","totalPrice","setTotalPrice","_useState17","_useState18","cutLengthPrice","setCutLengthPrice","_useState19","_useState20","hasSubmitted","setHasSubmitted","_useState21","_useState22","initialValidationDone","setInitialValidationDone","_useState23","_useState24","devModeActive","setDevModeActive","_useState25","_useState26","easterEggMessage","setEasterEggMessage","_useState27","_useState28","showEasterEgg","setShowEasterEgg","DynamicPriceDisplay","timer","focus","clearTimeout","num","parseInt","maxQuantity","isNaN","Array","allFilled","every","cut","emptyFields","newErrors","_toConsumableArray","forEach","test","validateQuantity","value","handleQuantitySubmit","calculatePrice","updateCutLength","updatedLengths","updatedErrors","lengthValue","numLength","allFieldsValid","idx","handleNext","animationConfig","isDevMode","qty","totalEnd1Price","totalEnd2Price","lengths","some","calculatedPrice","reduce","sum","handleInputSubmit","currentValue","hasErrors","TextInput","onChangeText","onSubmitEditing","onEndEditing","onBlur","blurOnSubmit","keyboardType","maxLength","returnKeyType","enterKeyHint","inputMode","autoComplete","el","placeholder","placeholderTextColor","onKeyPress","key","preventDefault","handleKeyPress","navigator","userAgent","MSStream","iosValidationContainer","iosValidationButton","_cutLengths$","_cutLengths$2","_cutLengths$3","_cutLengths$4","shouldShowNextButton","NextArrowButton","ProtectionTypeButton","protectionButton","selectedProtectionButton","protectionContent","protectionButtonText","contentRow","protectionImage","priceContainer","noImageContentCentered","PriceDisplay","hasProtection","titleFade","priceFade","pricingCard","pricingHeader","pricingValueContainer","pricingValue","subtitleContainer2","subtitleText2","noImageButton","noImageContent","noImagePlaceholder","noImageSubtext","leftColumn","rightColumn","priceSummaryContainer","priceRow","priceLabel","priceValue","protectionCost","pricingSection","marginBottom20","selectedProtection","setSelectedProtection","initialPrice","setInitialPrice","protectionPrice","setProtectionPrice","protectionTypes","PROTECTION_PRICE_MULTIPLIERS","navigateToNext","nextScreen","hoseProtectionPrice","protection","parallel","newPrice","hasTestingSelected","PressureButton","pressureButton","selectedPressureButton","pressureButtonText","selectedPressure","setSelectedPressure","pressureTestPrice","setPressureTestPrice","pressure","numberOfHoses","pressureTestTotalCost","buttonsContainer","handlePressureSelection","ShippingButton","shippingButton","selectedShippingButton","shippingContent","shippingButtonText","selectedPricingValueContainer","withShipping","selectedService","setSelectedService","setBasePrice","shippingPrice","setShippingPrice","receivedBasePrice","totalBeforeShipping","service","finalPrice","devPrice","shippingCost","totalPriceWithShipping","CartContext","createContext","cartItems","isCartVisible","addToCart","removeFromCart","clearCart","getCartTotal","getCartItemCount","useCart","useContext","CART_KEY","TIMESTAMP_KEY","CART_EXPIRY_MS","CartProvider","setCartItems","setIsCartVisible","isSyncingFromStorage","_cartData$items","storedCart","localStorage","getItem","storedTimestamp","sessionStorage","setItem","cartData","timestamp","age","now","itemCount","items","round","expired","removeItem","isArray","pwaItems","item","websiteItems","clearError","open","stringify","alert","handleWebsiteCartChange","event","storageItems","detail","currentItems","storageItemCount","currentItemCount","cartId","sort","join","shouldBeVisible","Provider","prevItems","newItem","newItems","concat","dispatchEvent","CustomEvent","total","globalCartButton","cartIconContainer","badge","badgeText","LabelItem","labelItem","labelText","BorderedItem","isCutLengths","borderedItem","cutLengthsLayout","cutLengthsContent","cutLengthsPriceBorder","itemText","NumberedCircle","number","numberedCircle","numberedCircleText","rowContainer","pdfContainer","pdfLogoContainer","pdfLogo","detailsBox","boxHeader","boxHeaderText","orderDetailsContainerPDF","cutLengthsContentWrapper","totalContainerPDF","totalLabelPDF","totalValuePDF","pdfFooter","pdfFooterText","TotalPriceDisplay","totalPriceContainer","totalPriceLabelItem","totalPriceLabelText","totalPriceValueContainer","totalPriceValueText","ShippingCostNotice","shippingNoticeContainer","shippingNoticeText","OrderDetailsSection","orderDetails","getTotalLength","cleanPriceString","orderDetailsContainer","details","push","Object","_ref6","_ref7","_ref8","label","content","_ref9","i","toUpperCase","replace","renderOrderDetails","priceStr","mainContentContainer","actionButtonsContainer","addToCartButton","placeNewOrderButton","buttonContent","buttonIcon","buttonText","flexShrink","successMessageContainer","successIcon","successMessageText","selectedModalButton","pdfLoadingOverlay","floatingPDFTestButton","pdfTestButtonText","showSuccessMessage","setShowSuccessMessage","buttonFadeAnim","messageFadeAnim","_useCart","selectedAction","setSelectedAction","currentOrderKey","currentOrderAddedToCart","setCurrentOrderAddedToCart","ADDED_ORDERS_KEY","selectedMethod","calculatePrices","baseHosePrice","protectionAmount","finalShippingCost","_useOrderPDFGeneratio","calculatePricesFromData","getTotalLengthFromData","isGeneratingPDF","setIsGeneratingPDF","currentOrderForPDF","setCurrentOrderForPDF","contentRef","_PDFGenerator","PDFGenerator","orderId","onGenerateStart","onGenerateComplete","_onGenerateComplete","pdfBuffer","_x","Alert","generatePDF","generateOrderPDF","orderSnapshot","silent","pdfBlob","Blob","reader","FileReader","onloadend","base64PDF","result","readAsDataURL","_x2","downloadAllCartPDFs","pdfDataUrl","base64Data","byteCharacters","atob","byteNumbers","j","charCodeAt","byteArray","Uint8Array","blob","url","URL","createObjectURL","link","href","download","body","click","removeChild","revokeObjectURL","renderOrderSummaryForPDF","orderData","orderTimestamp","totalLength","calculatedPrices","displayPrice","objectFit","alt","renderPDFContent","useOrderPDFGeneration","cutLengthsData","getAddedOrderKeys","stored","orderConfig","c","orderKey","isAlreadyAdded","isOrderKeyAdded","substring","end1","end2","hoseProtection","pressureTest","shippingMethod","shippingService","handleAddToCart","cartItem","stock","hasPDF","pdfSize","existingKeys","saveAddedOrderKey","displayTotalPrice","disabled","ActivityIndicator","location","STATES","requiredFieldsText","asterisk","formContainer","inputRow","labelContainer","inputContainer","input","pickerContainer","picker","proceedButton","proceedButtonText","devModeEasterEgg","devModeText","_React$useState","_React$useState2","setIsSelected","formSubmitAttempted","setFormSubmitAttempted","showDevModeEasterEgg","setShowDevModeEasterEgg","companyName","address","suburb","state","postcode","email","contactNumber","formFields","setFormFields","setTouchedFields","errors","setErrors","validateField","updateField","_defineProperty","renderInputField","inputModeValue","isOptional","additionalProps","currentFieldName","keys","handleInputBlur","fieldName","validateAllFields","Picker","selectedValue","onValueChange","itemValue","itemStyle","Item","shippingDetails","paypalContainer","unsupportedText","disabledOverlay","disabledText","amount","_ref$currency","currency","_ref$description","onApprove","onCancel","containerRef","sdkReady","setSdkReady","scriptAddedRef","checkSDK","paypal","handleSDKReady","initialTimeout","addPayPalScript","renderTimeout","innerHTML","Buttons","layout","createOrder","data","actions","order","purchase_units","currency_code","application_context","shipping_preference","user_action","capture","render","totalContainer","totalText","securePaymentText","shippingDetailsContainer","detailsGrid","gap","detailRow","detailLabel","detailValue","priceBreakdownContainer","priceDetailsGrid","loadingOverlay","statusContainer","cancelledContainer","statusTitle","statusMessage","retryButton","retryButtonText","newOrderButton","newOrderButtonText","paymentStatus","setPaymentStatus","errorMessage","setErrorMessage","calculateTotalBeforeShipping","end1Cost","end2Cost","cutLengthCost","calculatedSubtotal","subtotal","shippingAmount","gst","finalTotal","handlePayPalApprove","sdkData","orderID","internalOrderNumber","_route$params$shippin","_route$params2","_route$params2$shippi","_route$params3","_route$params3$shippi","_route$params4","emailTemplatesContent","customerEmailContent","businessEmailContent","payloadForBackend","payerID","orderNumber","userDetails","emailTemplates","originalOrderParams","_errorJson","errorJson","captureResult","json","success","transactionId","paypalCaptureID","message","handlePayPalCancel","handlePayPalError","handleRetryPayment","handleStartNewOrder","reset","routes","paymentContainer","PayPalButtonWrapper","paymentNote","overlay","overlayText","sendOrderEmail","orderDetailsFromConfirmation","_orderDetailsFromConf","API_BASE_URL","process","NEXT_PUBLIC_API_URL","SERVER_KEY","NEXT_PUBLIC_SERVER_KEY","priceBreakdown","calculatePriceBreakdown","priceBreakdownHTML","generatePriceBreakdownHTML","generateBusinessEmailContent","generateCustomerEmailContent","pdfBase64","pdfAttachment","ArrayBuffer","Buffer","isBuffer","from","warn","pdfError","payloadToSend","userEmail","responseText","errorMsg","parseError","shipping","_details$isOrderFitti","subtotalWithShipping","_parseFloat","calculatedCutLengthPrice","hosePriceStr","calcError","formatPrice","_orderDetails$userDet","_orderDetails$userDet2","_orderDetails$userDet3","_orderDetails$userDet4","_orderDetails$userDet5","_orderDetails$userDet6","_orderDetails$userDet7","_orderDetails$userDet8","_orderDetails$userDet9","_orderDetails$userDet10","_orderDetails$userDet11","_orderDetails$userDet12","successTitle","emailTitle","emailTitle2","highlightedEmail","totalLabel","totalValue","actionButton","bulletPoints","bulletPoint","tryAgainButton","tryAgainText","copyrightContainer","floatingDownloadButton","disabledButton","touchableArea","emailSent","setEmailSent","paymentId","setPriceBreakdown","calculatedBreakdown","_params$shippingCost","storedOrderData","parsedOrderData","setParams","search","backHandler","BackHandler","handlePlaceAnotherOrder","remove","autoGeneratePDF","_orderDetails$origina","modePrefix","dataToSendToEmailService","emailResult","stack","_orderDetails$origina2","handlePDFDownload","renderShippingDetails","renderOrderSummary","lengthInMeters","handlePhonePress","handleEmailPress","headerSection","statusBadge","statusText","section","totalRow","actionButtons","shareButton","shareButtonText","sectionContent","handleShareOrder","shareMessage","Share","share","renderSection","maxHeight","pdf","OrderPDF","toBlob","ScreenWrapper","opener","close","pathname","isSuccess","orderDataString","emptyCartContainer","emptyCartText","cartList","listContentContainer","cartItemContainer","cartItemHeader","cartItemHeaderText","removeButton","cartItemDetails","cartItemFooter","cartSummary","cartTotalContainer","cartTotalLabel","cartTotalValue","cartActions","clearCartButton","checkoutButton","continueShoppingButton","continueShoppingButtonText","FlatList","renderItem","keyExtractor","scrollEnabled","combinedCartData","cartTotal","fromCart","Font","register","family","fonts","Stack","createStackNavigator","useEnvLoader","navigationRef","SafeAreaProvider","NavigationContainer","onReady","urlParams","URLSearchParams","_navigationRef$curren","history","replaceState","Navigator","initialRouteName","Screen","component","WelcomeScreen","options","headerShown","HoseSelectionScreen","TrialScreen2","headerTransparent","headerBackground","FittingSelectionScreen","End1FittingScreen","BSPFittingScreen1","JICFittingScreen1","MetricFittingScreen1","OrfsScreen1","End2FittingScreen","BSPFittingScreen2","JICFittingScreen2","MetricFittingScreen2","OrfsScreen2","OrientationSelectionScreen","CutLengthsScreen","HoseProtectionScreen","PressureTestingScreen","ShippingOptionsScreen","OrderConfirmationScreen1","ShippingDetailsScreen","PaymentScreen","OrderConfirmationScreen","headerLeft","OrderDetailsScreen","headerBackTitle","OrderDetailsScreen1","PaymentSuccessPage","PaymentReturnScreen","CartScreen","_ref3$silent","element","canvas","html2canvas","useCORS","logging","imgData","toDataURL","jsPDF","orientation","format","addImage","output","filename","pdfUrl","crypto","randomUUID","r","random","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","splice","n","getter","__esModule","a","leafPrototypes","getProto","getPrototypeOf","obj","t","mode","this","ns","def","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","f","chunkId","all","promises","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","doneFns","parentNode","bind","target","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}