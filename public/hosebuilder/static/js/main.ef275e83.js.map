{"version":3,"file":"static/js/main.ef275e83.js","mappings":"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","sources":["components/ScrollableGradientWrapper.js","screens/WelcomeScreen.js","screens/NextArrowButton.js","screens/HoseSelectionScreen.js","screens/FittingSelectionScreen.js","screens/End1FittingScreen.js","screens/BSPFittingScreen1.js","screens/JICFittingScreen1.js","screens/MetricFittingScreen1.js","screens/OrfsScreen1.js","screens/End2FittingScreen.js","screens/BSPFittingScreen2.js","screens/JICFittingScreen2.js","screens/MetricFittingScreen2.js","screens/OrfsScreen2.js","screens/OrientationSelectionScreen.js","screens/CutLengthsScreen.js","screens/HoseProtectionScreen.js","screens/PressureTestingScreen.js","screens/ShippingOptionsScreen.js","screens/OrderConfirmationScreen1.js","screens/ShippingDetailsScreen.js","components/PayPal/PayPalWeb.js","components/PayPal/PayPalNative.js","components/PayPal/PayPalWebView.js","screens/PaymentScreen.js","components/PDFGenerator/index.js","utils/emailService.js","screens/OrderConfirmationScreen.js","screens/ScrollTestScreen.js","screens/TrialScreen2.js","screens/OrderDetailsScreen.js","components/ScreenWrapper.js","screens/OrderDetailsScreen1.js","components/PaymentSuccessPage.js","App.js","components/PDFGenerator/WebPDFGenerator.js","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["// components/ScrollableGradientWrapper.js\nimport React, { useEffect, useRef } from 'react';\nimport { View, Platform } from 'react-native';\n\nconst ScrollableGradientWrapper = ({ children, style }) => {\n  const wrapperRef = useRef(null);\n  const gradientRef = useRef(null);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const checkScroll = () => {\n        if (!wrapperRef.current || !gradientRef.current) return;\n\n        const wrapper = wrapperRef.current;\n        const scrollableDistance = wrapper.scrollHeight - wrapper.clientHeight;\n        const currentScroll = wrapper.scrollTop;\n        const isScrollable = scrollableDistance > 0;\n        const isAtBottom = Math.ceil(currentScroll) >= Math.floor(scrollableDistance);\n\n        // Show/hide gradient\n        if (gradientRef.current) {\n          gradientRef.current.style.opacity = (isScrollable && !isAtBottom) ? '1' : '0';\n        }\n\n        // Debug info\n        console.log('Scroll Debug:', {\n          scrollHeight: wrapper.scrollHeight,\n          clientHeight: wrapper.clientHeight,\n          scrollTop: wrapper.scrollTop,\n          isScrollable,\n          isAtBottom,\n          scrollableDistance,\n          currentScroll\n        });\n      };\n\n      // Create ResizeObserver to monitor content size changes\n      const resizeObserver = new ResizeObserver((entries) => {\n        checkScroll();\n      });\n\n      // Initial checks with multiple timings\n      const initialChecks = () => {\n        checkScroll();\n        setTimeout(checkScroll, 100);\n        setTimeout(checkScroll, 500);\n        setTimeout(checkScroll, 1000);\n      };\n\n      if (wrapperRef.current) {\n        // Observe size changes\n        resizeObserver.observe(wrapperRef.current);\n        \n        // Add scroll listener\n        wrapperRef.current.addEventListener('scroll', checkScroll);\n        \n        // Watch for content changes\n        const mutationObserver = new MutationObserver(initialChecks);\n        mutationObserver.observe(wrapperRef.current, {\n          childList: true,\n          subtree: true\n        });\n\n        // Initial check\n        initialChecks();\n      }\n\n      // Handle window resize\n      window.addEventListener('resize', checkScroll);\n\n      // Cleanup\n      return () => {\n        if (wrapperRef.current) {\n          wrapperRef.current.removeEventListener('scroll', checkScroll);\n        }\n        resizeObserver.disconnect();\n        window.removeEventListener('resize', checkScroll);\n      };\n    }\n  }, []);\n\n  if (Platform.OS === 'web') {\n    return (\n      <div\n        ref={wrapperRef}\n        style={{\n          height: '100vh',\n          overflowY: 'auto',\n          position: 'relative',\n          backgroundColor: 'white',\n          ...style,\n          isolation: 'isolate',\n        }}\n      >\n        <div style={{ \n          minHeight: '100%',\n          paddingBottom: '100px',\n          position: 'relative',\n          zIndex: 1\n        }}>\n          {children}\n        </div>\n        <div \n          ref={gradientRef}\n          style={{\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            height: '120px',\n            background: 'linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 30%, rgba(255, 255, 255, 1) 100%)',\n            pointerEvents: 'none',\n            zIndex: 2,\n            transition: 'opacity 0.3s ease',\n            opacity: '0'\n          }} \n        />\n      </div>\n    );\n  }\n\n  return <View style={style}>{children}</View>;\n};\n\nexport default ScrollableGradientWrapper;","import React, { useRef, useEffect, useState } from 'react';\r\nimport { View, Text, StyleSheet, Image, TouchableOpacity, Animated, SafeAreaView, Modal } from 'react-native';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\n\r\nconst WelcomeScreen = ({ navigation }) => {\r\n  const fadeAnim = useRef(new Animated.Value(1)).current;\r\n  const [showSelectionModal, setShowSelectionModal] = useState(false);\r\n  const modalFadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [selectedButton, setSelectedButton] = useState(null);\r\n\r\n  const handleStartSelection = () => {\r\n    setShowSelectionModal(true);\r\n    Animated.timing(modalFadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n\r\n  const handleBuildHose = () => {\r\n    setSelectedButton('build');\r\n    Animated.timing(modalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowSelectionModal(false);\r\n      setSelectedButton(null);\r\n      navigation.navigate('HoseSelection', { isHoseOnly: false });\r\n    });\r\n  };\r\n  \r\n  const handleHoseOnly = () => {\r\n    setSelectedButton('hoseOnly');\r\n    Animated.timing(modalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowSelectionModal(false);\r\n      setSelectedButton(null);\r\n      navigation.navigate('HoseSelection', { isHoseOnly: true });\r\n    });\r\n  };\r\n  \r\n  const handleOrderFitting = () => {\r\n    setSelectedButton('order');\r\n    Animated.timing(modalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowSelectionModal(false);\r\n      setSelectedButton(null); // Reset selection\r\n      navigation.navigate('End1Fitting', {\r\n        selectedHose: null,\r\n        selectedHosePrice: null,\r\n        isOrderFittingMode: true \r\n       });\r\n    });\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    Animated.timing(modalFadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowSelectionModal(false);\r\n      setSelectedButton(null);\r\n    });\r\n  };\r\n\r\n  const fadeIn = () => {\r\n    fadeAnim.setValue(0);\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      fadeIn();\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [])\r\n  );\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n          source={require('../assets/fluidpower_logo.gif')}\r\n          style={styles.logo}\r\n          resizeMode=\"contain\"\r\n        />\r\n      </View>\r\n      <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n        <View style={styles.titleContainer}>\r\n          <Text style={styles.title}>Hydraulic Hose Builder</Text>\r\n        </View>\r\n\r\n        <View style={styles.messageContainer}>\r\n          <Text style={styles.messageText}>\r\n            You are just a <Text style={styles.highlightText}>FEW</Text> steps away from\r\n          </Text>\r\n          <Text style={styles.messageText}>\r\n            <Text style={styles.highlightText}>CREATING</Text> your <Text style={styles.highlightText}>OWN HYDRAULIC HOSE</Text>\r\n          </Text>\r\n        </View>\r\n\r\n        <View style={styles.imageContainer}>\r\n          <Image\r\n            source={require('../assets/welcome_hose.png')}\r\n            style={styles.hoseImage}\r\n            resizeMode=\"contain\"\r\n          />\r\n        </View>\r\n\r\n        <View style={styles.instructionsContainer}>\r\n          <Text style={styles.instructionsText}>\r\n            Select the Hose Size, End Fittings,\r\n          </Text>\r\n          <Text style={styles.instructionsText}>\r\n            Cut Length, and Shipping Method.\r\n          </Text>\r\n          \r\n          <Text style={[styles.instructionsText, styles.spacedText]}>\r\n            We will crimp and ship it the <Text style={styles.highlightText}>SAME DAY</Text>*.\r\n          </Text>\r\n          \r\n          <Text style={[styles.instructionsText, styles.spacedText]}>\r\n            You're all set!\r\n          </Text>\r\n          \r\n          <Text style={[styles.instructionsText, styles.spacedText]}>\r\n            Let's get started.\r\n          </Text>\r\n        </View>\r\n\r\n        <TouchableOpacity\r\n          style={styles.startButton}\r\n          onPress={handleStartSelection}\r\n        >\r\n          <Text style={styles.startButtonText}>START SELECTION</Text>\r\n        </TouchableOpacity>\r\n\r\n        <View style={styles.asteriskContainer}>\r\n          <Text style={styles.asteriskText}>\r\n            *<Text style={styles.highlightText}>CUT OFF</Text> time for <Text style={styles.highlightText}>SAME DAY</Text> shipping is <Text style={styles.highlightText}>1530</Text> hrs AEST.\r\n          </Text>\r\n            <Text style={styles.enquiryText}>\r\n              For any and all enquires email: info@fluidpowergroup.com.au\r\n            </Text>\r\n          <Text style={styles.copyrightText}>\r\n             FluidPower Group All Rights Reserved {new Date().getFullYear()}\r\n          </Text>\r\n        </View>\r\n        </Animated.View>\r\n      </SafeAreaView>\r\n    </ScrollableGradientWrapper>\r\n              <Modal\r\n            transparent={true}\r\n            visible={showSelectionModal}\r\n            onRequestClose={handleCloseModal}\r\n          >\r\n            <View style={styles.modalOverlay}>\r\n              <TouchableOpacity \r\n                style={styles.overlayBackground}\r\n                activeOpacity={1}\r\n                onPress={handleCloseModal}\r\n              />\r\n              <Animated.View style={[styles.selectionContainer, { opacity: modalFadeAnim }]}>\r\n                <Text style={styles.selectionTitle}>You are here to</Text>\r\n                \r\n                <TouchableOpacity\r\n                  style={[\r\n                    styles.selectionButton,\r\n                    selectedButton === 'hoseOnly' && styles.selectedButton\r\n                  ]}\r\n                  onPress={handleHoseOnly}\r\n                >\r\n                  <Text style={styles.selectionButtonText}>Order Hose Only</Text>\r\n                </TouchableOpacity>\r\n\r\n                <TouchableOpacity\r\n                  style={[\r\n                    styles.selectionButton,\r\n                    selectedButton === 'order' && styles.selectedButton\r\n                  ]}\r\n                  onPress={handleOrderFitting}\r\n                >\r\n                  <Text style={styles.selectionButtonText}>Order Fitting Only</Text>\r\n                </TouchableOpacity>\r\n\r\n                <TouchableOpacity\r\n                  style={[\r\n                    styles.selectionButton,\r\n                    selectedButton === 'build' && styles.selectedButton\r\n                  ]}\r\n                  onPress={handleBuildHose}\r\n                >\r\n                  <Text style={styles.selectionButtonText}>Build Complete Hose</Text>\r\n                </TouchableOpacity>\r\n\r\n              </Animated.View>\r\n            </View>\r\n        </Modal>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    paddingBottom: 30,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    paddingBottom: 15,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 15,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 25,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  messageContainer: {\r\n    alignItems: 'center',\r\n    marginVertical: 10,\r\n  },\r\n  messageText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n    marginVertical: 2,\r\n  },\r\n  highlightText: {\r\n    color: '#ffc100',\r\n    fontWeight: 'bold',\r\n    fontSize: 20,\r\n  },\r\n  imageContainer: {\r\n    marginVertical: 20,\r\n    alignItems: 'center',\r\n    paddingBottom: 10,\r\n  },\r\n  hoseImage: {\r\n    width: 300,\r\n    height: 300,\r\n  },\r\n  instructionsContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  instructionsText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n    lineHeight: 28,\r\n    textAlign: 'center',\r\n  },\r\n  spacedText: {\r\n    marginTop: 25,\r\n  },\r\n  startButton: {\r\n    backgroundColor: '#ffc100',\r\n    paddingHorizontal: 30,\r\n    paddingVertical: 15,\r\n    borderRadius: 20,\r\n    marginTop: 20,\r\n    marginBottom: 40,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n},\r\n  startButtonText: {\r\n    color: '#4a4a4a',\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n  },\r\n  asteriskContainer: {\r\n    position: 'relative',\r\n    marginTop: 20,\r\n    marginBottom: 30, // Adjust this value to move the text up or down\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  asteriskText: {\r\n    fontSize: 18,\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  copyrightText: {\r\n    fontSize: 16,\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n    marginTop: 8,\r\n    fontStyle: 'italic',\r\n    opacity: 0.8,\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    position: 'relative', \r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n  },\r\n  selectionContainer: {\r\n    position: 'relative', \r\n    width: '80%',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n    borderRadius: 25,\r\n    padding: 20,\r\n    alignItems: 'center',\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectionTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n  },\r\n  selectionButton: {\r\n    minWidth: 200, // Set a minimum width\r\n    alignSelf: 'center', // Center the button\r\n    backgroundColor: 'white', // Default white background\r\n    paddingHorizontal: 30,\r\n    paddingVertical: 15,\r\n    borderRadius: 25,\r\n    marginVertical: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  selectionButtonText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  enquiryText: {\r\n    fontSize: 16,\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n    marginTop: 8,\r\n    marginBottom: 8,\r\n  },\r\n});\r\n\r\nexport default WelcomeScreen;","import React from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\r\n\r\nconst NextArrowButton = ({ onPress, isActive }) => {\r\n  return (\r\n    <TouchableOpacity onPress={onPress} activeOpacity={0.7}>\r\n      <View style={[styles.button, isActive && styles.buttonActive]}>\r\n        <Text style={[styles.text, isActive && styles.textActive]}>NEXT</Text>\r\n        <View style={[styles.arrow, isActive && styles.arrowActive]} />\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  button: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    backgroundColor: 'white',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 20,\r\n    paddingRight: 40, // Space for arrow\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  text: {\r\n    color: 'black',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n  },\r\n  arrow: {\r\n    width: 0,\r\n    height: 0,\r\n    marginLeft: 10,\r\n    borderTopWidth: 10,\r\n    borderBottomWidth: 10,\r\n    borderLeftWidth: 15,\r\n    borderTopColor: 'transparent',\r\n    borderBottomColor: 'transparent',\r\n    borderLeftColor: 'black',\r\n  },\r\n  buttonActive: {\r\n    backgroundColor: '#4a4a4a',\r\n  },\r\n  textActive: {\r\n    color: 'white',\r\n  },\r\n  arrowActive: {\r\n    borderLeftColor: 'white',\r\n  },\r\n});\r\n\r\nexport default NextArrowButton;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Dimensions, ScrollView, Image, SafeAreaView, Platform, Animated} from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport NextArrowButton from './NextArrowButton';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400;\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\r\n\r\nconst HoseSizeButton = ({ size, insideDiameter, specs, hosePrice, onPress, isSelected }) => (  // Changed 'price' to 'hosePrice'\r\n  <View style={styles.buttonContainer}>\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={styles.sizeContent}>\r\n        <Text style={styles.sizeButtonText}>{size}</Text>\r\n        <Text style={styles.sizeDescription}>Inside Diameter: {insideDiameter}</Text>\r\n        <View style={styles.hoseImageContainer}>\r\n          <Image\r\n            source={require('../assets/hose_cross_section.png')}\r\n            style={styles.hoseCrossSection}\r\n            resizeMode=\"contain\"\r\n          />\r\n          <Image\r\n            source={require('../assets/hose_image.png')}\r\n            style={styles.hoseImage}\r\n            resizeMode=\"contain\"\r\n          />\r\n        </View>\r\n        <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A${hosePrice}</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n    <View style={styles.specsContainer}>\r\n      {specs.map((spec, index) => (\r\n        <Text key={index} style={styles.specText}>• {spec}</Text>\r\n      ))}\r\n    </View>\r\n  </View>\r\n);\r\n\r\nconst HoseSelectionScreen = ({ route }) => {  // Add route here\r\n  const navigation = useNavigation();\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const [selectedHosePrice, setSelectedHosePrice] = useState(null);\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const { isHoseOnly } = route.params || { isHoseOnly: false };\r\n\r\n  const hoseSizes = [ //below we are providing different text values to the constant\r\n    { \r\n      size: '1/4\"', \r\n      insideDiameter: '1/4 Inch',\r\n      hosePrice: '  16.50/meter',\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 6525psi',\r\n        'Burst Pressure: 26,100psi',\r\n        'Bend Radius: 50mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '3/8\"', \r\n      insideDiameter: '3/8 Inch',\r\n      hosePrice: '  18.50/meter',\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 5438psi',\r\n        'Burst Pressure: 21,752psi',\r\n        'Bend Radius: 75mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '1/2\"', \r\n      insideDiameter: '1/2 Inch',\r\n      hosePrice: '  22.50/meter',\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 4495psi',\r\n        'Burst Pressure: 17,980psi',\r\n        'Bend Radius: 100mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '5/8\"', \r\n      insideDiameter: '5/8 Inch',\r\n      hosePrice: '  28.50/meter',\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 4350psi',\r\n        'Burst Pressure: 17,400psi',\r\n        'Bend Radius: 130mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '3/4\"', \r\n      insideDiameter: '3/4 Inch',\r\n      hosePrice: '  36.50/meter',\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 4162psi',\r\n        'Burst Pressure: 16,675psi',\r\n        'Bend Radius: 200mm'\r\n      ]\r\n    },\r\n    { \r\n      size: '1\"', \r\n      insideDiameter: '1 Inch',\r\n      hosePrice: '  48.50/meter',\r\n      specs: [\r\n        'Two Wire Steel Braided EN 857 2SC',\r\n        'Working Pressure: 3263psi',\r\n        'Burst Pressure: 13,050psi',\r\n        'Bend Radius: 250mm'\r\n      ]\r\n    },\r\n  ];\r\n\r\n  const handleSizeSelection = (size, hosePrice) => {\r\n    setSelectedSize(size);\r\n    // Clean the price string by removing extra spaces and \"/meter\"\r\n    const cleanPrice = hosePrice.trim().split('/')[0].trim();\r\n    setSelectedHosePrice(cleanPrice);\r\n  \r\n    // Start fade-out animation\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      if (isHoseOnly) {\r\n        // Navigate to CutLengths with exact same parameter structure as original handleHoseOnly\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: { \r\n            size: size,  // Using selectedSize instead of size to match original\r\n          },\r\n          selectedHosePrice: cleanPrice, // Using selectedHosePrice from state to match original\r\n          isHoseOnly: true\r\n        });\r\n      } else {\r\n        // Navigate to End1Fitting with exact same parameter structure as original handleNext\r\n        navigation.navigate('End1Fitting', {\r\n          selectedHose: { \r\n            size: size,  // Using selectedSize instead of size to match original\r\n          },\r\n          selectedHosePrice: cleanPrice // Using selectedHosePrice from state to match original\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Fade in animation when the component mounts\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  }, []);\r\n\r\n  // Reset fade-in when screen comes into focus\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      //setSelectedSize(null);\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: true,\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\nreturn (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n          style={styles.floatingBackButton}\r\n          onPress={() => navigation.goBack()}\r\n        >\r\n          <Text style={styles.backButtonText}>←</Text>\r\n        </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          \r\n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n            <ScrollView \r\n              style={styles.mainScrollView}\r\n              contentContainerStyle={styles.mainScrollViewContent}\r\n              showsVerticalScrollIndicator={true}\r\n            >\r\n              <View style={styles.titleContainer}>\r\n                <Text style={styles.title}>Select Hose Size</Text>\r\n              </View>\r\n              <View style={styles.scrollViewContent}>\r\n                {hoseSizes.map((hose, index) => (\r\n                  <HoseSizeButton\r\n                    key={index}\r\n                    size={hose.size}\r\n                    insideDiameter={hose.insideDiameter}\r\n                    specs={hose.specs}\r\n                    hosePrice={hose.hosePrice}\r\n                    onPress={() => handleSizeSelection(hose.size, hose.hosePrice)}\r\n                    isSelected={selectedSize === hose.size}\r\n                  />\r\n                ))}\r\n              </View>\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n  \r\n      {/*\r\n      {selectedSize && (\r\n        <View style={styles.viewportFooter}>\r\n          <Animated.View style={[styles.footerContent, { opacity: fadeAnim }]}>\r\n            <View style={styles.footerLeft} />\r\n            <View style={styles.footerCenter}>\r\n              <TouchableOpacity style={styles.hoseOnlyButton} onPress={handleHoseOnly}>\r\n                <Text style={styles.hoseOnlyButtonText}>HOSE ONLY</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.footerRight}>\r\n              <NextArrowButton onPress={handleNext} isActive={true} />\r\n            </View>\r\n          </Animated.View>\r\n        </View>\r\n      )}\r\n        */}\r\n    </View>\r\n  );\r\n};\r\n\r\n\r\nconst styles = StyleSheet.create({ //creating all the design elements\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    //minHeight: '100%',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  mainScrollView: {\r\n    flex: 1,\r\n  },\r\n  mainScrollViewContent: {\r\n    flexGrow: 1,\r\n    paddingBottom: 20,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,  // Adjust this value to match your original logo size\r\n    height: 200,  // Adjust this value to match your original logo size\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 15,\r\n    marginTop: 10,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 25,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n    paddingBottom: 20,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'flex-start',\r\n    marginBottom: 10,\r\n    width: '100%',\r\n    maxWidth: 600,\r\n  },\r\n  sizeButton: {\r\n    width: 250, // Fixed width for the button\r\n    height: 160, // Fixed height for the button\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 30,\r\n    overflow: 'hidden',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'transparent',\r\n    paddingBottom: 10,\r\n    marginBottom: 15,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  sizeContent: {\r\n    alignItems: 'center',\r\n  },\r\n  innerContainer: {\r\n    alignItems: 'center',\r\n  },\r\n  selectedInnerContainer: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  selectedInnerContainer: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: 5,\r\n  },\r\n  sizeDescription: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n  },\r\n  hoseImageContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  hoseCrossSection: {\r\n    width: 40,\r\n    height: 40,\r\n    marginRight: 10,\r\n  },\r\n  hoseImage: {\r\n    width: 80,\r\n    height: 40,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 5,\r\n    marginTop: 5,\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  specsContainer: {\r\n    width: 250, // Adjust this value to change specs width\r\n    marginLeft: 15,\r\n  },\r\n  specText: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    marginBottom: 3,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  floatingFooter: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    backgroundColor: 'white',\r\n    borderTopWidth: 1,\r\n    borderTopColor: 'rgba(0, 0, 0, 0.1)',\r\n    // Add shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: -2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  viewportFooter: {\r\n    position: 'absolute',\r\n    bottom: Platform.OS === 'ios' ? 40 : 20,\r\n    left: 0,\r\n    right: 0,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)', // semi-transparent white background\r\n    paddingVertical: 10,\r\n    marginHorizontal: 10,\r\n    borderRadius: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n    // Add these new properties:\r\n    overflow: 'visible', // Ensures shadow isn't clipped\r\n    elevation: Platform.OS === 'android' ? 24 : 0, // Higher elevation for Android\r\n  },\r\n  footerContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  hoseOnlyButton: {\r\n    backgroundColor: '#4a4a4a',\r\n    padding: 12,\r\n    borderRadius: 20,\r\n    alignSelf: 'center',\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  hoseOnlyButtonText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default HoseSelectionScreen; //exports the output generated by the code to the App.js file","// FittingSelectionScreen.js\r\nimport React, { useState } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nconst FittingSelectionScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const { selectedHose } = route.params;\r\n  const [selectedFitting, setSelectedFitting] = useState(null);\r\n\r\n  const fittings = [\r\n    { type: 'JIC 37°', shapes: ['Male Straight', 'Female Straight', '45° Female Elbow', '90° Female Elbow'] },\r\n    { type: 'BSP 60°', shapes: ['Male Straight', 'Female Straight', '45° Female Elbow', '90° Female Elbow'] },\r\n    { type: 'Metric Light 24°', shapes: ['Male Straight', 'Female Straight', '45° Female Elbow', '90° Female Elbow'] },\r\n    { type: 'O.R.F.S', shapes: ['Male Straight', 'Female Straight', '45° Female Elbow', '90° Female Elbow'] },\r\n  ];\r\n\r\n  const handleSelection = (fitting) => {\r\n    setSelectedFitting(fitting);\r\n    // Add animation logic here if desired\r\n    setTimeout(() => {\r\n      navigation.navigate('Summary', { selectedHose, selectedFitting });\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <ScrollView contentContainerStyle={styles.container}>\r\n      <Text style={styles.title}>Select Fitting Type</Text>\r\n      <Text style={styles.subtitle}>For Hose Size: {selectedHose.size}</Text>\r\n      {fittings.map((fitting) => (\r\n        <View key={fitting.type}>\r\n          <Text style={styles.fittingType}>{fitting.type}</Text>\r\n          {fitting.shapes.map((shape) => (\r\n            <TouchableOpacity\r\n              key={shape}\r\n              style={[styles.fittingOption, selectedFitting === `${fitting.type} - ${shape}` && styles.selectedOption]}\r\n              onPress={() => handleSelection(`${fitting.type} - ${shape}`)}\r\n            >\r\n              <Text style={styles.fittingShape}>{shape}</Text>\r\n            </TouchableOpacity>\r\n          ))}\r\n        </View>\r\n      ))}\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flexGrow: 1,\r\n    padding: 20,\r\n    backgroundColor: '#fff',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n  },\r\n  fittingType: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    marginTop: 20,\r\n    marginBottom: 10,\r\n  },\r\n  fittingOption: {\r\n    borderWidth: 1,\r\n    borderColor: '#FFA500',\r\n    borderRadius: 10,\r\n    padding: 15,\r\n    marginBottom: 10,\r\n  },\r\n  selectedOption: {\r\n    backgroundColor: '#FFF7E6',\r\n  },\r\n  fittingShape: {\r\n    fontSize: 16,\r\n  },\r\n});\r\n\r\nexport default FittingSelectionScreen;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated, Modal, TouchableWithoutFeedback } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400;\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\r\n\r\nconst FittingTypeButton = ({ type, description, onPress, isSelected, onHelpPress }) => (\r\n  <TouchableOpacity \r\n    style={[styles.fittingButton, isSelected && styles.selectedFittingButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.fittingContent}>\r\n      <Text style={styles.fittingButtonText}>{type}</Text>\r\n      <Text style={styles.fittingDescription}>{description}</Text>\r\n    </View>\r\n    <TouchableOpacity style={styles.helpIcon} onPress={onHelpPress}>\r\n      <Text style={styles.helpIconText}>?</Text>\r\n    </TouchableOpacity>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst End1FittingScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedFitting, setSelectedFitting] = useState(null);\r\n  const { selectedHose, selectedHosePrice, isOrderFittingMode } = route.params;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false);\r\n  const [currentHelpImage, setCurrentHelpImage] = useState(null);\r\n  const helpFadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const fittingTypes = [\r\n    { type: 'BSP 60°', description: 'British Standard Pipe', helpImage: require('../assets/bsp_help.png') },\r\n    { type: 'JIC 37°', description: 'Joint Industrial Council', helpImage: require('../assets/jic_help.png') },\r\n    { type: 'METRIC LIGHT 24°', description: 'Cone O-Ring', helpImage: require('../assets/metric_help.png') },\r\n    { type: 'O.R.F.S', description: 'O-Ring Flat Seal', helpImage: require('../assets/orfs_help.png') },\r\n  ];\r\n\r\n  useEffect(() => {\r\n        // Fade in animation when the component mounts\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  }, []);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      // Reset the selection and fade in when the screen comes into focus\r\n      //setSelectedFitting(null);\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n const handleFittingSelection = (type) => {\r\n  setSelectedFitting(type);\r\n  \r\n  Animated.timing(fadeAnim, {\r\n    toValue: 0,\r\n    duration: 800,\r\n    useNativeDriver: true,\r\n  }).start(() => {\r\n    // Set default values for order fitting mode\r\n    const defaultHose = {\r\n      size: '1/4\"',  // Default size that ensures compatibility\r\n      // Add any other required hose properties with safe default values\r\n    };\r\n    \r\n    // Common parameters that will be passed in both modes\r\n    const baseParams = {\r\n      selectedFitting: { type },\r\n      isOrderFittingMode: isOrderFittingMode,\r\n      // Always include these parameters but use real or default values\r\n      selectedHose: isOrderFittingMode ? defaultHose : selectedHose,\r\n      selectedHosePrice: isOrderFittingMode ? '0' : selectedHosePrice  // Default price as '0'\r\n    };\r\n\r\n    // Switch statement uses baseParams directly\r\n    switch (type) {\r\n      case 'BSP 60°':\r\n        navigation.navigate('BSPFittingScreen1', baseParams);\r\n        break;\r\n      case 'JIC 37°':\r\n        navigation.navigate('JICFittingScreen1', baseParams);\r\n        break;\r\n      case 'METRIC LIGHT 24°':\r\n        navigation.navigate('MetricFittingScreen1', baseParams);\r\n        break;\r\n      case 'O.R.F.S':\r\n        navigation.navigate('OrfsScreen1', baseParams);\r\n        break;\r\n      default:\r\n        console.log('Selected Hose:', selectedHose);\r\n        console.log('Selected Fitting:', type);\r\n    }\r\n  });\r\n};\r\n\r\n  const handleHelpPress = (helpImage) => {\r\n    setCurrentHelpImage(helpImage);\r\n    setShowHelpOverlay(true);\r\n    helpFadeAnim.setValue(0);\r\n    Animated.timing(helpFadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n\r\n  const closeHelpOverlay = () => {\r\n    Animated.timing(helpFadeAnim, {\r\n      toValue: 0,\r\n      duration: 300,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowHelpOverlay(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n           {/* Add Floating Back Button here */}\r\n           <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Text style={styles.backButtonText}>←</Text>\r\n      </TouchableOpacity>\r\n      <View style={styles.logoContainer}>\r\n        <Image\r\n          source={require('../assets/fluidpower_logo.gif')}\r\n          style={styles.logo}\r\n          resizeMode=\"contain\"\r\n        />\r\n      </View>\r\n      \r\n      <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n        <View style={styles.titleContainer}>\r\n          <View style={styles.titleWrapper}>\r\n            {isOrderFittingMode ? (\r\n              // When isOrderFittingMode is true\r\n              <Text style={styles.titleText}>Select Thread Type</Text>\r\n            ) : (\r\n              // Original title with circle when isOrderFittingMode is false\r\n              <>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>1</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </>\r\n            )}\r\n          </View>\r\n        </View>\r\n      \r\n      {/* Conditional rendering for diagram with spacing compensation */}\r\n      {isOrderFittingMode ? (\r\n        <View style={styles.diagramSpacing} />\r\n      ) : (\r\n        <Image\r\n          source={require('../assets/end1_thread_diagram.png')}\r\n          style={styles.diagram}\r\n          resizeMode=\"contain\"\r\n        />\r\n      )}\r\n        \r\n        <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\r\n          {fittingTypes.map((fitting, index) => (\r\n            <FittingTypeButton\r\n              key={index}\r\n              type={fitting.type}\r\n              description={fitting.description}\r\n              onPress={() => handleFittingSelection(fitting.type)}\r\n              isSelected={selectedFitting === fitting.type}\r\n              onHelpPress={() => handleHelpPress(fitting.helpImage)}\r\n            />\r\n          ))}\r\n        </ScrollView>\r\n      </Animated.View>\r\n\r\n      <Modal\r\n        transparent={true}\r\n        visible={showHelpOverlay}\r\n        onRequestClose={closeHelpOverlay}\r\n      >\r\n        <TouchableWithoutFeedback onPress={closeHelpOverlay}>\r\n          <View style={styles.modalOverlay}>\r\n            <View style={styles.overlayBackground} />\r\n            <Animated.View style={[styles.helpImageContainer, { opacity: helpFadeAnim }]}>\r\n              <TouchableOpacity \r\n                style={styles.closeButton}\r\n                onPress={closeHelpOverlay}\r\n              >\r\n                <Text style={styles.closeButtonText}>×</Text>\r\n              </TouchableOpacity>\r\n              <Image\r\n                source={currentHelpImage}\r\n                style={styles.helpImage}\r\n                resizeMode=\"contain\"\r\n              />\r\n            </Animated.View>\r\n          </View>\r\n        </TouchableWithoutFeedback>\r\n      </Modal>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignSelf: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    marginTop: 30,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 25,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  diagram: {\r\n    width: '100%',\r\n    height: 200,\r\n    marginVertical: 20,\r\n  },\r\n  diagramSpacing: {\r\n    height: 80, // Adjust this value to match your desired spacing\r\n    marginVertical: 20, // Keeping the same margins as the diagram\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n    paddingBottom: 20,\r\n  },\r\n  fittingButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    overflow: 'hidden',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedFittingButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  fittingContent: {\r\n    padding: 15,\r\n  },\r\n  fittingButtonText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n  },\r\n  fittingDescription: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  helpIcon: {\r\n    position: 'absolute',\r\n    top: 5,\r\n    right: 5,\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  helpIconText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n  },\r\n  helpImageContainer: {\r\n    width: '80%',\r\n    height: '80%',\r\n  },\r\n  helpImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: -20,\r\n    right: -20,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#4a4a4a',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  closeButtonText: {\r\n    color: 'white',\r\n    fontSize: 35,\r\n    textAlign: 'center',\r\n    alignSelf: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default End1FittingScreen;","import React, { useState, useRef, useCallback } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400; // Maximum width for each column\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8); // Button width, capped at 320\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 1.1).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n    <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={styles.sizeButtonContent}>\r\n        <View style={styles.sizeTextContainer}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst BSPFittingScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const shapes = [\r\n    { name: 'BSP Male Straight Tapered', image: require('../assets/bsp_male_straight_tapered.png') },\r\n    { name: 'BSP Male Straight Parallel', image: require('../assets/bsp_male_straight_parallel.png') },\r\n    { name: 'BSP Female Straight', image: require('../assets/bsp_female_straight.png') },\r\n    { name: 'BSP Female 45°', image: require('../assets/bsp_female_45.png') },\r\n    { name: 'BSP Female 90°', image: require('../assets/bsp_female_90.png') },\r\n    { name: 'BSP Banjo', image: require('../assets/bsp_banjo.png') }\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = [\r\n    { size: '1/8\" - 28', basePrice: 4.00 },\r\n    { size: '1/4\" - 19', basePrice: 6.50 },\r\n    { size: '3/8\" - 19', basePrice: 8.50 },\r\n    { size: '1/2\" - 14', basePrice: 12.50 },\r\n    { size: '3/4\" - 14', basePrice: 16.50 },\r\n    { size: '1\" - 11', basePrice: 26.50 }\r\n  ];\r\n\r\n  // Define the compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['1/8\"', '1/4\"', '3/8\"'],\r\n    '3/8\"': ['1/4\"', '3/8\"', '1/2\"'],\r\n    '1/2\"': ['3/8\"', '1/2\"', '3/4\"'],\r\n    '5/8\"': ['1/2\"', '3/4\"'],\r\n    '3/4\"': ['3/4\"', '1\"'],\r\n    '1\"': ['1\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (isOrderFittingMode || !selectedHose || !selectedHose.size) {\r\n      // If it's order fitting mode OR no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        fadeAnim.setValue(0);\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n\r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n    {/* Floating Back Button */}\r\n    <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Text style={styles.backButtonText}>←</Text>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\r\n          <View style={styles.titleContainer}>\r\n            <View style={styles.titleWrapper}>\r\n              {isOrderFittingMode ? (\r\n                <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n              ) : (\r\n                <>\r\n                  <Text style={styles.titleText}>Select END </Text>\r\n                  <View style={styles.circleWrapper}>\r\n                    <Text style={styles.circleText}>1</Text>\r\n                  </View>\r\n                  <Text style={styles.titleText}> Thread</Text>\r\n                </>\r\n              )}\r\n            </View>\r\n          </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView contentContainerStyle={styles.scrollViewContent}>\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      title={shape.name.split(' ')[0]}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView contentContainerStyle={styles.scrollViewContent}>\r\n                    {sizes.map((size, index) => (\r\n                      <SizeButton\r\n                        key={index}\r\n                        title={size.size}\r\n                        basePrice={size.basePrice}\r\n                        isOrderFittingMode={isOrderFittingMode}\r\n                        onPress={() => handleSizeSelection(size.size)}\r\n                        isSelected={selectedSize === size.size}\r\n                      />\r\n                    ))}\r\n        \r\n                      {/* Add the Ferrule image container here with conditional rendering */}\r\n                      {!isOrderFittingMode && (\r\n                        <>\r\n                          <View style={styles.ferruleContainer}>\r\n                            <Image\r\n                              source={require('../assets/Ferrule.PNG')}\r\n                              style={styles.ferruleImage}\r\n                              resizeMode=\"contain\"\r\n                            />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                            <Text style={styles.ferruleText}>\r\n                              Price Inclusive of Ferrule\r\n                            </Text>\r\n                          </View>\r\n                        </>\r\n                      )}\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>BSP 60° (British Standard Pipe)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignSelf: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    marginTop: 13,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    paddingHorizontal: 10,\r\n    paddingBottom: 80, //Adjsut this value as needed\r\n  },\r\n  column: {\r\n    width: MAX_COLUMN_WIDTH,\r\n    maxWidth: '48%',\r\n    alignItems: 'center',\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 25,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 10,\r\n    paddingHorizontal: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 15,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 10,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 60,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start', // Align text to the left\r\n    marginRight: 10, // Space between size and price\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    flexShrink: 1, // Allows text to shrink if needed\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120, // Fixed width for price container\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 20, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n    width: BUTTON_WIDTH,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    padding: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n    width: '50%',\r\n    height: 150,\r\n    marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default BSPFittingScreen1;","import React, { useState, useRef, useCallback } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Animated, Platform } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400; // Maximum width for each column\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8); // Button width, capped at 320\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 1.1).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n    <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={styles.sizeButtonContent}>\r\n        <View style={styles.sizeTextContainer}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst JICFittingScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const shapes = [\r\n    { name: 'JIC Male Straight', image: require('../assets/jic_male_straight.png') },\r\n    { name: 'JIC Female Straight', image: require('../assets/jic_female_straight.png') },\r\n    { name: 'JIC Female 45°', image: require('../assets/jic_female_45.png') },\r\n    { name: 'JIC Female 90°', image: require('../assets/jic_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = [\r\n    { size: '7/16\" - 20', basePrice: ' 4.50' },\r\n    { size: '9/16\" - 18', basePrice: ' 6.50' },\r\n    { size: '3/4\" - 16', basePrice: ' 8.50' },\r\n    { size: '7/8\" - 14', basePrice: ' 9.50' },\r\n    { size: '1-1/16\" - 12', basePrice: ' 12.50' },\r\n    { size: '1-3/16\" - 12', basePrice: ' 16.50' }\r\n  ];\r\n\r\n  // Define the JIC compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['7/16\"', '9/16\"', '3/4\"'],\r\n    '3/8\"': ['9/16\"', '3/4\"', '7/8\"'],\r\n    '1/2\"': ['3/4\"', '7/8\"', '1-1/16\"'],\r\n    '5/8\"': ['7/8\"', '1-1/16\"'],\r\n    '3/4\"': ['7/8\"', '1-1/16\"', '1-3/16\"'],\r\n    '1\"': ['1-1/16\"', '1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (isOrderFittingMode || !selectedHose || !selectedHose.size) {\r\n      // If it's order fitting mode OR no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        fadeAnim.setValue(0);\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Text style={styles.backButtonText}>←</Text>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\r\n          <View style={styles.titleContainer}>\r\n            <View style={styles.titleWrapper}>\r\n              {isOrderFittingMode ? (\r\n                <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n              ) : (\r\n                <>\r\n                  <Text style={styles.titleText}>Select END </Text>\r\n                  <View style={styles.circleWrapper}>\r\n                    <Text style={styles.circleText}>1</Text>\r\n                  </View>\r\n                  <Text style={styles.titleText}> Thread</Text>\r\n                </>\r\n              )}\r\n            </View>\r\n          </View>\r\n        <View style={styles.contentContainer}>\r\n          <View style={styles.column}>\r\n            <View style={styles.sectionTitleContainer}>\r\n              <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n            </View>\r\n            <ScrollView \r\n                contentContainerStyle={styles.scrollViewContent}\r\n                style={styles.scrollView} // Add this style\r\n                showsVerticalScrollIndicator={false}\r\n              >\r\n              {shapes.map((shape, index) => (\r\n                <ShapeButton\r\n                  key={index}\r\n                  title={shape.name.split(' ')[0]}\r\n                  subtitle={shape.name}\r\n                  imagePath={shape.image}\r\n                  onPress={() => handleShapeSelection(shape.name)}\r\n                  isSelected={selectedShape === shape.name}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </View>\r\n          <View style={styles.column}>\r\n            {selectedShape ? (\r\n              <>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                </View>\r\n                <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                <ScrollView \r\n                    contentContainerStyle={styles.scrollViewContent}\r\n                    style={styles.scrollView} // Add this style\r\n                    showsVerticalScrollIndicator={false}\r\n                  >\r\n                    {sizes.map((size, index) => (\r\n                      <SizeButton\r\n                        key={index}\r\n                        title={size.size}\r\n                        basePrice={size.basePrice}\r\n                        isOrderFittingMode={isOrderFittingMode}\r\n                        onPress={() => handleSizeSelection(size.size)}\r\n                        isSelected={selectedSize === size.size}\r\n                      />\r\n                    ))}\r\n    \r\n                    {/* Add the Ferrule image container here with conditional rendering */}\r\n                    {!isOrderFittingMode && (\r\n                        <>\r\n                            <View style={styles.ferruleContainer}>\r\n                                <Image\r\n                                    source={require('../assets/Ferrule.PNG')}\r\n                                    style={styles.ferruleImage}\r\n                                    resizeMode=\"contain\"\r\n                                />\r\n                            </View>\r\n                            <View style={styles.ferruleTextContainer}>\r\n                                <Text style={styles.ferruleText}>\r\n                                    Price Inclusive of Ferrule\r\n                                </Text>\r\n                            </View>\r\n                        </>\r\n                    )}\r\n                </ScrollView>\r\n              </>\r\n            ) : (\r\n              <View style={styles.placeholderColumn} />\r\n            )}\r\n          </View>\r\n        </View>\r\n        <View style={styles.fittingTypeContainer}>\r\n            <Text style={styles.fittingTypeText}>JIC 37° (Joint Industrial Council)</Text>\r\n          </View>\r\n        </Animated.View>\r\n      </SafeAreaView>\r\n    </ScrollableGradientWrapper>\r\n  </View>\r\n);\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    paddingHorizontal: 20,\r\n    paddingBottom: 120, //Adjsut this value as needed\r\n  },\r\n  column: {\r\n    width: MAX_COLUMN_WIDTH,\r\n    maxWidth: '48%',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 10,\r\n    paddingHorizontal: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 10,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 8, // Add padding for shadows\r\n},\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 100, \r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  \r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 50, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n    marginBottom: 20,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n      width: BUTTON_WIDTH,\r\n      alignItems: 'center',\r\n      marginTop: 10,\r\n      marginBottom: 15,\r\n      padding: 15,\r\n      backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n      width: '50%',\r\n      height: 150,\r\n      marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n      alignSelf: 'center',\r\n      marginBottom: 30,\r\n      backgroundColor: '#ffc100',\r\n      borderWidth: 4,\r\n      borderColor: '#4a4a4a',\r\n      borderRadius: 25,\r\n      paddingVertical: 8,\r\n      paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n      fontSize: 16,\r\n      fontWeight: 'bold',\r\n      color: '#4a4a4a',\r\n      textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default JICFittingScreen1;","import React, { useState, useRef, useCallback } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\n\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400; // Maximum width for each column\r\nconst BUTTON_WIDTH = Math.min(350, SCREEN_WIDTH * 0.8); // Button width, capped at 320\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 1.1).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n    <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={styles.sizeButtonContent}>\r\n        <View style={styles.sizeTextContainer}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst MetricFittingScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const shapes = [\r\n    { name: 'METRIC LIGHT Male Straight', image: require('../assets/metric_light_male_straight.png') },\r\n    { name: 'METRIC LIGHT Female Straight', image: require('../assets/metric_light_female_straight.png') },\r\n    { name: 'METRIC LIGHT Female 45°', image: require('../assets/metric_light_female_45.png') },\r\n    { name: 'METRIC LIGHT Female 90°', image: require('../assets/metric_light_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = [\r\n    { size: 'M12 - 1.5', basePrice: ' 6.50' },\r\n    { size: 'M14 - 1.5', basePrice: ' 7.50' },\r\n    { size: 'M16 - 1.5', basePrice: ' 9.50' },\r\n    { size: 'M18 - 1.5', basePrice: ' 10.00' },\r\n    { size: 'M22 - 1.5', basePrice: ' 12.50' },\r\n    { size: 'M26 - 1.5', basePrice: ' 16.50' },\r\n    { size: 'M30 - 2', basePrice: ' 26.50' },\r\n    { size: 'M36 - 2', basePrice: ' 34.50' }\r\n  ];\r\n\r\n  // Define the Metric compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['M12', 'M14', 'M16', 'M18'],\r\n    '3/8\"': ['M18', 'M22'],\r\n    '1/2\"': ['M22', 'M26'],\r\n    '5/8\"': ['M26', 'M30'],\r\n    '3/4\"': ['M30', 'M36'],\r\n    '1\"': ['M36']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (isOrderFittingMode || !selectedHose || !selectedHose.size) {\r\n      // If it's order fitting mode OR no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        fadeAnim.setValue(0);\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Text style={styles.backButtonText}>←</Text>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n    <SafeAreaView style={styles.container}>\r\n      <View style={styles.logoContainer}>\r\n        <Image\r\n          source={require('../assets/fluidpower_logo.gif')}\r\n          style={styles.logo}\r\n          resizeMode=\"contain\"\r\n        />\r\n      </View>\r\n      <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\r\n      <View style={styles.titleContainer}>\r\n        <View style={styles.titleWrapper}>\r\n          {isOrderFittingMode ? (\r\n            <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n          ) : (\r\n            <>\r\n              <Text style={styles.titleText}>Select END </Text>\r\n              <View style={styles.circleWrapper}>\r\n                <Text style={styles.circleText}>1</Text>\r\n              </View>\r\n              <Text style={styles.titleText}> Thread</Text>\r\n            </>\r\n          )}\r\n        </View>\r\n      </View>\r\n        <View style={styles.contentContainer}>\r\n          <View style={styles.column}>\r\n            <View style={styles.sectionTitleContainer}>\r\n              <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n            </View>\r\n            <ScrollView \r\n                contentContainerStyle={styles.scrollViewContent}\r\n                style={styles.scrollView}\r\n                showsVerticalScrollIndicator={false}\r\n              >\r\n              {shapes.map((shape, index) => (\r\n                <ShapeButton\r\n                  key={index}\r\n                  title={shape.name.split(' ')[0]}\r\n                  subtitle={shape.name}\r\n                  imagePath={shape.image}\r\n                  onPress={() => handleShapeSelection(shape.name)}\r\n                  isSelected={selectedShape === shape.name}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </View>\r\n          <View style={styles.column}>\r\n            {selectedShape ? (\r\n              <>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                </View>\r\n                <Text style={styles.sectionSubtitle}>Size - Thread Pitch</Text>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {sizes.map((size, index) => (\r\n                    <SizeButton\r\n                      key={index}\r\n                      title={size.size}\r\n                      basePrice={size.basePrice}\r\n                      isOrderFittingMode={isOrderFittingMode}\r\n                      onPress={() => handleSizeSelection(size.size)}\r\n                      isSelected={selectedSize === size.size}\r\n                    />\r\n                  ))}\r\n    \r\n                  {/* Add the Ferrule image container here with conditional rendering */}\r\n                  {!isOrderFittingMode && (\r\n                      <>\r\n                          <View style={styles.ferruleContainer}>\r\n                              <Image\r\n                                  source={require('../assets/Ferrule.PNG')}\r\n                                  style={styles.ferruleImage}\r\n                                  resizeMode=\"contain\"\r\n                              />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                              <Text style={styles.ferruleText}>\r\n                                  Price Inclusive of Ferrule\r\n                              </Text>\r\n                          </View>\r\n                      </>\r\n                  )}\r\n                </ScrollView>\r\n              </>\r\n            ) : (\r\n              <View style={styles.placeholderColumn} />\r\n            )}\r\n          </View>\r\n        </View>\r\n        <View style={styles.fittingTypeContainer}>\r\n          <Text style={styles.fittingTypeText}>METRIC LIGHT 24° (O-Ring Cone)</Text>\r\n        </View>\r\n      </Animated.View>\r\n    </SafeAreaView>\r\n    </ScrollableGradientWrapper>\r\n  </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 8,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    paddingHorizontal: 10,\r\n    paddingBottom: 80, //Adjsut this value as needed\r\n  },\r\n  column: {\r\n    width: MAX_COLUMN_WIDTH,\r\n    maxWidth: '48%',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 10,\r\n    paddingHorizontal: 30,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 100,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n      width: BUTTON_WIDTH,\r\n      alignItems: 'center',\r\n      marginTop: 10,\r\n      marginBottom: 15,\r\n      padding: 15,\r\n      backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n      width: '50%',\r\n      height: 150,\r\n      marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n      alignSelf: 'center',\r\n      marginBottom: 30,\r\n      backgroundColor: '#ffc100',\r\n      borderWidth: 4,\r\n      borderColor: '#4a4a4a',\r\n      borderRadius: 25,\r\n      paddingVertical: 8,\r\n      paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n      fontSize: 16,\r\n      fontWeight: 'bold',\r\n      color: '#4a4a4a',\r\n      textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default MetricFittingScreen1;","import React, { useState, useRef, useCallback } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400; // Maximum width for each column\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8); // Button width, capped at 320\r\n\r\nconst adjustPrice = (basePrice, isOrderFittingMode) => {\r\n  const price = parseFloat(basePrice.trim());\r\n  return isOrderFittingMode ? (price * 1.1).toFixed(2) : price.toFixed(2);\r\n};\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n    <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, basePrice, isOrderFittingMode, onPress, isSelected }) => {\r\n  const adjustedPrice = adjustPrice(basePrice.toString(), isOrderFittingMode);\r\n  \r\n  return (\r\n    <TouchableOpacity \r\n      style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n      onPress={onPress}\r\n    >\r\n      <View style={styles.sizeButtonContent}>\r\n        <View style={styles.sizeTextContainer}>\r\n          <Text style={styles.sizeButtonText}>{title}</Text>\r\n        </View>\r\n        <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\r\n          <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\r\n            A$ {adjustedPrice} ea\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst OrfsScreen1 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose = null, selectedFitting = null, selectedHosePrice = null, isOrderFittingMode } = route.params;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const shapes = [\r\n    { name: 'ORFS Male Straight', image: require('../assets/orfs_male_straight.png') },\r\n    { name: 'ORFS Female Straight', image: require('../assets/orfs_female_straight.png') },\r\n    { name: 'ORFS Female 45°', image: require('../assets/orfs_female_45.png') },\r\n    { name: 'ORFS Female 90°', image: require('../assets/orfs_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes\r\n  const allSizes = [\r\n    { size: '9/16\" - 18', basePrice: ' 8.50' },\r\n    { size: '11/16\" - 16', basePrice: ' 12.50' },\r\n    { size: '13/16\" - 16', basePrice: ' 14.50' },\r\n    { size: '1\" - 14', basePrice: ' 22.50' },\r\n    { size: '1-3/16\" - 12', basePrice: ' 32.50' }\r\n  ];\r\n\r\n  // Define the ORFS compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['9/16\"', '11/16\"'],\r\n    '3/8\"': ['11/16\"', '13/16\"'],\r\n    '1/2\"': ['13/16\"', '1\"'],\r\n    '5/8\"': ['1\"', '1-3/16\"'],\r\n    '3/4\"': ['1\"', '1-3/16\"'],\r\n    '1\"': ['1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    if (isOrderFittingMode || !selectedHose || !selectedHose.size) {\r\n      // If it's order fitting mode OR no hose selected, return all sizes\r\n      return allSizes;\r\n    }\r\n    \r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        fadeAnim.setValue(0);\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Calculate adjusted price\r\n      const adjustedPrice = parseFloat(adjustPrice(selectedSizeObj.basePrice.toString(), isOrderFittingMode));\r\n      handleNavigation(selectedShape, size, adjustedPrice);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      if (isOrderFittingMode) {\r\n        // Navigate directly to CutLengths with all necessary parameters\r\n        navigation.navigate('CutLengths', {\r\n          selectedHose: null, // Default value since not used in this mode\r\n          selectedHosePrice: null, // Default value since not used in this mode\r\n          selectedFitting: selectedFitting || null,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price,\r\n          selectedEnd2Fitting: null, // Default value since not used in this mode\r\n          end2Shape: null, // Default value since not used in this mode\r\n          end2Size: null, // Default value since not used in this mode\r\n          end2Price: null, // Default value since not used in this mode\r\n          selectedAngle: null, // Default value since not used in this mode\r\n          isHoseOnly: false, // Since we're selecting fittings\r\n          isOrderFittingMode: true\r\n        });\r\n      } else {\r\n        // Original navigation to End2Fitting\r\n        navigation.navigate('End2Fitting', {\r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape: shape,\r\n          end1Size: size,\r\n          end1Price: price\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Text style={styles.backButtonText}>←</Text>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n    <SafeAreaView style={styles.container}>\r\n      <View style={styles.logoContainer}>\r\n        <Image\r\n          source={require('../assets/fluidpower_logo.gif')}\r\n          style={styles.logo}\r\n          resizeMode=\"contain\"\r\n        />\r\n      </View>\r\n      <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\r\n      <View style={styles.titleContainer}>\r\n        <View style={styles.titleWrapper}>\r\n          {isOrderFittingMode ? (\r\n            <Text style={styles.titleText}>Thread Shape and Size</Text>\r\n          ) : (\r\n            <>\r\n              <Text style={styles.titleText}>Select END </Text>\r\n              <View style={styles.circleWrapper}>\r\n                <Text style={styles.circleText}>1</Text>\r\n              </View>\r\n              <Text style={styles.titleText}> Thread</Text>\r\n            </>\r\n          )}\r\n        </View>\r\n      </View>\r\n        <View style={styles.contentContainer}>\r\n          <View style={styles.column}>\r\n            <View style={styles.sectionTitleContainer}>\r\n              <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n            </View>\r\n            <ScrollView \r\n                contentContainerStyle={styles.scrollViewContent}\r\n                style={styles.scrollView}\r\n                showsVerticalScrollIndicator={false}\r\n              >\r\n              {shapes.map((shape, index) => (\r\n                <ShapeButton\r\n                  key={index}\r\n                  title={shape.name.split(' ')[0]}\r\n                  subtitle={shape.name}\r\n                  imagePath={shape.image}\r\n                  onPress={() => handleShapeSelection(shape.name)}\r\n                  isSelected={selectedShape === shape.name}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </View>\r\n          <View style={styles.column}>\r\n            {selectedShape ? (\r\n              <>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                </View>\r\n                <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {sizes.map((size, index) => (\r\n                    <SizeButton\r\n                      key={index}\r\n                      title={size.size}\r\n                      basePrice={size.basePrice}\r\n                      isOrderFittingMode={isOrderFittingMode}\r\n                      onPress={() => handleSizeSelection(size.size)}\r\n                      isSelected={selectedSize === size.size}\r\n                    />\r\n                  ))}\r\n    \r\n                  {/* Add the Ferrule image container here with conditional rendering */}\r\n                  {!isOrderFittingMode && (\r\n                      <>\r\n                          <View style={styles.ferruleContainer}>\r\n                              <Image\r\n                                  source={require('../assets/Ferrule.PNG')}\r\n                                  style={styles.ferruleImage}\r\n                                  resizeMode=\"contain\"\r\n                              />\r\n                          </View>\r\n                          <View style={styles.ferruleTextContainer}>\r\n                              <Text style={styles.ferruleText}>\r\n                                  Price Inclusive of Ferrule\r\n                              </Text>\r\n                          </View>\r\n                      </>\r\n                  )}\r\n                </ScrollView>\r\n              </>\r\n            ) : (\r\n              <View style={styles.placeholderColumn} />\r\n            )}\r\n          </View>\r\n        </View>\r\n        <View style={styles.fittingTypeContainer}>\r\n          <Text style={styles.fittingTypeText}>O.R.F.S (O-Ring Flat Seal)</Text>\r\n        </View>\r\n      </Animated.View>\r\n    </SafeAreaView>\r\n    </ScrollableGradientWrapper>\r\n  </View>\r\n);\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 8,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    paddingHorizontal: 10,\r\n    paddingBottom: 120, //Adjsut this value as needed\r\n  },\r\n  column: {\r\n    width: MAX_COLUMN_WIDTH,\r\n    maxWidth: '48%',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 10,\r\n    paddingHorizontal: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 10,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 100,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 120, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n    marginBottom: 20,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 25,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n      width: BUTTON_WIDTH,\r\n      alignItems: 'center',\r\n      marginTop: 10,\r\n      marginBottom: 15,\r\n      padding: 15,\r\n      backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n      width: '50%',\r\n      height: 150,\r\n      marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n      alignSelf: 'center',\r\n      marginBottom: 30,\r\n      backgroundColor: '#ffc100',\r\n      borderWidth: 4,\r\n      borderColor: '#4a4a4a',\r\n      borderRadius: 25,\r\n      paddingVertical: 8,\r\n      paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n      fontSize: 16,\r\n      fontWeight: 'bold',\r\n      color: '#4a4a4a',\r\n      textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default OrfsScreen1;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated, Modal, TouchableWithoutFeedback } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400;\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\r\n\r\nconst FittingTypeButton = ({ type, description, onPress, isSelected, onHelpPress }) => (\r\n  <TouchableOpacity \r\n    style={[styles.fittingButton, isSelected && styles.selectedFittingButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.fittingContent}>\r\n      <Text style={styles.fittingButtonText}>{type}</Text>\r\n      <Text style={styles.fittingDescription}>{description}</Text>\r\n    </View>\r\n    <TouchableOpacity style={styles.helpIcon} onPress={onHelpPress}>\r\n      <Text style={styles.helpIconText}>?</Text>\r\n    </TouchableOpacity>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst End2FittingScreen = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedEnd2Fitting, setSelectedEnd2Fitting] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price } = route.params || {};\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false);\r\n  const [currentHelpImage, setCurrentHelpImage] = useState(null);\r\n  const helpFadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const fittingTypes = [\r\n    { type: 'BSP 60°', description: 'British Standard Pipe', helpImage: require('../assets/bsp_help.png') },\r\n    { type: 'JIC 37°', description: 'Joint Industrial Council', helpImage: require('../assets/jic_help.png') },\r\n    { type: 'METRIC LIGHT 24°', description: 'Cone O-Ring', helpImage: require('../assets/metric_help.png') },\r\n    { type: 'O.R.F.S', description: 'O-Ring Flat Seal', helpImage: require('../assets/orfs_help.png') },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  }, []);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      //setSelectedEnd2Fitting(null);\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const handleFittingSelection = (type) => {\r\n    setSelectedEnd2Fitting(type);\r\n    \r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      switch (type) {\r\n        case 'BSP 60°':\r\n          navigation.navigate('BSPFittingScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        case 'JIC 37°':\r\n          navigation.navigate('JICFittingScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        case 'METRIC LIGHT 24°':\r\n          navigation.navigate('MetricFittingScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        case 'O.R.F.S':\r\n          navigation.navigate('OrfsScreen2', { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting: type });\r\n          break;\r\n        default:\r\n          console.log('Selected Hose:', selectedHose);\r\n          console.log('Selected Fitting:', type);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleHelpPress = (helpImage) => {\r\n    setCurrentHelpImage(helpImage);\r\n    setShowHelpOverlay(true);\r\n    helpFadeAnim.setValue(0);\r\n    Animated.timing(helpFadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n\r\n  const closeHelpOverlay = () => {\r\n    Animated.timing(helpFadeAnim, {\r\n      toValue: 0,\r\n      duration: 300,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowHelpOverlay(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n    {/* Add Floating Back Button here */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n        >\r\n        <Text style={styles.backButtonText}>←</Text>\r\n        </TouchableOpacity>\r\n      <View style={styles.logoContainer}>\r\n        <Image\r\n          source={require('../assets/fluidpower_logo.gif')}\r\n          style={styles.logo}\r\n          resizeMode=\"contain\"\r\n        />\r\n      </View>\r\n      \r\n      <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n        <View style={styles.titleContainer}>\r\n          <View style={styles.titleWrapper}>\r\n            <Text style={styles.titleText}>Select END </Text>\r\n            <View style={styles.circleWrapper}>\r\n              <Text style={styles.circleText}>2</Text>\r\n            </View>\r\n            <Text style={styles.titleText}> Thread</Text>\r\n          </View>\r\n        </View>\r\n        \r\n        <Image\r\n          source={require('../assets/end2_thread_diagram.png')}\r\n          style={styles.diagram}\r\n          resizeMode=\"contain\"\r\n        />\r\n        \r\n        <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\r\n          {fittingTypes.map((fitting, index) => (\r\n            <FittingTypeButton\r\n              key={index}\r\n              type={fitting.type}\r\n              description={fitting.description}\r\n              onPress={() => handleFittingSelection(fitting.type)}\r\n              isSelected={selectedEnd2Fitting === fitting.type}\r\n              onHelpPress={() => handleHelpPress(fitting.helpImage)}\r\n            />\r\n          ))}\r\n        </ScrollView>\r\n      </Animated.View>\r\n\r\n      <Modal\r\n        transparent={true}\r\n        visible={showHelpOverlay}\r\n        onRequestClose={closeHelpOverlay}\r\n      >\r\n        <TouchableWithoutFeedback onPress={closeHelpOverlay}>\r\n          <View style={styles.modalOverlay}>\r\n            <View style={styles.overlayBackground} />\r\n            <Animated.View style={[styles.helpImageContainer, { opacity: helpFadeAnim }]}>\r\n              <TouchableOpacity \r\n                style={styles.closeButton}\r\n                onPress={closeHelpOverlay}\r\n              >\r\n                <Text style={styles.closeButtonText}>×</Text>\r\n              </TouchableOpacity>\r\n              <Image\r\n                source={currentHelpImage}\r\n                style={styles.helpImage}\r\n                resizeMode=\"contain\"\r\n              />\r\n            </Animated.View>\r\n          </View>\r\n        </TouchableWithoutFeedback>\r\n      </Modal>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignSelf: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    marginTop: 30,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 25,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  diagram: {\r\n    width: '100%',\r\n    height: 200,\r\n    marginVertical: 20,\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n    paddingBottom: 20,\r\n  },\r\n  fittingButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    overflow: 'hidden',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    marginBottom: 30,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedFittingButton: {\r\n    backgroundColor: '#ffc100',\r\n  },\r\n  fittingContent: {\r\n    padding: 15,\r\n  },\r\n  fittingButtonText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 5,\r\n    textAlign: 'center',\r\n  },\r\n  fittingDescription: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  helpIcon: {\r\n    position: 'absolute',\r\n    top: 5,\r\n    right: 5,\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  helpIconText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n  },\r\n  helpImageContainer: {\r\n    width: '80%',\r\n    height: '80%',\r\n  },\r\n  helpImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: -20,\r\n    right: -20,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#4a4a4a',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n    // iOS shadow\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  closeButtonText: {\r\n    color: 'white',\r\n    fontSize: 35,\r\n    textAlign: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default End2FittingScreen;","import React, { useState, useRef, useCallback } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400; // Maximum width for each column\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8); // Button width, capped at 320\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n    <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.sizeButtonContent}>\r\n      <View style={styles.sizeTextContainer}>\r\n        <Text style={styles.sizeButtonText}>{title}</Text>\r\n      </View>\r\n      <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\r\n        <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n      </View>\r\n    </View>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst BSPFittingScreen2 = ({ route }) => {\r\n  const navigation = useNavigation();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const {selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params || {};\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const shapes = [\r\n    { name: 'BSP Male Straight Tapered', image: require('../assets/bsp_male_straight_tapered.png') },\r\n    { name: 'BSP Male Straight Parallel', image: require('../assets/bsp_male_straight_parallel.png') },\r\n    { name: 'BSP Female Straight', image: require('../assets/bsp_female_straight.png') },\r\n    { name: 'BSP Female 45°', image: require('../assets/bsp_female_45.png') },\r\n    { name: 'BSP Female 90°', image: require('../assets/bsp_female_90.png') },\r\n    { name: 'BSP Banjo', image: require('../assets/bsp_banjo.png') }\r\n  ];\r\n\r\n  // Define all available sizes & therir prices\r\n  const allSizes = [\r\n    { size: '1/8\" - 28', price: ' 4.00' },\r\n    { size: '1/4\" - 19', price: ' 6.50' },\r\n    { size: '3/8\" - 19', price: ' 8.50' },\r\n    { size: '1/2\" - 14', price: ' 12.50' },\r\n    { size: '3/4\" - 14', price: ' 16.50' },\r\n    { size: '1\" - 11', price: ' 26.50' }\r\n  ];\r\n\r\n  // Define the compatibility matrix\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['1/8\"', '1/4\"', '3/8\"'],\r\n    '3/8\"': ['1/4\"', '3/8\"', '1/2\"'],\r\n    '1/2\"': ['3/8\"', '1/2\"', '3/4\"'],\r\n    '5/8\"': ['1/2\"', '3/4\"'],\r\n    '3/4\"': ['3/4\"', '1\"'],\r\n    '1\"': ['1\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        fadeAnim.setValue(0);\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces and converting to number\r\n      const priceNumeric = Number(selectedSizeObj.price.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    console.log('Navigation triggered with:', { shape, size, price, end1Shape, end1Size });\r\n    \r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n      \r\n      console.log('isStraightFitting(end1Shape):', isStraightFitting(end1Shape));\r\n      console.log('isStraightFitting(shape):', isStraightFitting(shape));\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        console.log('Navigating to CutLengths');\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        console.log('Navigating to OrientationSelectionScreen');\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice, \r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n    {/* Floating Back Button */}\r\n    <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Text style={styles.backButtonText}>←</Text>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n          <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <View style={styles.titleWrapper}>\r\n                <Text style={styles.titleText}>Select END </Text>\r\n                <View style={styles.circleWrapper}>\r\n                  <Text style={styles.circleText}>2</Text>\r\n                </View>\r\n                <Text style={styles.titleText}> Thread</Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.contentContainer}>\r\n              <View style={styles.column}>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n                </View>\r\n                <ScrollView contentContainerStyle={styles.scrollViewContent}>\r\n                  {shapes.map((shape, index) => (\r\n                    <ShapeButton\r\n                      key={index}\r\n                      title={shape.name.split(' ')[0]}\r\n                      subtitle={shape.name}\r\n                      imagePath={shape.image}\r\n                      onPress={() => handleShapeSelection(shape.name)}\r\n                      isSelected={selectedShape === shape.name}\r\n                    />\r\n                  ))}\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.column}>\r\n                {selectedShape ? (\r\n                  <>\r\n                    <View style={styles.sectionTitleContainer}>\r\n                      <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                    </View>\r\n                    <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                    <ScrollView contentContainerStyle={styles.scrollViewContent}>\r\n                      {sizes.map((size, index) => (\r\n                        <SizeButton\r\n                          key={index}\r\n                          title={size.size}\r\n                          price={size.price}\r\n                          onPress={() => handleSizeSelection(size.size)}\r\n                          isSelected={selectedSize === size.size}\r\n                        />\r\n                      ))}\r\n  \r\n                      {/* Add Ferrule image and text */}\r\n                      <>\r\n                        <View style={styles.ferruleContainer}>\r\n                          <Image\r\n                            source={require('../assets/Ferrule.PNG')}\r\n                            style={styles.ferruleImage}\r\n                            resizeMode=\"contain\"\r\n                          />\r\n                        </View>\r\n                        <View style={styles.ferruleTextContainer}>\r\n                          <Text style={styles.ferruleText}>\r\n                            Price Inclusive of Ferrule\r\n                          </Text>\r\n                        </View>\r\n                      </>\r\n                    </ScrollView>\r\n                  </>\r\n                ) : (\r\n                  <View style={styles.placeholderColumn} />\r\n                )}\r\n              </View>\r\n            </View>\r\n            <View style={styles.fittingTypeContainer}>\r\n              <Text style={styles.fittingTypeText}>BSP 60° (British Standard Pipe)</Text>\r\n            </View>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    fkex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    paddingHorizontal: 10,\r\n    paddingBottom: 80, //Adjsut this value as needed\r\n  },\r\n  column: {\r\n    width: MAX_COLUMN_WIDTH,\r\n    maxWidth: '48%',\r\n    alignItems: 'center',\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 10,\r\n    paddingHorizontal: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 15,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 10,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 60,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  }, \r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 20, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n      width: BUTTON_WIDTH,\r\n      alignItems: 'center',\r\n      marginTop: 10,\r\n      marginBottom: 15,\r\n      padding: 15,\r\n      backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n      width: '50%',\r\n      height: 150,\r\n      marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n      alignSelf: 'center',\r\n      marginBottom: 30,\r\n      backgroundColor: '#ffc100',\r\n      borderWidth: 4,\r\n      borderColor: '#4a4a4a',\r\n      borderRadius: 25,\r\n      paddingVertical: 8,\r\n      paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n      fontSize: 16,\r\n      fontWeight: 'bold',\r\n      color: '#4a4a4a',\r\n      textAlign: 'center',\r\n  },\r\n  ferruleContainer: {\r\n      width: BUTTON_WIDTH,\r\n      alignItems: 'center',\r\n      marginTop: 10,\r\n      marginBottom: 15,\r\n      padding: 15,\r\n      backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n      width: '50%',\r\n      height: 150,\r\n      marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n      alignSelf: 'center',\r\n      marginBottom: 30,\r\n      backgroundColor: '#ffc100',\r\n      borderWidth: 4,\r\n      borderColor: '#4a4a4a',\r\n      borderRadius: 25,\r\n      paddingVertical: 8,\r\n      paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n      fontSize: 16,\r\n      fontWeight: 'bold',\r\n      color: '#4a4a4a',\r\n      textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default BSPFittingScreen2;","import React, { useState, useRef, useCallback } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Animated, Platform } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400; // Maximum width for each column\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8); // Button width, capped at 320\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n    <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.sizeButtonContent}>\r\n      <View style={styles.sizeTextContainer}>\r\n        <Text style={styles.sizeButtonText}>{title}</Text>\r\n      </View>\r\n      <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\r\n        <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n      </View>\r\n    </View>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst JICFittingScreen2 = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params || {};\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const shapes = [\r\n    { name: 'JIC Male Straight', image: require('../assets/jic_male_straight.png') },\r\n    { name: 'JIC Female Straight', image: require('../assets/jic_female_straight.png') },\r\n    { name: 'JIC Female 45°', image: require('../assets/jic_female_45.png') },\r\n    { name: 'JIC Female 90°', image: require('../assets/jic_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = [\r\n    { size: '7/16\" - 20', price: ' 4.50' },\r\n    { size: '9/16\" - 18', price: ' 6.50' },\r\n    { size: '3/4\" - 16', price: ' 8.50' },\r\n    { size: '7/8\" - 14', price: ' 9.50' },\r\n    { size: '1-1/16\" - 12', price: ' 12.50' },\r\n    { size: '1-3/16\" - 12', price: ' 16.50' }\r\n  ];\r\n\r\n  // Define the JIC compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['7/16\"', '9/16\"', '3/4\"'],\r\n    '3/8\"': ['9/16\"', '3/4\"', '7/8\"'],\r\n    '1/2\"': ['3/4\"', '7/8\"', '1-1/16\"'],\r\n    '5/8\"': ['7/8\"', '1-1/16\"'],\r\n    '3/4\"': ['7/8\"', '1-1/16\"', '1-3/16\"'],\r\n    '1\"': ['1-1/16\"', '1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        fadeAnim.setValue(0);\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces and converting to number\r\n      const priceNumeric = Number(selectedSizeObj.price.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    console.log('Navigation triggered with:', { shape, size, price, end1Shape, end1Size });\r\n    \r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n      \r\n      console.log('isStraightFitting(end1Shape):', isStraightFitting(end1Shape));\r\n      console.log('isStraightFitting(shape):', isStraightFitting(shape));\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        console.log('Navigating to CutLengths');\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice, \r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        console.log('Navigating to OrientationSelectionScreen');\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Text style={styles.backButtonText}>←</Text>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n    <SafeAreaView style={styles.container}>\r\n      <View style={styles.logoContainer}>\r\n        <Image\r\n          source={require('../assets/fluidpower_logo.gif')}\r\n          style={styles.logo}\r\n          resizeMode=\"contain\"\r\n        />\r\n      </View>\r\n      <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\r\n        <View style={styles.titleContainer}>\r\n          <View style={styles.titleWrapper}>\r\n            <Text style={styles.titleText}>Select END </Text>\r\n            <View style={styles.circleWrapper}>\r\n              <Text style={styles.circleText}>2</Text>\r\n            </View>\r\n            <Text style={styles.titleText}> Thread</Text>\r\n          </View>\r\n        </View>\r\n        <View style={styles.contentContainer}>\r\n          <View style={styles.column}>\r\n            <View style={styles.sectionTitleContainer}>\r\n              <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n            </View>\r\n            <ScrollView \r\n              contentContainerStyle={styles.scrollViewContent}\r\n              style={styles.scrollView}\r\n              showsVerticalScrollIndicator={false}\r\n            >\r\n              {shapes.map((shape, index) => (\r\n                <ShapeButton\r\n                  key={index}\r\n                  title={shape.name.split(' ')[0]}\r\n                  subtitle={shape.name}\r\n                  imagePath={shape.image}\r\n                  onPress={() => handleShapeSelection(shape.name)}\r\n                  isSelected={selectedShape === shape.name}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </View>\r\n          <View style={styles.column}>\r\n            {selectedShape ? (\r\n              <>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                </View>\r\n                <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {sizes.map((size, index) => (\r\n                    <SizeButton\r\n                      key={index}\r\n                      title={size.size}\r\n                      price={size.price}\r\n                      onPress={() => handleSizeSelection(size.size)}\r\n                      isSelected={selectedSize === size.size}\r\n                    />\r\n                  ))}\r\n  \r\n                  {/* Add Ferrule image and text */}\r\n                  <>\r\n                    <View style={styles.ferruleContainer}>\r\n                      <Image\r\n                        source={require('../assets/Ferrule.PNG')}\r\n                        style={styles.ferruleImage}\r\n                        resizeMode=\"contain\"\r\n                      />\r\n                    </View>\r\n                    <View style={styles.ferruleTextContainer}>\r\n                      <Text style={styles.ferruleText}>\r\n                        Price Inclusive of Ferrule\r\n                      </Text>\r\n                    </View>\r\n                  </>\r\n                </ScrollView>\r\n              </>\r\n            ) : (\r\n              <View style={styles.placeholderColumn} />\r\n            )}\r\n          </View>\r\n        </View>\r\n        <View style={styles.fittingTypeContainer}>\r\n          <Text style={styles.fittingTypeText}>JIC 37° (Joint Industrial Council)</Text>\r\n        </View>\r\n      </Animated.View>\r\n      </SafeAreaView>\r\n    </ScrollableGradientWrapper>\r\n  </View>\r\n);\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 8,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    paddingHorizontal: 20,\r\n    paddingBottom: 120, //Adjust this value as needed\r\n  },\r\n  column: {\r\n    width: MAX_COLUMN_WIDTH,\r\n    maxWidth: '48%',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 10,\r\n    paddingHorizontal: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom:25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 10,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 100,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 120, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n      width: BUTTON_WIDTH,\r\n      alignItems: 'center',\r\n      marginTop: 10,\r\n      marginBottom: 15,\r\n      padding: 15,\r\n      backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n      width: '50%',\r\n      height: 150,\r\n      marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n      alignSelf: 'center',\r\n      marginBottom: 30,\r\n      backgroundColor: '#ffc100',\r\n      borderWidth: 4,\r\n      borderColor: '#4a4a4a',\r\n      borderRadius: 25,\r\n      paddingVertical: 8,\r\n      paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n      fontSize: 16,\r\n      fontWeight: 'bold',\r\n      color: '#4a4a4a',\r\n      textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default JICFittingScreen2;","import React, { useState, useRef, useCallback } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400; // Maximum width for each column\r\nconst BUTTON_WIDTH = Math.min(350, SCREEN_WIDTH * 0.8); // Button width, capped at 320\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n    <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.sizeButtonContent}>\r\n      <View style={styles.sizeTextContainer}>\r\n        <Text style={styles.sizeButtonText}>{title}</Text>\r\n      </View>\r\n      <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\r\n        <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n      </View>\r\n    </View>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst MetricFittingScreen2 = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params || {};\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const shapes = [\r\n    { name: 'METRIC LIGHT Male Straight', image: require('../assets/metric_light_male_straight.png') },\r\n    { name: 'METRIC LIGHT Female Straight', image: require('../assets/metric_light_female_straight.png') },\r\n    { name: 'METRIC LIGHT Female 45°', image: require('../assets/metric_light_female_45.png') },\r\n    { name: 'METRIC LIGHT Female 90°', image: require('../assets/metric_light_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = [\r\n    { size: 'M12 - 1.5', price: ' 6.50' },\r\n    { size: 'M14 - 1.5', price: ' 7.50' },\r\n    { size: 'M16 - 1.5', price: ' 9.50' },\r\n    { size: 'M18 - 1.5', price: ' 10.00' },\r\n    { size: 'M22 - 1.5', price: ' 12.50' },\r\n    { size: 'M26 - 1.5', price: ' 16.50' },\r\n    { size: 'M30 - 2', price: ' 26.50' },\r\n    { size: 'M36 - 2', price: ' 34.50' }\r\n  ];\r\n\r\n  // Define the Metric compatibility matrix from the image\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['M12', 'M14', 'M16', 'M18'],\r\n    '3/8\"': ['M18', 'M22'],\r\n    '1/2\"': ['M22', 'M26'],\r\n    '5/8\"': ['M26', 'M30'],\r\n    '3/4\"': ['M30', 'M36'],\r\n    '1\"': ['M36']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        fadeAnim.setValue(0);\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces and converting to number\r\n      const priceNumeric = Number(selectedSizeObj.price.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    console.log('Navigation triggered with:', { shape, size, price, end1Shape, end1Size });\r\n    \r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n      \r\n      console.log('isStraightFitting(end1Shape):', isStraightFitting(end1Shape));\r\n      console.log('isStraightFitting(shape):', isStraightFitting(shape));\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        console.log('Navigating to CutLengths');\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice, \r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        console.log('Navigating to OrientationSelectionScreen');\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Text style={styles.backButtonText}>←</Text>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n    <SafeAreaView style={styles.container}>\r\n      <View style={styles.logoContainer}>\r\n        <Image\r\n          source={require('../assets/fluidpower_logo.gif')}\r\n          style={styles.logo}\r\n          resizeMode=\"contain\"\r\n        />\r\n      </View>\r\n      <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\r\n        <View style={styles.titleContainer}>\r\n          <View style={styles.titleWrapper}>\r\n            <Text style={styles.titleText}>Select END </Text>\r\n            <View style={styles.circleWrapper}>\r\n              <Text style={styles.circleText}>2</Text>\r\n            </View>\r\n            <Text style={styles.titleText}> Thread</Text>\r\n          </View>\r\n        </View>\r\n        <View style={styles.contentContainer}>\r\n          <View style={styles.column}>\r\n            <View style={styles.sectionTitleContainer}>\r\n              <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n            </View>\r\n            <ScrollView \r\n              contentContainerStyle={styles.scrollViewContent}\r\n              style={styles.scrollView}\r\n              showsVerticalScrollIndicator={false}\r\n            >\r\n              {shapes.map((shape, index) => (\r\n                <ShapeButton\r\n                  key={index}\r\n                  title={shape.name.split(' ')[0]}\r\n                  subtitle={shape.name}\r\n                  imagePath={shape.image}\r\n                  onPress={() => handleShapeSelection(shape.name)}\r\n                  isSelected={selectedShape === shape.name}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </View>\r\n          <View style={styles.column}>\r\n            {selectedShape ? (\r\n              <>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                </View>\r\n                <Text style={styles.sectionSubtitle}>Size - Thread Pitch</Text>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {sizes.map((size, index) => (\r\n                    <SizeButton\r\n                      key={index}\r\n                      title={size.size}\r\n                      price={size.price}\r\n                      onPress={() => handleSizeSelection(size.size)}\r\n                      isSelected={selectedSize === size.size}\r\n                    />\r\n                  ))}\r\n  \r\n                  {/* Add Ferrule image and text */}\r\n                  <>\r\n                    <View style={styles.ferruleContainer}>\r\n                      <Image\r\n                        source={require('../assets/Ferrule.PNG')}\r\n                        style={styles.ferruleImage}\r\n                        resizeMode=\"contain\"\r\n                      />\r\n                    </View>\r\n                    <View style={styles.ferruleTextContainer}>\r\n                      <Text style={styles.ferruleText}>\r\n                        Price Inclusive of Ferrule\r\n                      </Text>\r\n                    </View>\r\n                  </>\r\n                </ScrollView>\r\n              </>\r\n            ) : (\r\n              <View style={styles.placeholderColumn} />\r\n            )}\r\n          </View>\r\n        </View>\r\n        <View style={styles.fittingTypeContainer}>\r\n          <Text style={styles.fittingTypeText}>METRIC LIGHT 24° (O-Ring Cone)</Text>\r\n        </View>\r\n      </Animated.View>\r\n    </SafeAreaView>\r\n    </ScrollableGradientWrapper>\r\n  </View>\r\n  );\r\n};\r\n  \r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 8,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    paddingHorizontal: 10,\r\n    paddingBottom: 80, //Adjsut this value as needed\r\n  },\r\n  column: {\r\n    width: MAX_COLUMN_WIDTH,\r\n    maxWidth: '48%',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 10,\r\n    paddingHorizontal: 30,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 100,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 100, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 15,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n      width: BUTTON_WIDTH,\r\n      alignItems: 'center',\r\n      marginTop: 10,\r\n      marginBottom: 15,\r\n      padding: 15,\r\n      backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n      width: '50%',\r\n      height: 150,\r\n      marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n      alignSelf: 'center',\r\n      marginBottom: 30,\r\n      backgroundColor: '#ffc100',\r\n      borderWidth: 4,\r\n      borderColor: '#4a4a4a',\r\n      borderRadius: 25,\r\n      paddingVertical: 8,\r\n      paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n      fontSize: 16,\r\n      fontWeight: 'bold',\r\n      color: '#4a4a4a',\r\n      textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default MetricFittingScreen2;","import React, { useState, useRef, useCallback } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst MAX_COLUMN_WIDTH = 400; // Maximum width for each column\r\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8); // Button width, capped at 320\r\n\r\nconst ShapeButton = ({ subtitle, imagePath, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.shapeButton, isSelected && styles.selectedShapeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.shapeButtonContent}>\r\n    <Text style={styles.shapeButtonSubtitle}>{subtitle}</Text>\r\n    </View>\r\n    {imagePath && (\r\n      <View style={styles.shapeButtonImageContainer}>\r\n        <Image source={imagePath} style={styles.shapeButtonImage} resizeMode=\"contain\" />\r\n      </View>\r\n    )}\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst SizeButton = ({ title, price, onPress, isSelected }) => (\r\n  <TouchableOpacity \r\n    style={[styles.sizeButton, isSelected && styles.selectedSizeButton]} \r\n    onPress={onPress}\r\n  >\r\n    <View style={styles.sizeButtonContent}>\r\n      <View style={styles.sizeTextContainer}>\r\n        <Text style={styles.sizeButtonText}>{title}</Text>\r\n      </View>\r\n      <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\r\n        <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>A$ {price} ea</Text>\r\n      </View>\r\n    </View>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst OrfsScreen2 = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const [selectedShape, setSelectedShape] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const { selectedHose, selectedHosePrice, selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting } = route.params;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const shapes = [\r\n    { name: 'ORFS Male Straight', image: require('../assets/orfs_male_straight.png') },\r\n    { name: 'ORFS Female Straight', image: require('../assets/orfs_female_straight.png') },\r\n    { name: 'ORFS Female 45°', image: require('../assets/orfs_female_45.png') },\r\n    { name: 'ORFS Female 90°', image: require('../assets/orfs_female_90.png') },\r\n  ];\r\n\r\n  // Define all available sizes with prices\r\n  const allSizes = [\r\n    { size: '9/16\" - 18', price: ' 8.50' },\r\n    { size: '11/16\" - 16', price: ' 12.50' },\r\n    { size: '13/16\" - 16', price: ' 14.50' },\r\n    { size: '1\" - 14', price: ' 22.50' },\r\n    { size: '1-3/16\" - 12', price: ' 32.50' }\r\n  ];\r\n\r\n  // Define the ORFS compatibility matrix\r\n  const compatibilityMatrix = {\r\n    '1/4\"': ['9/16\"', '11/16\"'],\r\n    '3/8\"': ['11/16\"', '13/16\"'],\r\n    '1/2\"': ['13/16\"', '1\"'],\r\n    '5/8\"': ['1\"', '1-3/16\"'],\r\n    '3/4\"': ['1\"', '1-3/16\"'],\r\n    '1\"': ['1-3/16\"']\r\n  };\r\n\r\n  // Function to filter sizes based on selected hose size\r\n  const getFilteredSizes = () => {\r\n    const hoseSize = selectedHose.size;\r\n    const compatibleSizes = compatibilityMatrix[hoseSize] || [];\r\n    \r\n    return allSizes.filter(sizeObj => \r\n      compatibleSizes.includes(sizeObj.size.split(' ')[0])\r\n    );\r\n  };\r\n\r\n  const sizes = getFilteredSizes();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Start fade in animation when screen comes into focus\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }).start();\r\n  \r\n      return () => {\r\n        // Reset animation value when screen loses focus\r\n        fadeAnim.setValue(0);\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const handleShapeSelection = (shape) => {\r\n    setSelectedShape(shape);\r\n    setSelectedSize(null); // Reset size when a new shape is selected\r\n  };\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size);\r\n    if (selectedShape && size) {\r\n      // Find the selected size object to get its price\r\n      const selectedSizeObj = sizes.find(sizeObj => sizeObj.size === size);\r\n      // Strip the price to numeric form by removing spaces and converting to number\r\n      const priceNumeric = Number(selectedSizeObj.price.trim());\r\n      handleNavigation(selectedShape, size, priceNumeric);\r\n    }\r\n  };\r\n  \r\n  const handleNavigation = (shape, size, price) => {\r\n    console.log('Navigation triggered with:', { shape, size, price, end1Shape, end1Size });\r\n    \r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      const isStraightFitting = (shape) => shape.includes('Male Straight') || shape.includes('Female Straight');\r\n      \r\n      console.log('isStraightFitting(end1Shape):', isStraightFitting(end1Shape));\r\n      console.log('isStraightFitting(shape):', isStraightFitting(shape));\r\n  \r\n      if (isStraightFitting(end1Shape) || isStraightFitting(shape)) {\r\n        console.log('Navigating to CutLengths');\r\n        navigation.navigate('CutLengths', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      } else {\r\n        console.log('Navigating to OrientationSelectionScreen');\r\n        navigation.navigate('OrientationSelectionScreen', { \r\n          selectedHose,\r\n          selectedHosePrice,\r\n          selectedFitting,\r\n          end1Shape, \r\n          end1Size,\r\n          end1Price,\r\n          selectedEnd2Fitting,\r\n          end2Shape: shape,\r\n          end2Size: size,\r\n          end2Price: price, // Add the price to navigation params\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Text style={styles.backButtonText}>←</Text>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n    <SafeAreaView style={styles.container}>\r\n      <View style={styles.logoContainer}>\r\n        <Image\r\n          source={require('../assets/fluidpower_logo.gif')}\r\n          style={styles.logo}\r\n          resizeMode=\"contain\"\r\n        />\r\n      </View>\r\n      <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\r\n        <View style={styles.titleContainer}>\r\n          <View style={styles.titleWrapper}>\r\n            <Text style={styles.titleText}>Select END </Text>\r\n            <View style={styles.circleWrapper}>\r\n              <Text style={styles.circleText}>2</Text>\r\n            </View>\r\n            <Text style={styles.titleText}> Thread</Text>\r\n          </View>\r\n        </View>\r\n        <View style={styles.contentContainer}>\r\n          <View style={styles.column}>\r\n            <View style={styles.sectionTitleContainer}>\r\n              <Text style={styles.sectionTitleText}>Select SHAPE</Text>\r\n            </View>\r\n            <ScrollView \r\n                contentContainerStyle={styles.scrollViewContent}\r\n                style={styles.scrollView}\r\n                showsVerticalScrollIndicator={false}\r\n              >\r\n              {shapes.map((shape, index) => (\r\n                <ShapeButton\r\n                  key={index}\r\n                  title={shape.name.split(' ')[0]}\r\n                  subtitle={shape.name}\r\n                  imagePath={shape.image}\r\n                  onPress={() => handleShapeSelection(shape.name)}\r\n                  isSelected={selectedShape === shape.name}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </View>\r\n          <View style={styles.column}>\r\n            {selectedShape ? (\r\n              <>\r\n                <View style={styles.sectionTitleContainer}>\r\n                  <Text style={styles.sectionTitleText}>Select SIZE</Text>\r\n                </View>\r\n                <Text style={styles.sectionSubtitle}>Size - Threads Per Inch</Text>\r\n                <ScrollView \r\n                  contentContainerStyle={styles.scrollViewContent}\r\n                  style={styles.scrollView}\r\n                  showsVerticalScrollIndicator={false}\r\n                >\r\n                  {sizes.map((size, index) => (\r\n                    <SizeButton\r\n                      key={index}\r\n                      title={size.size}\r\n                      price={size.price}\r\n                      onPress={() => handleSizeSelection(size.size)}\r\n                      isSelected={selectedSize === size.size}\r\n                    />\r\n                  ))}\r\n  \r\n                  {/* Add Ferrule image and text */}\r\n                  <>\r\n                    <View style={styles.ferruleContainer}>\r\n                      <Image\r\n                        source={require('../assets/Ferrule.PNG')}\r\n                        style={styles.ferruleImage}\r\n                        resizeMode=\"contain\"\r\n                      />\r\n                    </View>\r\n                    <View style={styles.ferruleTextContainer}>\r\n                      <Text style={styles.ferruleText}>\r\n                        Price Inclusive of Ferrule\r\n                      </Text>\r\n                    </View>\r\n                  </>\r\n                </ScrollView>\r\n              </>\r\n            ) : (\r\n              <View style={styles.placeholderColumn} />\r\n            )}\r\n          </View>\r\n        </View>\r\n        <View style={styles.fittingTypeContainer}>\r\n          <Text style={styles.fittingTypeText}>O.R.F.S (O-Ring Flat Seal)</Text>\r\n        </View>\r\n      </Animated.View>\r\n    </SafeAreaView>\r\n    </ScrollableGradientWrapper>\r\n  </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    width: '100%',\r\n    paddingHorizontal: 8,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  circleWrapper: {\r\n    backgroundColor: '#ffc100',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  circleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 25,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    paddingHorizontal: 10,\r\n    paddingBottom: 120, //Adjsut this value as needed\r\n  },\r\n  column: {\r\n    width: MAX_COLUMN_WIDTH,\r\n    maxWidth: '48%',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sectionTitleContainer: {\r\n    marginBottom: 10,\r\n    borderRadius: 25,\r\n    backgroundColor: '#4a4a4a',\r\n    width: BUTTON_WIDTH,\r\n    alignSelf: 'center',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n  },\r\n  sectionTitleText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sectionSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n    color: '#4a4a4a',\r\n  },\r\n  shapeButton: {\r\n    marginBottom: 10,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 40,\r\n    padding: 10,\r\n    paddingHorizontal: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 25,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedShapeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  shapeButtonContent: {\r\n    justifyContent: 'center',\r\n    marginBottom: 10,\r\n  },\r\n  shapeButtonSubtitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  shapeButtonImageContainer: {\r\n    width: 120,\r\n    height: 90,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  shapeButtonImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollViewContent: {\r\n    alignItems: 'center', // This centers the buttons within the ScrollView\r\n    width: '100%',\r\n    paddingBottom: 100,\r\n  },\r\n  placeholderColumn: {\r\n    flex: 1,\r\n  },\r\n  \r\n  sizeButton: {\r\n    marginBottom: 32,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 20,\r\n    backgroundColor: 'transparent',\r\n    width: BUTTON_WIDTH,\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 5,\r\n      height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  sizeButtonContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n  sizeTextContainer: {\r\n    flex: 1,\r\n    alignItems: 'flex-start',\r\n    marginRight: 10,\r\n  },\r\n  priceBorder: {\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 10,\r\n    backgroundColor: '#ffc100',\r\n    minWidth: 120,\r\n    alignItems: 'center',\r\n  },\r\n  selectedPriceBorder: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  priceText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  selectedPriceText: {\r\n    color: '#333',\r\n  },\r\n  selectedSizeButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  sizeButtonText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    textAlign: 'center',\r\n  },\r\n  bottomContainer: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  fittingTypeContainer: {\r\n    position: 'absolute',\r\n    bottom: 120, // Adjust this value to move the text higher or lower\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n    marginBottom: 20,\r\n  },\r\n  fittingTypeText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    backgroundColor: '#ffc100',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 25,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  ferruleContainer: {\r\n      width: BUTTON_WIDTH,\r\n      alignItems: 'center',\r\n      marginTop: 10,\r\n      marginBottom: 15,\r\n      padding: 15,\r\n      backgroundColor: 'white',\r\n  },\r\n  ferruleImage: {\r\n      width: '50%',\r\n      height: 150,\r\n      marginVertical: 10,\r\n  },\r\n  ferruleTextContainer: {\r\n      alignSelf: 'center',\r\n      marginBottom: 30,\r\n      backgroundColor: '#ffc100',\r\n      borderWidth: 4,\r\n      borderColor: '#4a4a4a',\r\n      borderRadius: 25,\r\n      paddingVertical: 8,\r\n      paddingHorizontal: 15,\r\n  },\r\n  ferruleText: {\r\n      fontSize: 16,\r\n      fontWeight: 'bold',\r\n      color: '#4a4a4a',\r\n      textAlign: 'center',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default OrfsScreen2;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, Modal, StyleSheet, TouchableOpacity, TouchableWithoutFeedback, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\r\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\n\r\nconst AngleButton = ({ angle, image, onPress, isSelected, onHelpPress }) => (\r\n  <TouchableOpacity \r\n    style={[styles.angleButton, isSelected && styles.selectedAngleButton]} \r\n    onPress={onPress}\r\n  >\r\n    <Image source={image} style={styles.angleImage} resizeMode=\"contain\" />\r\n    <Text style={styles.angleText}>{angle}</Text>\r\n    <TouchableOpacity \r\n      style={styles.helpIcon} \r\n      onPress={onHelpPress}\r\n      hitSlop={{ top: 10, right: 10, bottom: 10, left: 10 }} // Additional hit area\r\n    >\r\n      <View style={styles.helpIconVisual}>\r\n        <Text style={styles.helpIconText}>?</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  </TouchableOpacity>\r\n);\r\n\r\nconst OrientationSelectionScreen = ({ route }) => { \r\n  const navigation = useNavigation();\r\n  const [selectedAngle, setSelectedAngle] = useState(null);\r\n  const { selectedHose, selectedHosePrice,  selectedFitting, end1Shape, end1Size, end1Price, selectedEnd2Fitting, end2Shape, end2Size, end2Price  } = route.params;\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false);\r\n  const [currentHelpImage, setCurrentHelpImage] = useState(null);\r\n  const helpFadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const angles = [\r\n    { angle: '0°', image: require('../assets/0_degrees.png'), helpImage: require('../assets/0_degrees_help.png') },\r\n    { angle: '45°', image: require('../assets/45_degrees.png'), helpImage: require('../assets/45_degrees_help.png') },\r\n    { angle: '90°', image: require('../assets/90_degrees.png'), helpImage: require('../assets/90_degrees_help.png') },\r\n    { angle: '135°', image: require('../assets/135_degrees.png'), helpImage: require('../assets/135_degrees_help.png') },\r\n    { angle: '180°', image: require('../assets/180_degrees.png'), helpImage: require('../assets/180_degrees_help.png') },\r\n    { angle: '225°', image: require('../assets/225_degrees.png'), helpImage: require('../assets/225_degrees_help.png') },\r\n    { angle: '270°', image: require('../assets/270_degrees.png'), helpImage: require('../assets/270_degrees_help.png') },\r\n    { angle: '315°', image: require('../assets/315_degrees.png'), helpImage: require('../assets/315_degrees_help.png') },\r\n  ];\r\n\r\n\r\n\r\n  const handleAngleSelection = (angle) => {\r\n    setSelectedAngle(angle);\r\n    // Start fade-out animation\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      // Navigate to next screen after fade-out completes\r\n      navigation.navigate('CutLengths', { \r\n        selectedHose,\r\n        selectedHosePrice, \r\n        selectedFitting,\r\n        end1Shape, \r\n        end1Size,\r\n        end1Price,\r\n        selectedEnd2Fitting,\r\n        end2Shape,\r\n        end2Size,\r\n        end2Price,\r\n        selectedAngle: angle\r\n      });\r\n    });\r\n  };\r\n\r\n  const handleHelpPress = (helpImage) => {\r\n    setCurrentHelpImage(helpImage);\r\n    setShowHelpOverlay(true);\r\n    helpFadeAnim.setValue(0);\r\n    Animated.timing(helpFadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n  \r\n  const closeHelpOverlay = () => {\r\n    Animated.timing(helpFadeAnim, {\r\n      toValue: 0,\r\n      duration: 300,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setShowHelpOverlay(false);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Fade in animation when the component mounts\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  }, []);\r\n\r\n  // Reset fade-in when screen comes into focus\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      //setSelectedAngle(null);\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: true,\r\n      }).start();\r\n\r\n      return () => {\r\n        // Optional cleanup if needed\r\n      };\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Floating Back Button */}\r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Text style={styles.backButtonText}>←</Text>\r\n      </TouchableOpacity>\r\n      \r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>      \r\n          <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\r\n            <View style={styles.titleContainer}>\r\n              <Text style={styles.titleText}>Select ORIENTATION</Text>\r\n            </View>\r\n            <View style={styles.subtitleContainer}>\r\n              <Text style={styles.subtitleText}>*No Extra Charges*</Text>\r\n            </View>\r\n            <Image\r\n              source={require('../assets/line_of_sight.png')}\r\n              style={styles.diagram}\r\n              resizeMode=\"contain\"\r\n            />\r\n            <ScrollView \r\n              style={styles.scrollView} \r\n              contentContainerStyle={styles.scrollViewContent}\r\n              centerContent={true}\r\n            >\r\n              <View style={styles.angleButtonsContainer}>\r\n                {angles.map((angleData, index) => (\r\n                  <View key={index} style={styles.angleButtonWrapper}>\r\n                    <AngleButton\r\n                      angle={angleData.angle}\r\n                      image={angleData.image}\r\n                      onPress={() => handleAngleSelection(angleData.angle)}\r\n                      isSelected={selectedAngle === angleData.angle}\r\n                      onHelpPress={() => handleHelpPress(angleData.helpImage)}\r\n                    />\r\n                  </View>\r\n                ))}\r\n              </View>\r\n            </ScrollView>\r\n          </Animated.View>\r\n\r\n            <Modal\r\n              transparent={true}\r\n              visible={showHelpOverlay}\r\n              onRequestClose={closeHelpOverlay}\r\n            >\r\n              <TouchableWithoutFeedback onPress={closeHelpOverlay}>\r\n                <View style={styles.modalOverlay}>\r\n                  <View style={styles.overlayBackground} />\r\n                  <Animated.View style={[styles.helpImageContainer, { opacity: helpFadeAnim }]}>\r\n                    <TouchableOpacity \r\n                      style={styles.closeButton}\r\n                      onPress={closeHelpOverlay}\r\n                    >\r\n                      <Text style={styles.closeButtonText}>×</Text>\r\n                    </TouchableOpacity>\r\n                    <Image\r\n                      source={currentHelpImage}\r\n                      style={styles.helpImage}\r\n                      resizeMode=\"contain\"\r\n                    />\r\n                  </Animated.View>\r\n                </View>\r\n              </TouchableWithoutFeedback>\r\n            </Modal>\r\n\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: 400,\r\n    height: 200,\r\n    resizeMode: 'contain',\r\n  },\r\n  titleContainer: {\r\n    alignSelf: 'center',\r\n    marginBottom: 5,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  subtitleContainer: {\r\n  alignItems: 'center',\r\n  marginTop: 20,\r\n  },\r\n  subtitleText: {\r\n  fontSize: 24,\r\n  fontWeight: 'bold',\r\n  color: '#ffc100',\r\n  textAlign: 'center',\r\n  },\r\n  logo: {\r\n    width: '100%',\r\n    height: undefined,\r\n    aspectRatio: 2, // Adjust based on your logo's aspect ratio\r\n    resizeMode: 'contain',\r\n    maxWidth: 400,\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  scrollViewContent: {\r\n    flexGrow: 1,\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    paddingVertical: 0,\r\n    paddingBottom: 170,\r\n    minHeight: '100%',\r\n  },\r\n  angleButtonsContainer: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-evenly',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    //aspectRatio: 1,\r\n    maxWidth: 800,\r\n    alignSelf: 'center',\r\n    paddingHorizontal: 15,\r\n    marginTop: 0,\r\n  },\r\n  angleButtonWrapper: {\r\n    width: '23%',\r\n    aspectRatio: 1,\r\n    paddingVertical: 20,\r\n    paddingHorizontal: 8,\r\n  },\r\n  diagram: {\r\n    width: '100%',\r\n    height: undefined,\r\n    aspectRatio: 16 / 9, // Adjust this ratio based on your image's dimensions\r\n    maxWidth: 600,\r\n    alignSelf: 'center',\r\n    marginBottom: 5,\r\n  },\r\n  angleButton: {\r\n    width: '100%',\r\n    height: '100%',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    overflow: 'hidden',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 10,\r\n    backgroundColor: '#fff',\r\n    // iOS shadow properties\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n        width: 5,\r\n        height: 8,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    // Android shadow\r\n    elevation: 5,\r\n  },\r\n  selectedAngleButton: {\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n  },\r\n  angleImage: {\r\n    marginTop: 8,\r\n    width: '65%',\r\n    height: '65%',\r\n    resizeMode: 'contain',\r\n  },\r\n  angleText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginTop: 5,\r\n    marginBottom: 2,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  helpIcon: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    width: 44,\r\n    height: 44,\r\n    //borderRadius: 12,\r\n    //backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1,\r\n  },\r\n  helpIconVisual: {\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 12,\r\n    backgroundColor: 'rgba(128, 128, 128, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  helpIconText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  overlayBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n  },\r\n  helpImageContainer: {\r\n    width: '80%',\r\n    height: '80%',\r\n  },\r\n  helpImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: -20,\r\n    right: -20,\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#4a4a4a',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  closeButtonText: {\r\n    color: 'white',\r\n    fontSize: 35,\r\n    textAlign: 'center',\r\n    alignSelf: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  footerLeft: {\r\n    flex: 1,\r\n  },\r\n  footerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  footerRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  placeholderButton: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default OrientationSelectionScreen;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { View, Text, StyleSheet, SafeAreaView, Image, Dimensions, Platform, TextInput, ScrollView, Animated, TouchableOpacity } from 'react-native';\r\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\r\nimport NextArrowButton from './NextArrowButton';\r\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\n\r\nconst CutLengthsScreen = () => {\r\n  const navigation = useNavigation();\r\n  const route = useRoute();\r\n  const { selectedHose, selectedHosePrice, isHoseOnly, selectedFitting, end1Shape, end1Size, end1Price, isOrderFittingMode , selectedEnd2Fitting, end2Shape, end2Size, end2Price, selectedAngle } = route.params || {};\r\n\r\n  const [quantity, setQuantity] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [cutLengths, setCutLengths] = useState([]);\r\n  const [showCutLengths, setShowCutLengths] = useState(false);\r\n  const [allLengthsFilled, setAllLengthsFilled] = useState(false);\r\n  const [lastInputIndex, setLastInputIndex] = useState(-1);\r\n  const [cutLengthErrors, setCutLengthErrors] = useState([]);\r\n  const quantityInputRef = useRef(null);\r\n  const inputRefs = useRef([]);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [cutLengthPrice, setCutLengthPrice] = useState(0);\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [hasSubmitted, setHasSubmitted] = useState(false);\r\n\r\n  const SelectedHoseDisplay = ({ size, price }) => (\r\n    <View style={styles.selectedHoseContainer}>\r\n      <Text style={styles.selectedHoseHeader}>Selected Hose Size</Text>\r\n      <Text style={styles.selectedHoseSize}>{size}</Text>\r\n      <View style={styles.selectedHosePriceContainer}>\r\n        <Text style={styles.selectedHosePrice}>A$ {price}/meter</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  const DynamicPriceDisplay = ({ totalPrice, isHoseOnly }) => (\r\n    <View style={styles.selectedHoseContainer}>\r\n      <Text style={styles.selectedHoseHeader}>\r\n        {isOrderFittingMode ? 'Total Fitting Price' : \r\n         isHoseOnly ? 'Hose Only Price' : 'Total Hose and Fitting Price'}\r\n      </Text>\r\n      <View style={styles.selectedHosePriceContainer}>\r\n        <Text style={styles.selectedHosePrice}>A$ {totalPrice.toFixed(2)}</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  useEffect(() => {\r\n    console.log('Received in CutLengths:', {\r\n      isHoseOnly,\r\n      end1Price,\r\n      end2Price,\r\n      selectedHosePrice\r\n    });\r\n  }, [isHoseOnly, end1Price, end2Price, selectedHosePrice]);\r\n\r\nuseEffect(() => {\r\n  // Short timeout to ensure the input is rendered\r\n  const timer = setTimeout(() => {\r\n    if (quantityInputRef.current) {\r\n      quantityInputRef.current.focus();\r\n    }\r\n  }, 100);\r\n\r\n  return () => clearTimeout(timer);\r\n}, []);\r\n  \r\nuseEffect(() => {\r\n  if (showCutLengths) {\r\n    const num = parseInt(quantity, 10);\r\n    if (!isNaN(num) && num > 0 && num <= 10) {\r\n      setCutLengths(Array(num).fill({ length: '', unit: 'mm' }));\r\n      setCutLengthErrors(Array(num).fill(''));\r\n      inputRefs.current = inputRefs.current.slice(0, num);\r\n      // Focus the first input after a short delay to ensure rendering\r\n      setTimeout(() => {\r\n        if (inputRefs.current[0]) {\r\n          inputRefs.current[0].focus();\r\n        }\r\n      }, 100);\r\n    } else {\r\n      setCutLengths([]);\r\n      setCutLengthErrors([]);\r\n    }\r\n  }\r\n}, [quantity, showCutLengths]);\r\n\r\n  useEffect(() => {\r\n    const allFilled = cutLengths.length > 0 && cutLengths.every(cut => cut.length !== '');\r\n    \r\n    if (cutLengths.length > 1) {\r\n      if (lastInputIndex === cutLengths.length - 1) {\r\n        const emptyFields = cutLengths.map((cut, index) => cut.length === '' ? index : -1)\r\n                                    .filter(index => index !== -1);\r\n        \r\n        if (emptyFields.length > 0) {\r\n          const newErrors = [...cutLengthErrors];\r\n          emptyFields.forEach(index => {\r\n            newErrors[index] = 'Please enter value in the empty fields';\r\n          });\r\n          setCutLengthErrors(newErrors);\r\n          setAllLengthsFilled(false);\r\n        } else {\r\n          const allNumeric = cutLengths.every(cut => /^\\d+$/.test(cut.length));\r\n          if (allNumeric) {\r\n            setCutLengthErrors(Array(cutLengths.length).fill(''));\r\n          }\r\n          setAllLengthsFilled(true && showCutLengths);\r\n        }\r\n      } else {\r\n        const allNumeric = cutLengths.every(cut => /^\\d+$/.test(cut.length));\r\n        if (allNumeric) {\r\n          setCutLengthErrors(Array(cutLengths.length).fill(''));\r\n        }\r\n      }\r\n    } else {\r\n      setAllLengthsFilled(allFilled && showCutLengths);\r\n    }\r\n  }, [cutLengths, showCutLengths, lastInputIndex]);\r\n\r\n  useEffect(() => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  }, []);\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      // Only reset the animation\r\n      fadeAnim.setValue(0);\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 800,\r\n        useNativeDriver: true,\r\n      }).start();\r\n  \r\n      // We'll keep this to ensure the keyboard appears when needed\r\n      if (!quantity && quantityInputRef.current) {\r\n        const timer = setTimeout(() => {\r\n          quantityInputRef.current.focus();\r\n        }, 100);\r\n        return () => clearTimeout(timer);\r\n      }\r\n    }, [fadeAnim])\r\n  );\r\n\r\n  const validateQuantity = (value) => {\r\n    // Reset states for both modes\r\n    setShowCutLengths(false);\r\n    setHasSubmitted(false);\r\n    \r\n    if (value === '') {\r\n      setQuantity(value);\r\n      setTotalPrice(0);\r\n      setError(''); // Clear any existing errors\r\n      return;\r\n    }\r\n    \r\n    // Immediately show error for non-numeric input\r\n    if (!/^\\d+$/.test(value)) {\r\n      setError('Please enter numbers only');\r\n      setTotalPrice(0);\r\n      return;\r\n    }\r\n    \r\n    // If we get here, we have a valid number\r\n    const num = parseInt(value, 10);\r\n    setError(''); // Clear any existing errors\r\n    setQuantity(value);\r\n    \r\n    // For Fitting Mode: Calculate price immediately\r\n    if (isOrderFittingMode) {\r\n      const fittingPrice = parseFloat(end1Price || 0);\r\n      const totalPrice = fittingPrice * num;\r\n      setTotalPrice(totalPrice);\r\n      setCutLengthPrice(totalPrice);\r\n    }\r\n  };\r\n  \r\n  const handleQuantitySubmit = () => {\r\n    // Validate quantity limits on submit\r\n    const num = parseInt(quantity, 10);\r\n    const maxQuantity = isOrderFittingMode ? 50 : 10;\r\n  \r\n    if (quantity === '') {\r\n      setError('Please enter a quantity');\r\n      return;\r\n    }\r\n    \r\n    if (num > maxQuantity) {\r\n      setError(`Maximum quantity is ${maxQuantity}`);\r\n      return;\r\n    }\r\n  \r\n    // If we get here, there are no errors\r\n    setError('');\r\n  \r\n    // Proceed based on mode\r\n    if (isOrderFittingMode) {\r\n      setHasSubmitted(true);\r\n      calculatePrice([]); // Ensure price is calculated\r\n    } else {\r\n      setShowCutLengths(true);\r\n      setTimeout(() => {\r\n        if (inputRefs.current[0]) {\r\n          inputRefs.current[0].focus();\r\n        }\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const updateCutLength = (index, length) => {\r\n    const updatedLengths = [...cutLengths];\r\n    const updatedErrors = [...cutLengthErrors];\r\n  \r\n    // Update the length regardless of content\r\n    updatedLengths[index] = { ...updatedLengths[index], length };\r\n    \r\n    // Only reset hasSubmitted if modifying the last input\r\n    if (index === cutLengths.length - 1) {\r\n      setHasSubmitted(false);\r\n    } else {\r\n      // Automatically calculate price for non-last inputs\r\n      calculatePrice(updatedLengths);\r\n    }\r\n    \r\n    // Check if the entire input is numeric\r\n    if (!/^\\d+$/.test(length) && length !== '') {\r\n      updatedErrors[index] = 'Please enter numbers only';\r\n    } else if (length === '' && index === cutLengths.length - 1) {\r\n      updatedErrors[index] = 'Please enter value in the empty fields';\r\n    } else if (/^\\d+$/.test(length)) {\r\n      updatedErrors[index] = '';\r\n    }\r\n  \r\n    setCutLengths(updatedLengths);\r\n    setCutLengthErrors(updatedErrors);\r\n};\r\n\r\nconst handleNext = () => {\r\n  // For fitting mode, we only need to validate quantity\r\n  if (isOrderFittingMode && quantity !== '' && !error) {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      navigation.navigate('OrderConfirmation1', {\r\n        quantity: parseInt(quantity, 10),\r\n        selectedFitting: route.params.selectedFitting,\r\n        end1Shape: route.params.end1Shape,\r\n        end1Size: route.params.end1Size,\r\n        end1Price: route.params.end1Price,\r\n        cutLengthPrice, // Include the calculated price\r\n        // Pass default values for unused parameters when in fitting mode\r\n        selectedHose: null,\r\n        selectedHosePrice: null,\r\n        selectedEnd2Fitting: null,\r\n        end2Shape: null,\r\n        end2Size: null,\r\n        end2Price: null,\r\n        selectedAngle: null,\r\n        isHoseOnly: false,\r\n        isOrderFittingMode: true\r\n      });\r\n    });\r\n  } else if (!isOrderFittingMode && allLengthsFilled) {\r\n    // Original logic for non-fitting mode remains the same\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 800,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      navigation.navigate('HoseProtection', {\r\n        quantity: parseInt(quantity, 10),\r\n        cutLengths,\r\n        cutLengthPrice,\r\n        selectedHose,\r\n        selectedHosePrice,\r\n        selectedFitting,\r\n        end1Shape,\r\n        end1Size,\r\n        end1Price,\r\n        selectedEnd2Fitting,\r\n        end2Shape,\r\n        end2Size,\r\n        end2Price,\r\n        selectedAngle,\r\n        isHoseOnly: route.params.isHoseOnly,\r\n      });\r\n    });\r\n  }\r\n};\r\n\r\nconst calculatePrice = (lengths) => {\r\n  if (isOrderFittingMode) {\r\n    // For fitting mode, price is simply end1Price * quantity\r\n    const fittingPrice = parseFloat(end1Price || 0);\r\n    const qty = parseInt(quantity, 10);\r\n    const totalPrice = fittingPrice * qty;\r\n    \r\n    console.log('Fitting Mode Price Calculation:', {\r\n      fittingPrice,\r\n      quantity: qty,\r\n      totalPrice\r\n    });\r\n    \r\n    setTotalPrice(totalPrice);\r\n    setCutLengthPrice(totalPrice);\r\n  } else {\r\n    // Original price calculation for hose mode\r\n    const totalLengthInMeters = lengths.reduce((sum, cut) => {\r\n      const lengthInMillimeters = parseInt(cut.length || '0', 10);\r\n      return sum + (lengthInMillimeters / 1000);\r\n    }, 0);\r\n    \r\n    const pricePerMeter = parseFloat(selectedHosePrice);\r\n    const hosePrice = totalLengthInMeters * pricePerMeter;\r\n    \r\n    console.log('Hose Mode Price Calculation:', {\r\n      isHoseOnly,\r\n      hosePrice,\r\n      end1Price,\r\n      end2Price,\r\n      parsedEnd1Price: parseFloat(end1Price || 0),\r\n      parsedEnd2Price: parseFloat(end2Price || 0),\r\n    });\r\n    \r\n    const calculatedPrice = isHoseOnly \r\n      ? hosePrice \r\n      : hosePrice + parseFloat(end1Price || 0) + parseFloat(end2Price || 0);\r\n    \r\n    console.log('Final calculated price:', calculatedPrice);\r\n    \r\n    setTotalPrice(calculatedPrice);\r\n    setCutLengthPrice(calculatedPrice);\r\n  }\r\n};\r\n\r\n  const handleInputSubmit = (index) => {\r\n    const currentValue = cutLengths[index].length;\r\n    if (!currentValue || !/^\\d+$/.test(currentValue)) {\r\n      return;\r\n    }\r\n  \r\n    if (index < cutLengths.length - 1) {\r\n      inputRefs.current[index + 1].focus();\r\n      // Calculate price automatically for non-last inputs\r\n      calculatePrice(cutLengths);\r\n    } else {\r\n      // Only set hasSubmitted to true if it's the last input\r\n      setHasSubmitted(true);\r\n      calculatePrice(cutLengths);\r\n    }\r\n    \r\n    const allFilled = cutLengths.every(cut => cut.length !== '' && /^\\d+$/.test(cut.length));\r\n    setAllLengthsFilled(allFilled);\r\n    \r\n    setLastInputIndex(index);\r\n  };\r\n\r\n  const handleKeyPress = (e, index) => {\r\n    if (e.nativeEvent.key === 'Tab') {\r\n      e.preventDefault();\r\n      handleInputSubmit(index);\r\n    }\r\n  };\r\n\r\n  const renderCutLengthRows = () => {\r\n    if (!showCutLengths) return null;\r\n  \r\n    return (\r\n      <View>\r\n        {cutLengths.map((cut, index) => (\r\n          <View key={index}>\r\n            <View style={styles.cutLengthRow}>\r\n              <View style={styles.rowLabelContainer}>\r\n                <View style={styles.rowNumberContainer}>\r\n                  <Text style={styles.rowNumber}>{`${index + 1}.`}</Text>\r\n                </View>\r\n                <Text style={styles.cutLengthText}>Cut Length</Text>\r\n              </View>\r\n              <View style={styles.cutLengthInputContainer}>\r\n                <TextInput\r\n                  ref={el => inputRefs.current[index] = el}\r\n                  style={[\r\n                    styles.cutLengthInput,\r\n                    cutLengthErrors[index] ? styles.inputError : null\r\n                  ]}\r\n                  value={cut.length}\r\n                  placeholder=\"Enter length in millimeters\"\r\n                  placeholderTextColor=\"#999999\"\r\n                  onChangeText={(text) => updateCutLength(index, text)}\r\n                  onSubmitEditing={() => handleInputSubmit(index)}\r\n                  onKeyPress={(e) => handleKeyPress(e, index)}\r\n                  keyboardType=\"numeric\"\r\n                  returnKeyType={index === cutLengths.length - 1 ? \"done\" : \"next\"}\r\n                  blurOnSubmit={false}\r\n                />\r\n                <Text style={styles.unitText}>{cut.unit}</Text>\r\n              </View>\r\n            </View>\r\n            {cutLengthErrors[index] ? <Text style={styles.errorText}>{cutLengthErrors[index]}</Text> : null}\r\n          </View>\r\n        ))}\r\n        {totalPrice > 0 && (\r\n          <View style={styles.pricingContainer}>\r\n              <DynamicPriceDisplay \r\n              totalPrice={totalPrice}\r\n              isHoseOnly={isHoseOnly} // Pass the isHoseOnly prop\r\n            />\r\n          </View>\r\n        )}\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <View style={styles.mainContainer}> \r\n      <TouchableOpacity \r\n        style={styles.floatingBackButton}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Text style={styles.backButtonText}>←</Text>\r\n      </TouchableOpacity>\r\n      <ScrollableGradientWrapper>\r\n        <SafeAreaView style={styles.container}>\r\n          {/* Logo section moved outside Animated.View */}\r\n          <View style={styles.logoContainer}>\r\n            <Image\r\n              source={require('../assets/fluidpower_logo.gif')}\r\n              style={styles.logo}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </View>\r\n  \r\n          <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\r\n            <ScrollView contentContainerStyle={styles.scrollContent}>\r\n              <View style={styles.contentContainer}>  {/* New container for everything except logo */}\r\n                {!isOrderFittingMode && selectedHose && selectedHosePrice && (\r\n                  <SelectedHoseDisplay \r\n                    size={selectedHose.size}\r\n                    price={selectedHosePrice}\r\n                  />\r\n                )}\r\n                <View style={styles.titleContainer}>\r\n                  <Text style={styles.titleText}>\r\n                    {isOrderFittingMode ? 'Quantity Required' : 'No. of Hoses REQUIRED'}\r\n                  </Text>\r\n                </View>\r\n  \r\n                <View style={styles.quantityRow}>\r\n                  <View style={styles.quantityContainer}>\r\n                    <Text style={styles.titleText}>QTY</Text>\r\n                  </View>\r\n                  <TextInput\r\n                    ref={quantityInputRef}\r\n                    style={styles.quantityInput}\r\n                    value={quantity}\r\n                    onChangeText={validateQuantity}\r\n                    onSubmitEditing={handleQuantitySubmit}\r\n                    keyboardType=\"numeric\"\r\n                    maxLength={2}\r\n                    returnKeyType=\"done\"\r\n                  />\r\n                </View>\r\n                <View style={styles.errorContainer}>\r\n                  {error ? <Text style={styles.errorText}>{error}</Text> : null}\r\n                </View>\r\n                \r\n                {/* Move price display here for fitting mode */}\r\n                {isOrderFittingMode && totalPrice > 0 && (\r\n                  <View style={styles.pricingContainer}>\r\n                    <DynamicPriceDisplay \r\n                      totalPrice={totalPrice}\r\n                      isHoseOnly={isHoseOnly}\r\n                    />\r\n                  </View>\r\n                )}\r\n  \r\n                {!isOrderFittingMode && (\r\n                  <>\r\n                    <View style={styles.subtitleContainer}>\r\n                      <Text style={styles.titleText}>Hose Cut LENGTHS</Text>\r\n                    </View>\r\n                    <Image\r\n                      source={require('../assets/hose_cut_length.png')}\r\n                      style={styles.diagram}\r\n                      resizeMode=\"contain\"\r\n                    />\r\n                    <View style={styles.cutLengthsContainer}>\r\n                      {renderCutLengthRows()}\r\n                    </View>\r\n                  </>\r\n                )}\r\n              </View>\r\n            </ScrollView>\r\n          </Animated.View>\r\n        </SafeAreaView>\r\n      </ScrollableGradientWrapper>\r\n  \r\n      {((isOrderFittingMode && quantity !== '' && !error && hasSubmitted) || \r\n        (!isOrderFittingMode && allLengthsFilled && hasSubmitted && \r\n         cutLengthErrors.every(error => error === '') && \r\n         cutLengths.every(cut => /^\\d+$/.test(cut.length)))) && (\r\n        <View style={styles.viewportFooter}>\r\n          <Animated.View style={[styles.footerContent, { opacity: fadeAnim }]}>\r\n            <View style={styles.footerRight}>\r\n              <NextArrowButton onPress={handleNext} isActive={true} />\r\n            </View>\r\n          </Animated.View>\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  mainContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    position: 'relative',\r\n  },\r\n  animatedContainer: {\r\n    flex: 1,\r\n  },\r\n  scrollContent: {\r\n    flexGrow: 1,\r\n    alignItems: 'center',\r\n    backgroundColor: 'transparent',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginVertical: 20,\r\n    width: '100%',\r\n    backgroundColor: 'white',\r\n  },\r\n  contentContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n  },\r\n  logo: {\r\n    width: '100%',\r\n    height: undefined,\r\n    aspectRatio: 2,\r\n    resizeMode: 'contain',\r\n    maxWidth: 400,\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n    marginTop: 15,\r\n    marginBottom: 5,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  titleText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  selectedHoseContainer: {\r\n    alignItems: 'center',\r\n    marginVertical: 15,\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 15,\r\n    padding: 12,\r\n    width: '80%',\r\n    maxWidth: 300,\r\n    backgroundColor: 'white',\r\n  },\r\n  selectedHoseHeader: {\r\n    fontSize: 18,\r\n    color: '#4a4a4a',\r\n    marginBottom: 4,\r\n  },\r\n  selectedHoseSize: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: 8,\r\n  },\r\n  selectedHosePriceContainer: {\r\n    backgroundColor: '#ffc100',\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 12,\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 15,\r\n  },\r\n  selectedHosePrice: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  quantityRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n  },\r\n  quantityContainer: {\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n  },\r\n  quantityInput: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    borderWidth: 4,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    width: 80,\r\n    height: 60,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  errorContainer: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    marginTop: 5,\r\n  },\r\n  errorText: {\r\n    color: 'red',\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n  },\r\n  inputError: {\r\n    borderColor: 'red',\r\n  },\r\n  subtitleContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 5,\r\n    backgroundColor: '#4a4a4a',\r\n    borderRadius: 25,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n    marginTop: 20,\r\n  },\r\n  diagram: {\r\n    width: '80%',\r\n    height: undefined,\r\n    aspectRatio: 16 / 12,\r\n    maxWidth: 300,\r\n    alignSelf: 'center',\r\n  },\r\n  cutLengthsContainer: {\r\n    width: '100%',\r\n    maxWidth: 500,\r\n    alignItems: 'center',\r\n    marginTop: 20,\r\n  },\r\n  cutLengthRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 10,\r\n    width: '100%',\r\n  },\r\n  cutLengthText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n  },\r\n  rowLabelContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    flex: 1,\r\n  },\r\n  rowNumberContainer: {\r\n    width: 40, // Adjust this width as needed\r\n    alignItems: 'flex-end',\r\n    marginRight: 5,\r\n  },\r\n  rowNumber: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    marginRight: 10,\r\n  },\r\n  cutLengthInputContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  cutLengthInput: {\r\n    fontSize: 18,\r\n    fontWeight: 'normal',\r\n    textAlign: 'left',\r\n    borderWidth: 2,\r\n    borderColor: '#4a4a4a',\r\n    borderRadius: 8,\r\n    width: 230,  // Increased width to accommodate placeholder\r\n    height: 45,\r\n    marginRight: 5,\r\n    marginLeft: 30,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: '#F5F5F5',\r\n  },\r\n  unitText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#4a4a4a',\r\n    width: 40,\r\n    marginLeft: 5,\r\n  },\r\n  pricingContainer: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n  },\r\n  floatingBackButton: {\r\n    position: 'absolute',\r\n    top: Platform.OS === 'ios' ? 60 : 20,\r\n    left: 30,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 24,\r\n    color: '#4a4a4a',\r\n  },\r\n  viewportFooter: {\r\n    position: 'absolute',\r\n    bottom: Platform.OS === 'ios' ? 40 : 20,\r\n    right: 20,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.9)', // semi-transparent white background\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    zIndex: 1000,\r\n  },\r\n  footerContent: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  footerRight: {\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nexport default CutLengthsScreen;","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated, } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8); // Button width, capped at 320\n\nconst ProtectionTypeButton = ({ type, image, onPress, isSelected, priceText }) => (\n  <TouchableOpacity \n    style={[\n      styles.protectionButton, \n      isSelected && styles.selectedProtectionButton\n    ]} \n    onPress={onPress}\n  >\n    <View style={styles.protectionContent}>\n      {image ? (\n        <>\n          <Text style={styles.protectionButtonText}>{type}</Text>\n          <View style={styles.contentRow}>\n            <View style={styles.imageContainer}>\n              <Image source={image} style={styles.protectionImage} resizeMode=\"contain\" />\n            </View>\n            <View style={styles.priceContainer}>\n              <View style={[styles.priceBorder, isSelected && styles.selectedPriceBorder]}>\n                <Text style={[styles.priceText, isSelected && styles.selectedPriceText]}>\n                  {priceText}\n                </Text>\n              </View>\n            </View>\n          </View>\n        </>\n      ) : (\n        <View style={styles.noImageContentCentered}>\n          <Text style={styles.protectionButtonText}>{type}</Text>\n        </View>\n      )}\n    </View>\n  </TouchableOpacity>\n);\n\nconst PriceDisplay = ({ price, isHoseOnly, hasProtection, titleFade, priceFade }) => (\n    <View style={styles.pricingCard}>\n      <Animated.Text style={[styles.pricingHeader, { opacity: titleFade }]}>\n        {hasProtection ? 'Hose Price with Protection' : (isHoseOnly ? 'Hose Only Price' : 'Total Hose and Fitting Price')}\n      </Animated.Text>\n      <View style={styles.pricingValueContainer}>\n        <Animated.Text style={[styles.pricingValue, { opacity: priceFade }]}>\n          A$ {price.toFixed(2)}\n        </Animated.Text>\n      </View>\n    </View>\n  );\n\n  const HoseProtectionScreen = () => {\n    const navigation = useNavigation();\n    const route = useRoute();\n    const [selectedProtection, setSelectedProtection] = useState(null);\n    const [initialPrice, setInitialPrice] = useState(0);\n    const [protectionPrice, setProtectionPrice] = useState(0);\n    const priceFade = useRef(new Animated.Value(1)).current;\n    const fadeAnim = useRef(new Animated.Value(0)).current;\n    const titleFade = useRef(new Animated.Value(1)).current;\n    \n    const { \n      selectedHose, \n      selectedHosePrice,\n      selectedFitting, \n      end1Shape, \n      end1Size,\n      end1Price, \n      selectedEnd2Fitting, \n      end2Shape, \n      end2Size,\n      end2Price, \n      selectedAngle, \n      quantity, \n      cutLengths,\n      cutLengthPrice, \n      isHoseOnly\n    } = route.params || {};\n  \n    // Move protectionTypes outside of useEffect\n    const protectionTypes = [\n      { type: 'NOT REQUIRED', image: null },\n      { type: 'Nylon Hose Sleeve', image: require('../assets/nylon_sleeve.png') },\n      { type: 'Plastic Spiral Cover', image: require('../assets/plastic_spiral.png') },\n      { type: 'Metal Spiral Wrap', image: require('../assets/metal_spiral.png') },\n    ];\n  \n    // First useEffect for logging\n    useEffect(() => {\n      console.log('Received in Protection Screen:', {\n        hoseSize: selectedHose?.size,\n        hosePrice: selectedHosePrice,\n        quantity,\n        cutLengths,\n        isHoseOnly,\n        cutLengthPrice\n      });\n    }, [selectedHose, selectedHosePrice, quantity, cutLengths, isHoseOnly]);\n\n    useEffect(() => {\n      if (cutLengthPrice) {\n        setInitialPrice(cutLengthPrice);\n        setProtectionPrice(cutLengthPrice);\n      }\n    }, [cutLengthPrice]);\n  \n    // Third useEffect for fade animation\n    useEffect(() => {\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: true,\n      }).start();\n    }, []);\n  \n    useFocusEffect(\n      React.useCallback(() => {\n       // setSelectedProtection(null);\n        fadeAnim.setValue(0);\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 800,\n          useNativeDriver: true,\n        }).start();\n  \n        return () => {\n          // Optional cleanup if needed\n        };\n      }, [fadeAnim])\n    );\n\n    const PROTECTION_PRICE_MULTIPLIERS = {\n      'Nylon Hose Sleeve': 1.30,  // 30% increase\n      'Plastic Spiral Cover': 1.40, // 40% increase\n      'Metal Spiral Wrap': 1.50,   // 50% increase\n      'NOT REQUIRED': 1.0  // No increase\n    };\n  \n    const handleProtectionSelection = (type) => {\n      setSelectedProtection(type);\n      \n      if (type === 'NOT REQUIRED') {\n        // Simple navigation with current price\n        Animated.timing(fadeAnim, {\n          toValue: 0,\n          duration: 800,\n          useNativeDriver: true,\n        }).start(() => {\n          navigateToNext(type, initialPrice);\n        });\n      } else {\n        // Parallel animation for title and price\n        Animated.sequence([\n          Animated.parallel([\n            // Fade out both title and price\n            Animated.timing(titleFade, {\n              toValue: 0,\n              duration: 500,\n              useNativeDriver: true,\n            }),\n            Animated.timing(priceFade, {\n              toValue: 0,\n              duration: 500,\n              useNativeDriver: true,\n            })\n          ]),\n          Animated.timing(new Animated.Value(0), {\n            toValue: 1,\n            duration: 100,\n            useNativeDriver: true,\n          }),\n        ]).start(() => {\n          // Update price state after fade out\n          const multiplier = PROTECTION_PRICE_MULTIPLIERS[type];\n          const newPrice = initialPrice * multiplier;\n          setProtectionPrice(newPrice);\n          \n          // Fade in both title and price\n          Animated.parallel([\n            Animated.timing(titleFade, {\n              toValue: 1,\n              duration: 500,\n              useNativeDriver: true,\n            }),\n            Animated.timing(priceFade, {\n              toValue: 1,\n              duration: 500,\n              useNativeDriver: true,\n            })\n          ]).start(() => {\n            // Start navigation animation after price update\n            setTimeout(() => {\n              Animated.timing(fadeAnim, {\n                toValue: 0,\n                duration: 800,\n                useNativeDriver: true,\n              }).start(() => {\n                navigateToNext(type, newPrice);\n              });\n            }, 1000);\n          });\n        });\n      }\n    };\n    \n    // Update the navigateToNext function to include protection cost calculation\n    const navigateToNext = (type, price) => {\n      const nextScreen = isHoseOnly ? 'ShippingOptions' : 'PressureTesting';\n      navigation.navigate(nextScreen, {\n        selectedProtection: type,\n        selectedHose,\n        selectedHosePrice,\n        selectedFitting,\n        end1Shape,\n        end1Size,\n        end1Price,\n        selectedEnd2Fitting,\n        end2Shape,\n        end2Size,\n        end2Price, \n        selectedAngle,\n        cutLengths,\n        quantity,\n        isHoseOnly,\n        cutLengthPrice: initialPrice, // Pass the original cut length price\n        basePrice: initialPrice,\n        hoseProtectionPrice: price,\n        protectionCost: type === 'NOT REQUIRED' ? 0 : (price - initialPrice)\n      });\n    };\n  \n    return (\n      <View style={styles.mainContainer}>\n        {/* Floating Back Button */}\n        <TouchableOpacity \n          style={styles.floatingBackButton}\n          onPress={() => navigation.goBack()}\n        >\n          <Text style={styles.backButtonText}>←</Text>\n        </TouchableOpacity>\n        \n        <ScrollableGradientWrapper>\n          <SafeAreaView style={styles.container}>\n            <View style={styles.logoContainer}>\n              <Image\n                source={require('../assets/fluidpower_logo.gif')}\n                style={styles.logo}\n                resizeMode=\"contain\"\n              />\n            </View>\n            \n            <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n              <View style={styles.titleContainer}>\n                <View style={styles.titleWrapper}>\n                  <Text style={styles.titleText}>Hose PROTECTION</Text>\n                  <Text style={styles.titleText}>(Optional)</Text>\n                </View>\n              </View>\n    \n              <View style={styles.subtitleContainer}>\n                <Text style={styles.subtitleText}>Get your Hose Protected</Text>\n                <Text style={styles.subtitleText}>Safety and Long Life</Text>\n              </View>\n\n              <View style={styles.subtitleContainer2}>\n                <Text style={styles.subtitleText2}>*Hose Protection Prices Applied</Text>\n                <Text style={styles.subtitleText2}>On Hose Lengths Only</Text>\n              </View>\n    \n              <View style={styles.scrollViewContent}>\n              {protectionTypes.map((protection, index) => (\n                <ProtectionTypeButton\n                  key={index}\n                  type={protection.type}\n                  image={protection.image}\n                  onPress={() => handleProtectionSelection(protection.type)}\n                  isSelected={selectedProtection === protection.type}\n                  priceText={\n                    protection.type === 'NOT REQUIRED' ? '' :\n                    `A$ ${(initialPrice * (PROTECTION_PRICE_MULTIPLIERS[protection.type] - 1)).toFixed(2)}`\n                  }\n                />\n              ))}\n    \n                <View style={styles.pricingSection}>\n                  <PriceDisplay \n                    price={selectedProtection && selectedProtection !== 'NOT REQUIRED' ? protectionPrice : initialPrice}\n                    isHoseOnly={isHoseOnly}\n                    hasProtection={selectedProtection && selectedProtection !== 'NOT REQUIRED'}\n                    titleFade={titleFade}\n                    priceFade={priceFade}\n                  />\n                </View>\n              </View>\n            </Animated.View>\n          </SafeAreaView>\n        </ScrollableGradientWrapper>\n      </View>\n    );\n   };\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  mainScrollView: {\n    flex: 1,\n  },\n  mainScrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: 20,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: 400,\n    height: 200,\n    resizeMode: 'contain',\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  subtitleContainer: {\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  subtitleText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#ffc100',\n    textAlign: 'center',\n  },\n  subtitleContainer2: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  subtitleText2: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n  },\n  protectionButton: {\n    marginBottom: 20,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    overflow: 'hidden',\n    width: BUTTON_WIDTH,\n    height: 140, // Reduced height\n    backgroundColor: '#fff',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  selectedProtectionButton: {\n    backgroundColor: '#ffc100',\n  },\n  protectionButtonText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  protectionContent: {\n    flex: 1,\n    padding: 15,\n    alignItems: 'center',\n  },\n  selectedProtectionButton: {\n    backgroundColor: '#ffc100',\n  },\n  noImageButton: {\n    height: 80, // Smaller height for no-image button\n  },\n  contentRow: {\n    flexDirection: 'row',\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    paddingTop: 5,\n  },\n  noImageContent: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 10,\n  },\n  imageContainer: {\n    flex: 1,\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    paddingLeft: 20,\n  },\n  priceContainer: {\n    flex: 1,\n    alignItems: 'flex-end',\n    justifyContent: 'center',\n    paddingRight: 20,\n  },\n  noImageContentCentered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  protectionImage: {\n    width: 100,\n    height: 50,\n    marginTop: 10,\n  },\n  noImagePlaceholder: {\n    width: 100,\n    height: 100,\n  },\n  noImageSubtext: {\n    fontSize: 18,\n    color: '#666',\n    marginTop: 10,\n  },\n  leftColumn: {\n    flex: 2, // Takes up 2/3 of the space\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  rightColumn: {\n    flex: 1, // Takes up 1/3 of the space\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingLeft: 10,\n  },\n  priceSummaryContainer: {\n    backgroundColor: '#fff',\n    borderRadius: 15,\n    padding: 15,\n    marginHorizontal: 20,\n    marginTop: 20,\n    alignItems: 'center',\n  },\n  priceRow: {\n    flexDirection: 'column', // Stack label and value vertically\n    alignItems: 'center', // Center horizontally\n    marginBottom: 10,\n  },\n  priceLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n    textAlign: 'center',\n  },\n  priceValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#ffc100',\n    textAlign: 'center',\n  },\n  protectionCost: {\n    fontSize: 14,\n    color: '#666',\n    fontStyle: 'italic',\n    textAlign: 'center',\n  },\n  pricingSection: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  pricingCard: {\n    backgroundColor: '#fff',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    padding: 12,\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 300,\n    alignSelf: 'center',\n  },\n  marginBottom20: {\n    marginBottom: 20,\n  },\n  pricingHeader: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  pricingValueContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 12,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n  },\n  pricingValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  priceBorder: {\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n    backgroundColor: '#ffc100',\n    minWidth: 80,\n    alignItems: 'center',\n  },\n  priceText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },  \n  selectedPriceBorder: {\n    backgroundColor: 'transparent',\n  },\n  selectedPriceText: {\n    color: '#333',\n  },\n  protectionContent: {\n    flex: 1,\n    padding: 15,\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  protectionImage: {\n    width: 100,\n    height: 80, // Adjusted to accommodate price\n    marginVertical: 5,\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n    backgroundColor: 'transparent',\n  },\n  footerLeft: {\n    flex: 1,\n  },\n  footerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  footerRight: {\n    flex: 1,\n    alignItems: 'flex-end',\n  },\n  placeholderButton: {\n    width: 50,\n    height: 50,\n  },\n});\n\nexport default HoseProtectionScreen;","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\n\n// Price Display Component\nconst PriceDisplay = ({ price, hasTestingSelected, titleFade, priceFade }) => (\n  <View style={styles.pricingCard}>\n    <Animated.Text style={[styles.pricingHeader, { opacity: titleFade }]}>\n      {hasTestingSelected ? 'Price with Pressure Testing' : 'Total Hose and Fitting Price'}\n    </Animated.Text>\n    <View style={styles.pricingValueContainer}>\n      <Animated.Text style={[styles.pricingValue, { opacity: priceFade }]}>\n        A$ {price.toFixed(2)}\n      </Animated.Text>\n    </View>\n  </View>\n);\n\nconst PressureButton = ({ type, onPress, isSelected }) => (\n  <TouchableOpacity \n    style={[styles.pressureButton, isSelected && styles.selectedPressureButton]} \n    onPress={onPress}\n  >\n    <Text style={styles.pressureButtonText}>{type}</Text>\n  </TouchableOpacity>\n);\n\nconst PressureTestingScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [selectedPressure, setSelectedPressure] = useState(null);\n  const [initialPrice, setInitialPrice] = useState(0);\n  const [pressureTestPrice, setPressureTestPrice] = useState(0);\n  const priceFade = useRef(new Animated.Value(1)).current;\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const titleFade = useRef(new Animated.Value(1)).current;\n\n  const { \n    selectedHose,\n    selectedHosePrice,\n    selectedFitting, \n    end1Shape, \n    end1Size,\n    end1Price, \n    selectedEnd2Fitting, \n    end2Shape, \n    end2Size,\n    end2Price, \n    selectedAngle,\n    quantity,\n    cutLengths,\n    selectedProtection,\n    cutLengthPrice,\n    basePrice,\n    hoseProtectionPrice,\n    protectionCost\n  } = route.params || {};\n\n  const pressureOptions = [\n    'Not Required',\n    '3000psi',\n    '4000psi',\n    '5000psi',\n    '6000psi'\n  ];\n\n  // Set initial price\n  useEffect(() => {\n    if (hoseProtectionPrice) {\n      setInitialPrice(hoseProtectionPrice);  // Show price from Hose Protection\n      setPressureTestPrice(hoseProtectionPrice);\n    }\n  }, [hoseProtectionPrice]);\n\n  useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: true,\n    }).start();\n  }, []);\n\n  useFocusEffect(\n    React.useCallback(() => {\n      fadeAnim.setValue(0);\n      const timer = setTimeout(() => {\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 400,\n          useNativeDriver: true,\n        }).start();\n      }, 50);\n\n      return () => clearTimeout(timer);\n    }, [fadeAnim])\n  );\n\n  const handlePressureSelection = (pressure) => {\n    setSelectedPressure(pressure);\n    \n    if (pressure === 'Not Required') {\n      // Simple navigation with current price from Hose Protection\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 800,\n        useNativeDriver: true,\n      }).start(() => {\n        navigateToNext(pressure, initialPrice);\n      });\n    } else {\n      // Parallel animation for title and price\n      Animated.sequence([\n        Animated.parallel([\n          // Fade out both title and price\n          Animated.timing(titleFade, {\n            toValue: 0,\n            duration: 500,\n            useNativeDriver: true,\n          }),\n          Animated.timing(priceFade, {\n            toValue: 0,\n            duration: 500,\n            useNativeDriver: true,\n          })\n        ]),\n        Animated.timing(new Animated.Value(0), {\n          toValue: 1,\n          duration: 100,\n          useNativeDriver: true,\n        }),\n      ]).start(() => {\n        // Calculate pressure test cost (Fixes Price of A$ 10)\n        const pressureTestCost = 10;\n        // Add this to the price from Hose Protection\n        const newPrice = hoseProtectionPrice + pressureTestCost;\n        setPressureTestPrice(newPrice);\n        \n        // Fade in both title and price\n        Animated.parallel([\n          Animated.timing(titleFade, {\n            toValue: 1,\n            duration: 500,\n            useNativeDriver: true,\n          }),\n          Animated.timing(priceFade, {\n            toValue: 1,\n            duration: 500,\n            useNativeDriver: true,\n          })\n        ]).start(() => {\n          // Start navigation animation after price update\n          setTimeout(() => {\n            Animated.timing(fadeAnim, {\n              toValue: 0,\n              duration: 800,\n              useNativeDriver: true,\n            }).start(() => {\n              navigateToNext(pressure, newPrice);\n            });\n          }, 1000);\n        });\n      });\n    }\n  };\n\n  const navigateToNext = (pressure, price) => {\n    navigation.navigate('ShippingOptions', {\n      selectedPressure: pressure,\n      selectedProtection,\n      selectedHose,\n      selectedHosePrice,\n      selectedFitting,\n      end1Shape,\n      end1Size,\n      end1Price,\n      selectedEnd2Fitting,\n      end2Shape,\n      end2Size,\n      end2Price,\n      selectedAngle,\n      quantity,\n      cutLengths,\n      cutLengthPrice,\n      basePrice,\n      hoseProtectionPrice: price,  // Pass the new total price as hoseProtectionPrice\n      protectionCost,\n      pressureTestPrice: pressure === 'Not Required' ? 0 : 10  // Fixes fee of A$10\n    });\n  };\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Back Button */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Text style={styles.backButtonText}>←</Text>\n      </TouchableOpacity>\n      <ScrollableGradientWrapper>\n        <SafeAreaView style={styles.container}>\n        <View style={styles.logoContainer}>\n          <Image\n            source={require('../assets/fluidpower_logo.gif')}\n            style={styles.logo}\n            resizeMode=\"contain\"\n          />\n        </View>\n        <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n          <View style={styles.titleContainer}>\n            <View style={styles.titleWrapper}>\n              <Text style={styles.titleText}>Pressure TESTING</Text>\n              <Text style={styles.titleText}>(Optional)</Text>\n            </View>\n          </View>\n          <Image\n            source={require('../assets/pressure_testing_diagram.png')}\n            style={styles.diagram}\n            resizeMode=\"contain\"\n          />\n          <View style={styles.subtitleContainer}>\n            <Text style={styles.subtitleText}>\n              Get your Hose Pressure Tested for an additional A$ 10.00 per Hose\n            </Text>\n          </View>\n          <View style={styles.buttonsContainer}>\n            {pressureOptions.map((pressure, index) => (\n              <PressureButton\n                key={index}\n                type={pressure}\n                onPress={() => handlePressureSelection(pressure)}\n                isSelected={selectedPressure === pressure}\n              />\n            ))}\n          </View>\n\n          <View style={styles.pricingSection}>\n            <PriceDisplay \n              price={selectedPressure && selectedPressure !== 'Not Required' ? pressureTestPrice : initialPrice}\n              hasTestingSelected={selectedPressure && selectedPressure !== 'Not Required'}\n              titleFade={titleFade}\n              priceFade={priceFade}\n            />\n          </View>\n        </Animated.View>\n        </SafeAreaView>\n      </ScrollableGradientWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: 400,\n    height: 200,\n    resizeMode: 'contain',\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 10,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  diagram: {\n    width: '100%',\n    height: 180,\n    marginVertical: 5,\n  },\n  subtitleContainer: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  subtitleText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#ffc100',\n    textAlign: 'center',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n  },\n  pressureButton: {\n    marginBottom: 10,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    overflow: 'hidden',\n    width: BUTTON_WIDTH,\n    height: 100,\n    alignSelf: 'center',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 30,\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  selectedPressureButton: {\n    backgroundColor: '#ffc100',\n  },\n  pressureButtonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  pricingSection: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  pricingCard: {\n    backgroundColor: '#fff',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    padding: 12,\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 300,\n    alignSelf: 'center',\n  },\n  pricingHeader: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  pricingValueContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 12,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n  },\n  pricingValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n    backgroundColor: 'transparent',\n  },\n  footerLeft: {\n    flex: 1,\n  },\n  footerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  footerRight: {\n    flex: 1,\n    alignItems: 'flex-end',\n  },\n  placeholderButton: {\n    width: 50,\n    height: 50,\n  },\n});\n\nexport default PressureTestingScreen;","import React, { useRef, useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, SafeAreaView, Image, Dimensions, Platform, Animated } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\n\n// Shipping Button Component\nconst ShippingButton = ({ type, price, onPress, isSelected }) => (\n  <TouchableOpacity \n    style={[\n      styles.shippingButton,\n      isSelected && styles.selectedShippingButton\n    ]}\n    onPress={onPress}\n  >\n    <View style={styles.shippingContent}>\n      <Text style={styles.shippingButtonText}>{type}</Text>\n      <View style={[styles.pricingValueContainer, isSelected && styles.selectedPricingValueContainer]}>\n        <Text style={styles.priceText}>\n          {price === 'FREE' ? 'FREE' : `A$ ${price}`}\n        </Text>\n      </View>\n    </View>\n  </TouchableOpacity>\n);\n\n// Price Display Component\nconst PriceDisplay = ({ price, hasProtection, withShipping, titleFade, priceFade }) => (\n  <View style={styles.pricingCard}>\n    <Animated.Text style={[styles.pricingHeader, { opacity: titleFade }]}>\n      {withShipping ? 'Price with Express Shipping' : \n       (hasProtection ? 'Hose Price with Protection' : 'Hose Only Price')}\n    </Animated.Text>\n    <View style={styles.pricingValueContainer}>\n      <Animated.Text style={[styles.pricingValue, { opacity: priceFade }]}>\n        A$ {price.toFixed(2)}\n      </Animated.Text>\n    </View>\n  </View>\n);\n\nconst ShippingOptionsScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [selectedService, setSelectedService] = useState(null);\n  const [basePrice, setBasePrice] = useState(0);\n  const [shippingPrice, setShippingPrice] = useState(0);\n  const priceFade = useRef(new Animated.Value(1)).current;\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const titleFade = useRef(new Animated.Value(1)).current;\n\n  const { \n    selectedHose,\n    selectedHosePrice, \n    selectedFitting, \n    end1Shape, \n    end1Size,\n    end1Price, \n    selectedEnd2Fitting, \n    end2Shape, \n    end2Size,\n    end2Price,\n    selectedAngle, \n    quantity, \n    cutLengths, \n    selectedProtection,\n    basePrice: receivedBasePrice,\n    totalPrice: receivedTotalPrice,\n    protectionCost,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    cutLengthPrice,  // Added this\n    totalBeforeShipping  // Added this\n  } = route.params || {};\n\n  useEffect(() => {\n    if (totalBeforeShipping) {\n      setBasePrice(totalBeforeShipping);\n      setShippingPrice(totalBeforeShipping);\n    } else if (hoseProtectionPrice) {\n      setBasePrice(hoseProtectionPrice);\n      setShippingPrice(hoseProtectionPrice);\n    } else if (cutLengthPrice) {\n      setBasePrice(cutLengthPrice);\n      setShippingPrice(cutLengthPrice);\n    }\n  }, [totalBeforeShipping, hoseProtectionPrice, cutLengthPrice]);\n\n  useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: true,\n    }).start();\n  }, []);\n\n  useFocusEffect(\n    React.useCallback(() => {\n      //setSelectedService(null);\n      fadeAnim.setValue(0);\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: true,\n      }).start();\n    }, [fadeAnim])\n  );\n\n  const handleServiceSelection = (service) => {\n    setSelectedService(service);\n    \n    if (service === 'STANDARD') {\n      // Standard shipping navigation\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 800,\n        useNativeDriver: true,\n      }).start(() => {\n        navigateToNext(service, basePrice);\n      });\n    } else {\n      // Express shipping with animation\n      Animated.sequence([\n        Animated.parallel([\n          Animated.timing(titleFade, {\n            toValue: 0,\n            duration: 500,\n            useNativeDriver: true,\n          }),\n          Animated.timing(priceFade, {\n            toValue: 0,\n            duration: 500,\n            useNativeDriver: true,\n          })\n        ]),\n        Animated.timing(new Animated.Value(0), {\n          toValue: 1,\n          duration: 100,\n          useNativeDriver: true,\n        }),\n      ]).start(() => {\n        const newPrice = basePrice + 10;\n        setShippingPrice(newPrice);\n        \n        Animated.parallel([\n          Animated.timing(titleFade, {\n            toValue: 1,\n            duration: 500,\n            useNativeDriver: true,\n          }),\n          Animated.timing(priceFade, {\n            toValue: 1,\n            duration: 500,\n            useNativeDriver: true,\n          })\n        ]).start(() => {\n          setTimeout(() => {\n            Animated.timing(fadeAnim, {\n              toValue: 0,\n              duration: 800,\n              useNativeDriver: true,\n            }).start(() => {\n              navigateToNext(service, newPrice);\n            });\n          }, 1000);\n        });\n      });\n    }\n  };\n\n  const navigateToNext = (service, finalPrice) => {\n    navigation.navigate('OrderConfirmation1', {\n      selectedService: service,\n      cutLengths,\n      selectedHose,\n      selectedHosePrice,\n      selectedFitting,\n      end1Shape,\n      end1Size,\n      end1Price,\n      selectedEnd2Fitting,\n      end2Shape,\n      end2Size,\n      end2Price,\n      selectedAngle,\n      quantity,\n      selectedProtection,\n      hoseProtectionPrice,\n      selectedPressure,\n      pressureTestPrice,\n      basePrice: receivedBasePrice,\n      totalBeforeShipping: totalBeforeShipping || hoseProtectionPrice || cutLengthPrice,\n      cutLengthPrice: cutLengthPrice,\n      shippingCost: service === 'EXPRESS' ? 10 : 0,\n      totalPriceWithShipping: finalPrice,\n      protectionCost,\n    });\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      {/* Add Floating Back Button here */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Text style={styles.backButtonText}>←</Text>\n      </TouchableOpacity>\n      <View style={styles.logoContainer}>\n        <Image\n          source={require('../assets/fluidpower_logo.gif')}\n          style={styles.logo}\n          resizeMode=\"contain\"\n        />\n      </View>\n      <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n        <View style={styles.titleContainer}>\n          <View style={styles.titleWrapper}>\n            <Text style={styles.titleText}>Select Shipping OPTION</Text>\n          </View>\n        </View>\n\n        <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\n          <ShippingButton\n            type=\"STANDARD\"\n            price=\"FREE\"\n            onPress={() => handleServiceSelection('STANDARD')}\n            isSelected={selectedService === 'STANDARD'}\n          />\n          <ShippingButton\n            type=\"EXPRESS\"\n            price=\"10.00\"\n            onPress={() => handleServiceSelection('EXPRESS')}\n            isSelected={selectedService === 'EXPRESS'}\n          />\n\n          <View style={styles.pricingSection}>\n            <PriceDisplay \n              price={selectedService === 'EXPRESS' ? shippingPrice : basePrice}\n              hasProtection={selectedProtection && selectedProtection !== 'NOT REQUIRED'}\n              withShipping={selectedService === 'EXPRESS'}\n              titleFade={titleFade}\n              priceFade={priceFade}\n            />\n          </View>\n        </ScrollView>\n      </Animated.View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 30,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingBottom: 20,\n  },\n  shippingButton: {\n    width: BUTTON_WIDTH,\n    height: 150,\n    marginBottom: 20,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 20,\n    backgroundColor: 'transparent',\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  selectedShippingButton: {\n    backgroundColor: '#ffc100',\n  },\n  shippingContent: {\n    flex: 1,\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  shippingButtonText: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  pricingSection: {\n    width: '100%',\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  pricingCard: {\n    backgroundColor: '#fff',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 15,\n    padding: 12,\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 300,\n    alignSelf: 'center',\n  },\n  pricingHeader: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  pricingValueContainer: {\n    backgroundColor: '#ffc100',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 12,\n    paddingVertical: 5,\n    paddingHorizontal: 15,\n  },\n  selectedPricingValueContainer: {\n    backgroundColor: 'transparent',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n  pricingValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  }\n});\n\nexport default ShippingOptionsScreen;","import React, { useRef, useEffect } from 'react';\nimport { View, Text, StyleSheet, SafeAreaView, Image, ScrollView, TouchableOpacity, Platform, Dimensions, Animated } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\n// Helper Components\nconst LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nconst BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.cutLengthsPriceBorder}>\n            <Text style={styles.priceText}>\n              {typeof price === 'number' ? `A$${price.toFixed(2)}` : price}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {typeof price === 'number' ? `A$${price.toFixed(2)}` : price}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nconst NumberedCircle = ({ number }) => (\n  <View style={styles.numberedCircle}>\n    <Text style={styles.numberedCircleText}>{number}</Text>\n  </View>\n);\n\nconst TotalPriceDisplay = ({ total }) => (\n  <View style={styles.totalPriceContainer}>\n    <View style={styles.totalPriceLabelItem}>\n      <Text style={styles.totalPriceLabelText}>TOTAL PRICE</Text>\n    </View>\n    <View style={styles.totalPriceValueContainer}>\n      <Text style={styles.totalPriceValueText}>\n        A${total ? total.toFixed(2) : '0.00'}\n      </Text>\n    </View>\n  </View>\n);\n\n// Helper Functions\nconst cleanPriceString = (priceStr) => {\n  if (!priceStr) return 0;\n  return parseFloat(priceStr.replace(/\\s+/g, '').split('/')[0]);\n};\n\n// Main Component\nconst OrderConfirmationScreen1 = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [isSelected, setIsSelected] = React.useState(false);\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n\n  const { \n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice,\n    selectedProtection,\n    selectedPressure,\n    selectedMethod,\n    selectedService,\n    basePrice,\n    hoseProtectionPrice,\n    pressureTestPrice,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    isOrderFittingMode\n  } = route.params || {};\n\n  // Helper function for getting total length\n  const getTotalLength = () => {\n    if (!cutLengths) return 0;\n    return cutLengths.reduce((total, cut) => {\n      if (!cut.length) return total;\n      return total + (parseFloat(cut.length) / 1000); // Convert mm to meters\n    }, 0);\n  };\n\n  useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: true,\n    }).start();\n  }, []);\n\n  useFocusEffect(\n    React.useCallback(() => {\n      setIsSelected(null);\n      fadeAnim.setValue(0);\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: true,\n      }).start();\n    }, [fadeAnim])\n  );\n\n  const orderDetails = {\n    hoseSize: selectedHose ? selectedHose.size : null,\n    end1: end1Shape && end1Size ? { type: end1Shape, size: end1Size } : null,\n    end2: end2Shape && end2Size ? { \n      type: end2Shape, \n      size: end2Size,\n    } : null,\n    angle: selectedAngle || null,\n    qty: quantity || null,\n    cutLengths: cutLengths && cutLengths.length > 0 ? cutLengths : null,\n    hoseProtection: selectedProtection || null,\n    pressureTest: selectedPressure || null,\n    shippingMethod: selectedMethod || null,\n    shippingService: selectedService || null\n  };\n\n  // Calculate total price components\n  const calculatePrices = () => {\n    const totalLength = getTotalLength();\n    const baseHosePrice = totalLength * cleanPriceString(selectedHosePrice);\n    const protectionAmount = selectedProtection === 'NOT REQUIRED' ? 0 : protectionCost;\n    const finalShippingCost = shippingCost || 0;\n    const total = baseHosePrice + protectionAmount + finalShippingCost;\n\n    return {\n      baseHosePrice,\n      protectionAmount,\n      finalShippingCost,\n      total\n    };\n  };\n\n  const renderPriceSummary = () => {\n    return (\n      <View style={styles.priceSummaryContainer}>\n        {/* Empty container kept for potential future use */}\n      </View>\n    );\n  };\n\n  const renderOrderDetails = () => {\n    const details = Object.entries(orderDetails).filter(([_, value]) => value !== null);\n    return details.map(([key, value], index) => {\n      let label, content, price;\n\n      switch (key) {\n        case 'hoseSize':\n          label = 'HOSE SIZE';\n          content = value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'end1':\n          label = 'END1';\n          content = `${value.type} - ${value.size}`;\n          price = end1Price;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'end2':\n          label = 'END2';\n          content = `${value.type} - ${value.size}`;\n          price = end2Price;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'angle':\n          label = 'ANGLE';\n          content = value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'qty':\n          label = 'QTY';\n          content = value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'cutLengths':\n          const totalLength = getTotalLength();\n          const cutLengthPrice = totalLength * cleanPriceString(selectedHosePrice);\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>CUT LENGTHS</LabelItem>\n              <BorderedItem \n                price={cutLengthPrice}\n                isCutLengths={true}\n                style={styles.cutLengthsContainer}\n              >\n                <View>\n                  {value.map((cut, i) => (\n                    <View key={i} style={styles.cutLengthRow}>\n                      <NumberedCircle number={i + 1} />\n                      <Text style={styles.cutLengthText}>{`${cut.length} ${cut.unit}`}</Text>\n                    </View>\n                  ))}\n                </View>\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'hoseProtection':\n          label = 'HOSE PROTECTION';\n          content = value;\n          price = value === 'NOT REQUIRED' ? 'NOT REQUIRED' : protectionCost;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        case 'pressureTest':\n          label = 'PRESSURE TEST';\n          content = value;\n          price = value === 'Not Required' ? 'NOT REQUIRED' : pressureTestPrice;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n        \n        case 'shippingService':\n          label = 'SHIPPING SERVICE';\n          content = value;\n          price = shippingCost > 0 ? shippingCost : 'FREE';\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem price={price}>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n\n        default:\n          label = key.toUpperCase().replace('_', ' ');\n          content = typeof value === 'object' ? \n            `${value.type} - ${value.size}` : value;\n          return (\n            <View key={index} style={styles.rowContainer}>\n              <LabelItem>{label}</LabelItem>\n              <BorderedItem>\n                {content}\n              </BorderedItem>\n            </View>\n          );\n      }\n    });\n  };\n  \n  const handleShippingDetails = () => {\n    setIsSelected(true);\n    Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 800,\n      useNativeDriver: true,\n    }).start(() => {\n      navigation.navigate('ShippingDetails', {\n        selectedHose,\n        selectedHosePrice,\n        selectedFitting,\n        end1Shape,\n        end1Size,\n        end1Price,\n        selectedEnd2Fitting,\n        end2Shape,\n        end2Size,\n        end2Price,\n        selectedAngle,\n        quantity,\n        cutLengths,\n        cutLengthPrice,isOrderFittingMode,\n        selectedProtection,\n        selectedPressure,\n        selectedMethod,\n        selectedService,\n        basePrice,\n        hoseProtectionPrice,\n        pressureTestPrice,\n        protectionCost,\n        shippingCost,\n        totalBeforeShipping,\n        totalPriceWithShipping: calculatePrices().total,\n      });\n    });\n  };\n\n  useEffect(() => {\n    console.log('Debug prices:', {\n      selectedHosePrice,\n      cutLengths,\n      basePrice,\n      protectionCost,\n      shippingCost,\n      totalPriceWithShipping\n    });\n  }, []);\n\n  const displayTotalPrice = isOrderFittingMode ? cutLengthPrice : totalPriceWithShipping;\n\n  return (\n    <SafeAreaView style={styles.mainContainer}>\n      {/* Floating Back Button */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Text style={styles.backButtonText}>←</Text>\n      </TouchableOpacity>\n\n      <View style={styles.mainContentContainer}>\n        <ScrollableGradientWrapper>\n          <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.scrollContent}>\n              <View style={styles.logoContainer}>\n                <Image\n                  source={require('../assets/fluidpower_logo.gif')}\n                  style={styles.logo}\n                  resizeMode=\"contain\"\n                />\n              </View>\n              <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n                <View style={styles.titleContainer}>\n                  <Text style={styles.titleText}>ORDER Summary</Text>\n                </View>\n                <View style={styles.orderDetailsContainer}>\n                  {renderOrderDetails()}\n                </View>\n                {renderPriceSummary()}\n                <TotalPriceDisplay total={displayTotalPrice} />\n                <TouchableOpacity \n                  style={[styles.confirmButton, isSelected && { backgroundColor: '#ffc100' }]} \n                  onPress={handleShippingDetails}\n                >\n                  <Text style={styles.confirmButtonText}>SHIPPING Details</Text>\n                </TouchableOpacity>\n              </Animated.View>\n            </ScrollView>\n          </View>\n        </ScrollableGradientWrapper>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContentContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingBottom: 20,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n    marginBottom: 15,\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  animatedContainer: {\n    width: '100%',\n    alignItems: 'center',\n  },\n  titleContainer: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    marginVertical: 20,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  orderDetailsContainer: {\n    width: '95%',\n    maxWidth: 800,\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemContent: {\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  itemImage: {\n    width: 40,\n    height: 40,\n    marginLeft: 10,\n  },\n  cutLengthsContainer: {\n    //minHeight: 150,\n  },\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginLeft: 10,\n  },\n  cutLengthsLayout: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  cutLengthsContent: {\n    flex: 1,\n    paddingRight: 10,\n  },\n  cutLengthsPriceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    alignSelf: 'center',\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  priceSummaryContainer: {\n    width: '95%',\n    maxWidth: 800,\n    marginTop: 20,\n  },\n  priceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  totalPriceBorder: {\n    backgroundColor: '#ffc100',\n  },\n  totalPriceContainer: {\n    width: '95%',\n    maxWidth: 800,\n    marginVertical: 20,\n    alignItems: 'center',\n  },\n  totalPriceLabelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    marginBottom: 10,\n  },\n  totalPriceLabelText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  totalPriceValueContainer: {\n    width: 200,\n    height: 200,\n    borderRadius: 25,\n    backgroundColor: '#ffc100',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  totalPriceValueText: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  confirmButton: {\n    backgroundColor: 'transparent',\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    marginVertical: 20,\n    alignSelf: 'center',\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  confirmButtonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n});\n\nexport default OrderConfirmationScreen1;","import React, { useState, useRef } from 'react';\nimport { View, Text, StyleSheet, SafeAreaView, Image, Dimensions, Platform, TextInput, ScrollView, Animated, TouchableOpacity } from 'react-native';\nimport { useNavigation, useRoute, useFocusEffect } from '@react-navigation/native';\nimport { Picker } from '@react-native-picker/picker';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\nconst STATES = ['Select State', 'ACT', 'NSW', 'NT', 'QLD', 'SA', 'TAS', 'VIC', 'WA'];\n\nconst ShippingDetailsScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const buttonRef = React.useRef(null);\n  const [isSelected, setIsSelected] = React.useState(false);\n  const [hadTenDigits, setHadTenDigits] = useState(false);\n  const [formSubmitAttempted, setFormSubmitAttempted] = useState(false);\n\n  const { \n    selectedHose,\n        selectedHosePrice,\n        selectedFitting,\n        end1Shape,\n        end1Size,\n        end1Price,\n        selectedEnd2Fitting,\n        end2Shape,\n        end2Size,\n        end2Price,\n        selectedAngle,\n        quantity,\n        cutLengths,\n        cutLengthPrice, isOrderFittingMode,\n        selectedProtection,\n        selectedPressure,\n        selectedMethod,\n        selectedService,\n        basePrice,\n        hoseProtectionPrice,\n        pressureTestPrice,\n        protectionCost,\n        shippingCost,\n        totalBeforeShipping,\n        totalPriceWithShipping\n  } = route.params || {};\n  \n  // State for form fields\n  const [formFields, setFormFields] = useState({\n    name: '',\n    companyName: '',\n    address: '',\n    suburb: '',\n    state: 'Select State', // Default state selection\n    postcode: '',\n    email: '',\n    contactNumber: ''\n  });\n\n  const [touchedFields, setTouchedFields] = useState({\n    name: false,\n    companyName: false,\n    address: false,\n    suburb: false,\n    state: false,\n    postcode: false,\n    email: false,\n    contactNumber: false\n  })\n  \n  const [errors, setErrors] = useState({\n    name: '',\n    companyName: '',\n    address: '',\n    suburb: '',\n    state: '',\n    postcode: '',\n    email: '',\n    contactNumber: ''\n  });\n\n  const [allFieldsFilled, setAllFieldsFilled] = useState(false);\n  const inputRefs = useRef([]);\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n\n  // Initial fade-in animation\n  React.useEffect(() => {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: true,\n    }).start();\n  }, []);\n\n  // Screen focus animation and cleanup\n  useFocusEffect(\n    React.useCallback(() => {\n      fadeAnim.setValue(0);\n      setIsSelected(false);\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 800,\n        useNativeDriver: true,\n      }).start();\n\n      return () => {\n        // Cleanup if needed\n      };\n    }, [fadeAnim])\n  );\n\n  React.useEffect(() => {\n    // Small delay to ensure the input is mounted\n    const timer = setTimeout(() => {\n      if (inputRefs.current[0]) {\n        inputRefs.current[0].focus();\n      }\n    }, 100);\n  \n    return () => clearTimeout(timer);\n  }, []);\n\n  {/*\n  // Check if all required fields are filled\n  React.useEffect(() => {\n    const requiredFields = {\n      name: formFields.name,\n      address: formFields.address,\n      suburb: formFields.suburb,\n      state: formFields.state !== 'Select State' ? formFields.state : '',\n      postcode: formFields.postcode,\n      email: formFields.email,\n      //contactNumber: formFields.contactNumber \n    };\n\n    const isFilled = Object.entries(requiredFields).every(([key, value]) => value.trim() !== '');\n\n    const isContactNumberValid = \n    formFields.contactNumber.length === 10 && \n    /^\\d{10}$/.test(formFields.contactNumber);\n  \n    const hasNoErrors = Object.values(errors).every(error => error === '');\n    \n    setAllFieldsFilled(isFilled && hasNoErrors && isContactNumberValid);\n  }, [formFields, errors]);\n*/}\n\n  const validateField = (name, value) => {\n    let error = '';\n    \n    switch (name) {\n      case 'name':\n      case 'address':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        }\n        break;\n\n      case 'suburb':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else if (!/^[a-zA-Z\\s]+$/.test(value)) {\n          error = 'Please enter letters only';\n        }\n        break;\n\n      case 'state':\n        if (value === 'Select State') {\n          error = 'Please select a state';\n        }\n        break;\n\n      case 'postcode':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else if (!/^\\d{4}$/.test(value)) {\n          error = 'Please enter 4 digits';\n        }\n        break;\n\n      case 'email':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else {\n          const emailRegex = /^[a-zA-Z0-9._]+@[a-zA-Z]{2,}\\.[a-zA-Z]{2,}(\\.[a-zA-Z]{2,})*$/;\n          if (!emailRegex.test(value)) {\n            error = 'Please enter a valid email address';\n          }\n        }\n        break;\n\n      case 'contactNumber':\n        if (value.trim() === '') {\n          error = 'This field is required';\n        } else if (!/^\\d{10}$/.test(value)) {\n          error = 'Contact number must be 10 digits';\n        }\n        break;\n    }\n    \n    return error;\n  };\n\n  const updateField = (name, value) => {\n    setFormFields(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Only show errors if form submission was attempted\n    if (formSubmitAttempted) {\n      const error = validateField(name, value);\n      setErrors(prev => ({\n        ...prev,\n        [name]: error\n      }));\n    }\n  };\n\n  const handleNext = () => {\n    setFormSubmitAttempted(true);\n    \n    // Validate all required fields\n    const newErrors = {};\n    let hasErrors = false;\n    \n    Object.entries(formFields).forEach(([fieldName, value]) => {\n      if (fieldName !== 'companyName') { // Skip optional fields\n        const error = validateField(fieldName, value);\n        newErrors[fieldName] = error;\n        if (error) hasErrors = true;\n      }\n    });\n    \n    setErrors(newErrors);\n\n    if (!hasErrors) {\n      setIsSelected(true);\n      // Start the fade out animation\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 800,\n        useNativeDriver: true,\n      }).start(() => {\n        // Navigate after animation completes\n        navigation.navigate('Payment', {\n        // Previous parameters from route\n        selectedHose,\n        selectedHosePrice,\n        selectedFitting,\n        end1Shape,\n        end1Size,\n        end1Price,\n        selectedEnd2Fitting,\n        end2Shape,\n        end2Size,\n        end2Price,\n        selectedAngle,\n        quantity,\n        cutLengths,\n        cutLengthPrice, isOrderFittingMode,\n        selectedProtection,\n        hoseProtectionPrice,\n        selectedPressure,\n        pressureTestPrice,\n        selectedMethod,\n        selectedService,\n        basePrice,\n        shippingCost,\n        totalBeforeShipping,\n        totalPriceWithShipping,\n        protectionCost,\n        shippingDetails: formFields,\n      });\n    });\n  }\n};\n      \n\nconst handleInputSubmit = (index) => {\n  const currentFieldName = Object.keys(formFields)[index];\n  \n  // Show required field error immediately when skipping\n  setTouchedFields(prev => ({\n    ...prev,\n    [currentFieldName]: true\n  }));\n\n  const currentValue = formFields[currentFieldName];\n  const error = validateField(currentFieldName, currentValue, true);\n  setErrors(prev => ({\n    ...prev,\n    [currentFieldName]: error\n  }));\n\n  if (index < 6) {\n    inputRefs.current[index + 1].focus();\n  }\n};\n    \nconst handleInputBlur = (name) => {\n  setTouchedFields(prev => ({\n    ...prev,\n    [name]: true\n  }));\n  \n  // Only show errors if form submission was attempted\n  if (formSubmitAttempted) {\n    const error = validateField(name, formFields[name]);\n    setErrors(prev => ({\n      ...prev,\n      [name]: error\n    }));\n  }\n};\n\n    const renderInputField = (label, name, index, keyboardType = 'default', isOptional = false, additionalProps = {}) => (\n      <View key={name} style={styles.inputRow}>\n        <View style={styles.labelContainer}>\n          <Text style={styles.labelText}>\n            {label}{!isOptional && <Text style={styles.asterisk}>*</Text>}{isOptional ? ' (Optional)' : ''}\n          </Text>\n        </View>\n        <View style={styles.inputContainer}>\n          <TextInput\n            ref={el => inputRefs.current[index] = el}\n            style={[\n              styles.input,\n              formSubmitAttempted && errors[name] ? styles.inputError : null\n            ]}\n            value={formFields[name]}\n            onChangeText={(text) => updateField(name, text)}\n            onSubmitEditing={() => handleInputSubmit(index)}\n            onBlur={() => handleInputBlur(name)}\n            keyboardType={keyboardType}\n            returnKeyType={index === 6 ? \"done\" : \"next\"}\n            blurOnSubmit={index === 6}\n            maxLength={name === 'postcode' ? 4 : additionalProps?.maxLength}\n            placeholder={additionalProps?.placeholder}\n            {...additionalProps}\n          />\n        </View>\n        {formSubmitAttempted && errors[name] ? \n          <Text style={styles.errorText}>{errors[name]}</Text> : null}\n      </View>\n    );\n\n    return (\n      <View style={styles.mainContainer}>\n        {/* Floating Back Button */}\n        <TouchableOpacity \n          style={styles.floatingBackButton}\n          onPress={() => navigation.goBack()}\n        >\n          <Text style={styles.backButtonText}>←</Text>\n        </TouchableOpacity>\n    \n        <ScrollableGradientWrapper>\n          <SafeAreaView style={styles.container}>\n            <View style={styles.logoContainer}>\n              <Image\n                source={require('../assets/fluidpower_logo.gif')}\n                style={styles.logo}\n                resizeMode=\"contain\"\n              />\n            </View>\n            \n            <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\n              <ScrollView \n                style={styles.mainScrollView}\n                contentContainerStyle={styles.mainScrollViewContent}\n                showsVerticalScrollIndicator={true}\n              >\n                <View style={styles.titleContainer}>\n                  <Text style={styles.titleText}>Shipping Details</Text>\n                </View>\n                <Text style={styles.requiredFieldsText}>Fields marked with * are required</Text>\n            \n            <View style={styles.formContainer}>\n              {renderInputField('Name', 'name', 0)}\n              {renderInputField('Company Name', 'companyName', 1, 'default', true)}\n              {renderInputField('Address', 'address', 2)}\n              {renderInputField('Suburb', 'suburb', 3)}\n      \n              {/* State Picker */}\n              <View style={styles.inputRow}>\n                <View style={styles.labelContainer}>\n                  <Text style={styles.labelText}>\n                    State<Text style={styles.asterisk}>*</Text>\n                  </Text>\n                </View>\n                <View style={styles.pickerContainer}>\n                  <Picker\n                    selectedValue={formFields.state}\n                    onValueChange={(itemValue) => updateField('state', itemValue)}\n                    style={styles.picker}\n                    itemStyle={{ fontSize: 20, fontWeight: 'bold' }}\n                  >\n                    {STATES.map((state) => (\n                      <Picker.Item \n                        key={state} \n                        label={state} \n                        value={state}\n                        style={{ fontSize: 20, fontWeight: 'bold' }}\n                      />\n                    ))}\n                  </Picker>\n                </View>\n                {formSubmitAttempted && errors.state ? \n                  <Text style={styles.errorText}>{errors.state}</Text> : null}\n              </View>\n              \n              {renderInputField('Postcode', 'postcode', 4, 'numeric')}\n              {renderInputField('Email', 'email', 5, 'email-address')}\n              {renderInputField('Contact Number', 'contactNumber', 6, 'numeric', false, { maxLength: 10 })}\n              \n              {/* Proceed to Payment Button - Always visible */}\n              <TouchableOpacity \n                style={[\n                  styles.proceedButton,\n                  { backgroundColor: isSelected ? '#ffc100' : 'transparent' },\n                  { borderColor: '#4a4a4a' }\n                ]}\n                onPress={handleNext}\n                activeOpacity={0.8}\n              >\n                <Text style={styles.proceedButtonText}>Proceed to Payment</Text>\n              </TouchableOpacity>\n              </View>\n          </ScrollView>\n        </Animated.View>\n      </SafeAreaView>\n    </ScrollableGradientWrapper>\n  </View>\n)\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  mainScrollView: {\n    flex: 1,\n  },\n  mainScrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: 20,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    alignItems: 'center',\n    paddingHorizontal: 10,\n    paddingBottom: 20,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  animatedContainer: {\n    flex: 1,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',  // This ensures horizontal centering\n    paddingHorizontal: 20, // Add horizontal padding\n    width: '100%',        // Ensure full width\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginTop: 15,\n    marginBottom: 20,\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 30,  // Increased padding\n    alignSelf: 'center',\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  requiredFieldsText: {\n    color: 'red',\n    fontSize: 16,\n    marginTop: 5,\n    marginBottom: 15,\n    alignItems: 'center', // Center the form elements\n    alignSelf: 'center',\n  },\n  asterisk: {\n    color: 'red',\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  formContainer: {\n    width: '100%',\n    maxWidth: 400,       // Maximum width for the form\n    alignItems: 'center', // Center the form elements\n    alignSelf: 'center',  // Center the container itself\n  },\n  inputRow: {\n    marginBottom: 20,\n    width: '100%',   \n  },\n  labelContainer: {\n    marginBottom: 5,\n  },\n  labelText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  input: {\n    width: '100%',      // Ensure full width\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'left',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 10,\n    height: 40,\n    paddingHorizontal: 10,\n  },\n  pickerContainer: {\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    borderRadius: 10,\n    overflow: 'hidden',\n    width: '100%', \n  },\n  picker: {\n    height: 40,\n    backgroundColor: 'transparent',\n  },\n  inputError: {\n    borderColor: 'red',\n  },\n  errorText: {\n    color: 'red',\n    fontSize: 14,\n    marginTop: 5,\n  },\n  proceedButton: {\n    marginTop: 30,\n    marginBottom: 20,\n    paddingVertical: 12,\n    paddingHorizontal: 20,\n    borderRadius: 25,\n    borderWidth: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center',\n    minWidth: 200,\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n        width: 5,\n        height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n},\nproceedButtonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n},\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 20,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 20,\n    backgroundColor: 'transparent',\n  },\n  footerLeft: {\n    flex: 1,\n  },\n  footerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  footerRight: {\n    flex: 1,\n    alignItems: 'flex-end',\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: '#4a4a4a',\n  },\n});\n\nexport default ShippingDetailsScreen;","// PayPalWeb.js\nimport React from 'react';\n\nconst PayPalWeb = ({ visible, paypalUrl, onNavigationStateChange, onRequestClose }) => {\n  const paypalWindowRef = React.useRef(null);\n  const checkIntervalRef = React.useRef(null);\n  const hasOpenedWindow = React.useRef(false);\n\n  React.useEffect(() => {\n    // Only open the window if it hasn't been opened yet for this payment attempt\n    if (visible && paypalUrl && !hasOpenedWindow.current) {\n      hasOpenedWindow.current = true;\n      \n      // Open PayPal in new window\n      paypalWindowRef.current = window.open(paypalUrl, '_blank');\n\n      checkIntervalRef.current = setInterval(() => {\n        try {\n          if (paypalWindowRef.current?.closed) {\n            cleanupAndClose();\n          } else if (paypalWindowRef.current?.location?.href) {\n            const currentUrl = paypalWindowRef.current.location.href;\n            \n            if (currentUrl.includes('payment_success')) {\n              handleSuccess();\n            } else if (currentUrl.includes('payment_cancel')) {\n              handleCancel();\n            }\n          }\n        } catch (e) {\n          // Cross-origin errors are expected\n        }\n      }, 1000);\n    }\n\n    return () => cleanupAndClose();\n  }, [visible, paypalUrl]);\n\n  const handleSuccess = () => {\n    if (checkIntervalRef.current) {\n      clearInterval(checkIntervalRef.current);\n      checkIntervalRef.current = null;\n    }\n    \n    setTimeout(() => {\n      if (paypalWindowRef.current) {\n        paypalWindowRef.current.close();\n        paypalWindowRef.current = null;\n      }\n      hasOpenedWindow.current = false;\n      onNavigationStateChange({ url: 'payment_success' });\n    }, 2000);\n  };\n\n  const handleCancel = () => {\n    cleanupAndClose();\n    onNavigationStateChange({ url: 'payment_cancel' });\n  };\n\n  const cleanupAndClose = () => {\n    if (checkIntervalRef.current) {\n      clearInterval(checkIntervalRef.current);\n      checkIntervalRef.current = null;\n    }\n    \n    if (paypalWindowRef.current && !paypalWindowRef.current.closed) {\n      paypalWindowRef.current.close();\n      paypalWindowRef.current = null;\n    }\n    \n    hasOpenedWindow.current = false;\n  };\n\n  return null;\n};\n\nexport default PayPalWeb;","import React from 'react';\nimport { StyleSheet, Modal, SafeAreaView } from 'react-native';\nimport { WebView } from 'react-native-webview';\n\nconst PayPalNative = ({ visible, paypalUrl, onNavigationStateChange, onRequestClose }) => {\n  if (!visible || !paypalUrl) return null;\n\n  return (\n    <Modal\n      visible={visible}\n      onRequestClose={onRequestClose}\n      animationType=\"slide\"\n      presentationStyle=\"fullScreen\"\n    >\n      <SafeAreaView style={styles.container}>\n        <WebView\n          source={{ uri: paypalUrl }}\n          style={styles.webView}\n          onNavigationStateChange={onNavigationStateChange}\n          javaScriptEnabled={true}\n          domStorageEnabled={true}\n          startInLoadingState={true}\n          incognito={true}\n        />\n      </SafeAreaView>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  webView: {\n    flex: 1,\n  },\n});\n\nexport default PayPalNative;","import { Platform } from 'react-native';\nimport PayPalWeb from './PayPalWeb';\nimport PayPalNative from './PayPalNative';\n\n// Export the appropriate component based on platform\nexport default Platform.select({\n  web: PayPalWeb,\n  default: PayPalNative,\n});","import React, { useState, useRef, useEffect } from 'react';\nimport { \n  View, Text, StyleSheet, SafeAreaView, Image, ScrollView, \n  Animated, TouchableOpacity, Dimensions, Platform, ActivityIndicator\n} from 'react-native';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport PayPalWebView from '../components/PayPal/PayPalWebView';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\nconst PaymentScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const [isLoading, setIsLoading] = useState(false);\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const [showPayPalModal, setShowPayPalModal] = useState(false);\n  const [paypalUrl, setPaypalUrl] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const IS_SANDBOX = false;\n  const PAYPAL_CLIENT_ID = 'Aa7tN8zZu4XzYvMX84akIh1uJt5f5w0pIrdqWN2kb5AWIl5_4n5yruRrweU9-mwXfgWrm8JflF6oZ05z';\n  \n  // Get all parameters from the route\n  const { \n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, \n    isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    shippingDetails\n  } = route.params || {};\n\n  // Simple price calculations\n  const subtotal = isOrderFittingMode ? cutLengthPrice : totalBeforeShipping;\n  const shippingAmount = isOrderFittingMode ? 10 : (shippingCost || 0);\n  const total = subtotal + shippingAmount;\n  const gst = total * 0.10;\n  const finalTotal = total + gst;\n\n  // Initial fade-in animation\n  useEffect(() => { \n    const animation = Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 800,\n      useNativeDriver: true,\n    });\n    \n    animation.start();\n  \n    return () => {\n      animation.stop();\n      fadeAnim.setValue(0);\n    };\n  }, []);\n\n  const handlePayPalPress = () => {\n    if (showPayPalModal) return;\n    \n    console.log('PayPal button pressed');\n    \n    let description = 'Custom Hydraulic';\n    if (selectedHose) {\n      description += ` Hose - ${typeof selectedHose === 'object' ? selectedHose.name || 'Custom Hose' : selectedHose}`;\n    }\n    if (selectedFitting) {\n      description += ` with ${typeof selectedFitting === 'object' ? selectedFitting.name || 'Custom Fitting' : selectedFitting}`;\n    }\n\n    const baseUrl = IS_SANDBOX \n      ? 'https://www.sandbox.paypal.com/cgi-bin/webscr'\n      : 'https://www.paypal.com/cgi-bin/webscr';\n\n    const successUrl = Platform.OS === 'web' \n      ? `${window.location.origin}/payment_success`\n      : 'payment_success';\n    \n    const cancelUrl = Platform.OS === 'web'\n      ? `${window.location.origin}/payment_cancel`\n      : 'payment_cancel';\n\n    const queryParams = new URLSearchParams({\n      cmd: '_xclick',\n      business: 'info@fluidpowergroup.com.au',\n      amount: finalTotal.toFixed(2),\n      currency_code: 'AUD',\n      item_name: description,\n      return: successUrl,\n      cancel_return: cancelUrl,\n      rm: '1'  // Keep using GET\n    }).toString();\n\n    const url = `${baseUrl}?${queryParams}`;\n    console.log('Generated PayPal URL:', url);\n    \n    setPaypalUrl(url);\n    setShowPayPalModal(true);\n  };\n\n  const handleNavigationStateChange = (navState) => {\n    if (navState.url.includes('payment_success') || navState.url.includes('payment_cancel')) {\n      // Pass all route params along with payment details\n      const orderDetails = {\n        ...route.params,\n        userDetails: shippingDetails,\n        paymentId: Date.now().toString(),\n        amount: finalTotal.toFixed(2)\n      };\n\n      navigation.reset({\n        index: 0,\n        routes: [\n          {\n            name: 'OrderConfirmation',\n            params: {\n              success: navState.url.includes('payment_success'),\n            orderDetails: orderDetails, // Always pass orderDetails\n            error: navState.url.includes('payment_cancel') ? \n              'Payment was cancelled' : \n              'Payment processing failed'\n            }\n          }\n        ]\n      });\n      \n      setIsProcessing(false);\n      setShowPayPalModal(false);\n      setPaypalUrl('');\n    }\n  };\n\n  const renderShippingDetails = () => (\n    <View style={styles.shippingDetailsContainer}>\n      <View style={styles.sectionTitleContainer}>\n        <Text style={styles.sectionTitleText}>Shipping Details</Text>\n      </View>\n      \n      <View style={styles.detailsGrid}>\n        {shippingDetails?.name && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Name:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.name}</Text>\n          </View>\n        )}\n        \n        {shippingDetails?.companyName && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Company:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.companyName}</Text>\n          </View>\n        )}\n        \n        {shippingDetails?.address && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Address:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.address}</Text>\n          </View>\n        )}\n        \n        {shippingDetails?.suburb && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Suburb:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.suburb}</Text>\n          </View>\n        )}\n        \n        {shippingDetails?.state && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>State:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.state}</Text>\n          </View>\n        )}\n        \n        {shippingDetails?.postcode && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Postcode:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.postcode}</Text>\n          </View>\n        )}\n\n        {shippingDetails?.email && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Email:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.email}</Text>\n          </View>\n        )}\n        \n        {shippingDetails?.contactNumber && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Contact:</Text>\n            <Text style={styles.detailValue}>{shippingDetails.contactNumber}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderPriceBreakdown = () => (\n    <View style={styles.priceBreakdownContainer}>\n      <View style={styles.sectionTitleContainer}>\n        <Text style={styles.sectionTitleText}>Price Breakdown</Text>\n      </View>\n      \n      <View style={styles.priceDetailsGrid}>\n        <View style={styles.priceRow}>\n          <Text style={styles.priceLabel}>Subtotal:</Text>\n          <Text style={styles.priceValue}>A${subtotal.toFixed(2)}</Text>\n        </View>\n\n        <View style={styles.priceRow}>\n          <Text style={styles.priceLabel}>Shipping Cost:</Text>\n          <Text style={styles.priceValue}>\n            {shippingAmount > 0 ? `A$${shippingAmount.toFixed(2)}` : 'FREE'}\n          </Text>\n        </View>\n        \n        <View style={styles.priceRow}>\n          <Text style={styles.priceLabel}>GST (10%):</Text>\n          <Text style={styles.priceValue}>A${gst.toFixed(2)}</Text>\n        </View>\n      </View>\n    </View>\n  );\n\n  return (\n    <View style={styles.mainContainer}>\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.goBack()}\n      >\n        <Text style={styles.backButtonText}>←</Text>\n      </TouchableOpacity>\n  \n      <ScrollableGradientWrapper>\n        <SafeAreaView style={styles.container}>\n          <View style={styles.logoContainer}>\n            <Image\n              source={require('../assets/fluidpower_logo.gif')}\n              style={styles.logo}\n              resizeMode=\"contain\"\n            />\n          </View>\n          \n          <Animated.View style={[styles.animatedContainer, { opacity: fadeAnim }]}>\n            <ScrollView \n              contentContainerStyle={styles.scrollContent}\n              showsVerticalScrollIndicator={true}\n            >\n              <View style={styles.titleContainer}>\n                <Text style={styles.titleText}>Payment Details</Text>\n              </View>\n              \n              <View style={styles.formContainer}>\n                {renderShippingDetails()}\n                {renderPriceBreakdown()}\n  \n                <View style={styles.totalContainer}>\n                  <Text style={styles.totalText}>\n                    Total Amount: A${finalTotal.toFixed(2)}\n                  </Text>\n                </View>\n  \n                <View style={styles.paypalContainer}>\n                  <TouchableOpacity \n                    style={styles.paypalButton}\n                    onPress={handlePayPalPress}\n                  >\n                    <Text style={styles.paypalButtonText}>\n                      {IS_SANDBOX ? '(Sandbox) Pay with PayPal' : 'Pay Securely with PayPal'}\n                    </Text>\n                  </TouchableOpacity>\n                  <Text style={styles.securePaymentText}>\n                    {IS_SANDBOX \n                      ? 'Test Mode - No real payment will be processed'\n                      : 'You will be redirected to PayPal\\'s secure payment page'}\n                  </Text>\n                </View>\n              </View>\n            </ScrollView>\n          </Animated.View>\n        </SafeAreaView>\n      </ScrollableGradientWrapper>\n  \n      <PayPalWebView\n        visible={showPayPalModal}\n        paypalUrl={paypalUrl}\n        onNavigationStateChange={handleNavigationStateChange}\n        onRequestClose={() => {\n          setShowPayPalModal(false);\n          setPaypalUrl('');\n          setIsProcessing(false);\n        }}\n      />\n  \n      {isProcessing && (\n        <View style={styles.loadingOverlay}>\n          <ActivityIndicator size=\"large\" color=\"#4a4a4a\" />\n          <Text style={styles.loadingText}>Processing your payment...</Text>\n        </View>\n      )}\n    </View>\n  );\n};\n\n    const styles = StyleSheet.create({\n        container: {\n          flex: 1,\n          backgroundColor: '#fff',\n        },\n        logoContainer: {\n          alignItems: 'center',\n          justifyContent: 'center',\n          marginVertical: 20,\n          width: '100%',\n        },\n        logo: {\n          width: '100%',\n          height: undefined,\n          aspectRatio: 2,\n          resizeMode: 'contain',\n          maxWidth: 400,\n        },\n        animatedContainer: {\n          flex: 1,\n        },\n        scrollContent: {\n          flexGrow: 1,\n          alignItems: 'center',\n          paddingBottom: 40,\n        },\n        titleContainer: {\n          alignItems: 'center',\n          marginTop: 15,\n          marginBottom: 20,\n          backgroundColor: '#4a4a4a',\n          borderRadius: 25,\n          paddingVertical: 15,\n          paddingHorizontal: 20,\n        },\n        titleText: {\n          fontSize: 24,\n          fontWeight: 'bold',\n          color: 'white',\n        },\n        formContainer: {\n          width: '100%',\n          maxWidth: 400,\n          paddingHorizontal: 20,\n          paddingBottom: 30,\n        },\n        totalContainer: {\n          backgroundColor: '#4a4a4a',\n          borderRadius: 25,\n          padding: 15,\n          marginBottom: 20,\n          alignItems: 'center',\n        },\n        totalText: {\n          fontSize: 24,\n          fontWeight: 'bold',\n          color: 'white',\n        },\n        paypalContainer: {\n          marginTop: 20,\n          alignItems: 'center',\n          width: '100%',\n        },\n        paypalButton: {\n          width: '100%',\n          height: 50,\n          backgroundColor: '#ffc439', // PayPal's brand color\n          borderRadius: 25,\n          justifyContent: 'center',\n          alignItems: 'center',\n          marginBottom: 10,\n        },\n        paypalButtonDisabled: {\n          opacity: 0.7,\n        },\n        paypalButtonText: {\n          fontSize: 18,\n          fontWeight: 'bold',\n          color: '#142C8E', // PayPal's brand blue color\n        },\n        securePaymentText: {\n          marginTop: 10,\n          fontSize: 14,\n          color: '#666',\n          textAlign: 'center',\n        },\n        shippingDetailsContainer: {\n          backgroundColor: '#f5f5f5',\n          borderRadius: 15,\n          padding: 15,\n          marginBottom: 20,\n          borderWidth: 2,\n          borderColor: '#4a4a4a',\n        },\n        sectionTitleContainer: {\n          backgroundColor: '#4a4a4a',\n          borderRadius: 10,\n          padding: 8,\n          marginBottom: 15,\n          alignItems: 'center',\n        },\n        sectionTitleText: {\n          fontSize: 20,\n          fontWeight: 'bold',\n          color: 'white',\n        },\n        detailsGrid: {\n          gap: 10,\n        },\n        detailRow: {\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          paddingVertical: 5,\n          borderBottomWidth: 1,\n          borderBottomColor: '#e0e0e0',\n        },\n        detailLabel: {\n          fontSize: 16,\n          fontWeight: 'bold',\n          color: '#4a4a4a',\n          flex: 1,\n        },\n        detailValue: {\n          fontSize: 16,\n          color: '#4a4a4a',\n          flex: 2,\n          textAlign: 'right',\n        },\n        priceBreakdownContainer: {\n          backgroundColor: '#f5f5f5',\n          borderRadius: 15,\n          padding: 15,\n          marginBottom: 20,\n          borderWidth: 2,\n          borderColor: '#4a4a4a',\n        },\n        priceDetailsGrid: {\n          gap: 10,\n        },\n        priceRow: {\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          paddingVertical: 10,\n          borderBottomWidth: 1,\n          borderBottomColor: '#e0e0e0',\n        },\n        priceLabel: {\n          fontSize: 18,\n          fontWeight: 'bold',\n          color: '#4a4a4a',\n          flex: 1,\n        },\n        priceValue: {\n          fontSize: 18,\n          color: '#4a4a4a',\n          fontWeight: 'bold',\n          textAlign: 'right',\n        },\n        totalContainer: {\n          backgroundColor: '#ffc100',\n          borderRadius: 25,\n          padding: 15,\n          marginBottom: 20,\n          alignItems: 'center',\n          borderWidth: 4,\n          borderColor: '#4a4a4a',\n        },\n        totalText: {\n          fontSize: 24,\n          fontWeight: 'bold',\n          color: '#4a4a4a',\n        },\n        loadingOverlay: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(255, 255, 255, 0.9)',\n          justifyContent: 'center',\n          alignItems: 'center',\n        },\n        loadingContainer: {\n          alignItems: 'center',\n          padding: 20,\n        },\n        loadingLogo: {\n          width: 200,\n          height: 100,\n          resizeMode: 'contain',\n          marginBottom: 20,\n        },\n        loadingText: {\n          fontSize: 18,\n          color: '#4a4a4a',\n          textAlign: 'center',\n          fontWeight: 'bold',\n        },\n        webView: {\n          flex: 1,\n        },\n        floatingBackButton: {\n          position: 'absolute',\n          top: Platform.OS === 'ios' ? 60 : 20,\n          left: 30,\n          backgroundColor: 'rgba(255, 255, 255, 0.9)',\n          width: 60,\n          height: 60,\n          borderRadius: 30,\n          justifyContent: 'center',\n          alignItems: 'center',\n          shadowColor: '#000',\n          shadowOffset: {\n            width: 0,\n            height: 2,\n          },\n          shadowOpacity: 0.25,\n          shadowRadius: 3.84,\n          elevation: 5,\n          zIndex: 1000,\n        },\n        backButtonText: {\n          fontSize: 24,\n          color: '#4a4a4a',\n        },\n      });\n      \n      export default PaymentScreen;","import { Platform } from 'react-native';\n\n// Import the platform-specific implementation\nconst PDFGenerator = Platform.select({\n  web: () => require('./WebPDFGenerator').default,\n  default: () => require('./NativePDFGenerator').default,\n})();\n\nexport default PDFGenerator;","// utils/emailService.js\n\nconst BREVO_API_KEY = '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';\nconst BREVO_API_URL = 'https://api.sendinblue.com/v3/smtp/email';\n\nexport const sendOrderEmail = async (orderDetails) => {\n  // Calculate price breakdown helper function\n  const calculatePriceBreakdown = (details) => {\n    if (details.isOrderFittingMode) {\n      const subtotal = details.cutLengthPrice || 0;\n      const shipping = 10; // Fixed $10 shipping for Fitting Mode\n      const subtotalWithShipping = subtotal + shipping;\n      const gst = subtotalWithShipping * 0.1; // 10% GST\n      const total = subtotalWithShipping + gst;\n      \n      return {\n        subtotal,\n        shipping,\n        gst,\n        total\n      };\n    } else {\n      const subtotal = details.totalBeforeShipping || 0;\n      const shipping = details.shippingCost || 0;\n      const gst = (subtotal + shipping) * 0.1;\n      const total = subtotal + shipping + gst;\n      \n      return {\n        subtotal,\n        shipping,\n        gst,\n        total\n      };\n  }\n}\n\n  // Convert PDF buffer to base64 if present\n  let attachments = [];\n  if (orderDetails.pdfAttachment) {\n    const uint8Array = new Uint8Array(orderDetails.pdfAttachment);\n    const binaryString = uint8Array.reduce((acc, byte) => acc + String.fromCharCode(byte), '');\n    const pdfBase64 = btoa(binaryString);\n    \n    attachments.push({\n      name: `Order-${orderDetails.orderNumber || 'unknown'}.pdf`,\n      content: pdfBase64\n    });\n  }\n\n  // Calculate price breakdown\n  const priceBreakdown = calculatePriceBreakdown(orderDetails);\n\n  // Format price display helper\n  const formatPrice = (amount) => `A$${amount.toFixed(2)}`;\n  \n  // Price breakdown HTML template\n  const priceBreakdownHTML = `\n    <h3>Price Breakdown:</h3>\n    <table style=\"width: 100%; max-width: 400px; margin: 10px 0;\">\n      <tr>\n        <td><strong>Subtotal:</strong></td>\n        <td style=\"text-align: right\">${formatPrice(priceBreakdown.subtotal)}</td>\n      </tr>\n      <tr>\n        <td><strong>Shipping:</strong></td>\n        <td style=\"text-align: right\">${formatPrice(priceBreakdown.shipping)}</td>\n      </tr>\n      <tr>\n        <td><strong>GST (10%):</strong></td>\n        <td style=\"text-align: right\">${formatPrice(priceBreakdown.gst)}</td>\n      </tr>\n      <tr style=\"border-top: 1px solid #ccc;\">\n        <td><strong>Total Amount:</strong></td>\n        <td style=\"text-align: right\"><strong>${formatPrice(priceBreakdown.total)}</strong></td>\n      </tr>\n    </table>\n  `;\n\n  // Business email content\n  const businessEmailPayload = {\n    sender: {\n      name: \"FluidPower Group Order System\",\n      email: \"info@agcomponents.com.au\"\n    },\n    to: [{\n      email: \"info@fluidpowergroup.com.au\",\n      name: \"FluidPower Group\"\n    }],\n    subject: `New Order Received - Order #${orderDetails.orderNumber || 'Unknown'}`,\n    attachment: attachments,\n    htmlContent: `\n      <h2>New Order Received</h2>\n      <p>A new order has been placed with the following details:</p>\n      <p><strong>Order Number:</strong> ${orderDetails.orderNumber || 'Unknown'}</p>\n      ${priceBreakdownHTML}\n      <p><strong>Customer Details:</strong></p>\n      <ul>\n        <li><strong>Name:</strong> ${orderDetails.userDetails?.name || 'N/A'}</li>\n        <li><strong>Email:</strong> ${orderDetails.userDetails?.email || 'N/A'}</li>\n        <li><strong>Contact:</strong> ${orderDetails.userDetails?.contactNumber || 'N/A'}</li>\n      </ul>\n      <p><strong>Shipping Address:</strong></p>\n      <p>\n        ${orderDetails.userDetails?.address || 'N/A'}<br>\n        ${orderDetails.userDetails?.suburb || ''} ${orderDetails.userDetails?.state || ''} ${orderDetails.userDetails?.postcode || ''}\n      </p>\n    `\n  };\n\n  // Send business email\n  try {\n    const businessResponse = await fetch(BREVO_API_URL, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'api-key': BREVO_API_KEY,\n      },\n      body: JSON.stringify(businessEmailPayload)\n    });\n\n    if (!businessResponse.ok) {\n      const data = await businessResponse.json();\n      throw new Error(`Business Email Error: ${businessResponse.status} - ${JSON.stringify(data)}`);\n    }\n\n    // If customer email exists, send customer email\n    if (orderDetails.userDetails?.email) {\n      const customerEmailPayload = {\n        sender: {\n          name: \"FluidPower Group\",\n          email: \"info@agcomponents.com.au\"\n        },\n        to: [{\n          email: orderDetails.userDetails.email,\n          name: orderDetails.userDetails.name || 'Valued Customer'\n        }],\n        subject: `Your Order Confirmation - Order #${orderDetails.orderNumber || 'Unknown'}`,\n        attachment: attachments,\n        htmlContent: `\n          <h2>Thank You for Your Order!</h2>\n          <p>Hi ${orderDetails.userDetails.name || 'Valued Customer'},</p>\n          <p>Thank you for choosing FluidPower Group. We're pleased to confirm that your order has been received and is being processed.</p>\n          \n          <h3>Order Details:</h3>\n          <p><strong>Order Number:</strong> ${orderDetails.orderNumber || 'Unknown'}</p>\n          ${priceBreakdownHTML}\n          \n          <h3>Shipping Details:</h3>\n          <p>\n            ${orderDetails.userDetails.address || 'N/A'}<br>\n            ${orderDetails.userDetails.suburb || ''} ${orderDetails.userDetails.state || ''} ${orderDetails.userDetails.postcode || ''}\n          </p>\n          \n          <p>We've attached a copy of your order confirmation for your records.</p>\n          \n          <p>If you have any questions about your order, please don't hesitate to contact us:</p>\n          <ul>\n            <li>Phone: 0409 517 333</li>\n            <li>Email: info@fluidpowergroup.com.au</li>\n          </ul>\n          \n          <p>We appreciate you doing business with us!</p>\n          \n          <p>Best regards,<br>\n          FluidPower Group Team</p>\n        `\n      };\n\n      const customerResponse = await fetch(BREVO_API_URL, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'api-key': BREVO_API_KEY,\n        },\n        body: JSON.stringify(customerEmailPayload)\n      });\n\n      if (!customerResponse.ok) {\n        const data = await customerResponse.json();\n        throw new Error(`Customer Email Error: ${customerResponse.status} - ${JSON.stringify(data)}`);\n      }\n    }\n\n    return { success: true };\n  } catch (error) {\n    console.error('Detailed error in email sending:', {\n      message: error.message,\n      stack: error.stack,\n      name: error.name\n    });\n    return { \n      success: false, \n      error: error.message,\n      details: error\n    };\n  }\n};","import React, { useEffect, useState, useRef, useCallback } from 'react';\nimport { \n  View, \n  Text,\n  Image, \n  StyleSheet, \n  SafeAreaView, \n  ScrollView, \n  TouchableOpacity, \n  BackHandler,\n  Dimensions,\n  Animated,\n  Platform\n} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport ScrollableGradientWrapper from '../components/ScrollableGradientWrapper';\nimport PDFGenerator from '../components/PDFGenerator';\nimport { sendOrderEmail } from '../utils/emailService';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst BUTTON_WIDTH = Math.min(320, SCREEN_WIDTH * 0.8);\n\n// Helper Components\nconst LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nconst BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nconst OrderConfirmationScreen = ({ route }) => {\n  const navigation = useNavigation();\n  const { success, orderDetails, error } = route.params;\n  const fadeAnim = React.useRef(new Animated.Value(1)).current;\n  const contentRef = useRef(null);\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\n  const orderId = orderDetails?.paymentId || 'Unknown';\n  const [emailSent, setEmailSent] = useState(false);\n  const [selectedButton, setSelectedButton] = useState(null);\n\n  const {\n    userDetails,\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    paymentId,\n    amount\n  } = orderDetails || {};\n\n  const calculatePriceBreakdown = (details) => {\n    if (details.isOrderFittingMode) {\n      const subtotal = details.cutLengthPrice || 0;\n      const shipping = 10; // Fixed $10 shipping for Fitting Mode\n      const subtotalWithShipping = subtotal + shipping;\n      const gst = subtotalWithShipping * 0.1; // 10% GST\n      const total = subtotalWithShipping + gst;\n      \n      return {\n        subtotal,\n        shipping,\n        subtotalWithShipping,\n        gst,\n        total\n      };\n    } else {\n      const subtotal = details.totalBeforeShipping || 0;\n      const shipping = details.shippingCost || 0;\n      const subtotalWithShipping = subtotal + shipping;\n      const gst = subtotalWithShipping * 0.1; // 10% GST\n      const total = subtotalWithShipping + gst;\n      \n      return {\n        subtotal,\n        shipping,\n        subtotalWithShipping,\n        gst,\n        total\n      };\n    }\n  };\n\n  // Calculate price breakdown once for the component\n  const priceBreakdown = calculatePriceBreakdown(orderDetails);\n\n  useEffect(() => {\n    const backHandler = BackHandler.addEventListener('hardwareBackPress', () => {\n      handlePlaceAnotherOrder();\n      return true;\n    });\n    return () => backHandler.remove();\n  }, [navigation]);\n\n  const handlePlaceAnotherOrder = () => {\n    navigation.reset({\n      index: 0,\n      routes: [{ name: 'Welcome' }],\n    });\n  };\n\n  // Auto-generate PDF when screen loads\n  useEffect(() => {\n    const autoGeneratePDF = async () => {\n      if (success && contentRef.current && !emailSent) {\n        // Wait a brief moment for content to render\n        setTimeout(async () => {\n          await generatePDF({ silent: true }); // Generate PDF without triggering download\n        }, 1000);\n      }\n    };\n\n    autoGeneratePDF();\n  }, [success, emailSent]);\n\n  const { generatePDF } = PDFGenerator({\n    contentRef,\n    orderId: orderDetails?.paymentId,\n    onGenerateStart: () => {\n      console.log('Starting PDF generation...');\n      setIsGeneratingPDF(true);\n    },\n    onGenerateComplete: async (pdfBuffer) => {\n      console.log('PDF generation completed');\n      setIsGeneratingPDF(false);\n      \n      // If this was an automatic generation and email hasn't been sent yet\n      if (pdfBuffer && !emailSent && success) {\n        console.log('Attempting to send email...');\n        try {\n          // Prepare the email data\n          const emailData = {\n            ...orderDetails,\n            pdfAttachment: pdfBuffer,\n            userEmail: userDetails?.email || 'absareta@gmail.com', // Use customer email if available\n            orderNumber: paymentId || 'Unknown',\n            totalAmount: totalBeforeShipping * 1.1 // Including GST\n          };\n          \n          await sendOrderEmail(emailData);\n          setEmailSent(true);\n          console.log('Order confirmation email sent successfully');\n        } catch (error) {\n          console.error('Failed to send order confirmation email:', error);\n        }\n      }\n    },\n    onError: (error) => {\n      console.error('PDF generation failed:', error);\n      setIsGeneratingPDF(false);\n    }\n  });\n\n  const handlePDFDownload = async () => {\n    if (isGeneratingPDF) return;\n    await generatePDF();\n  };\n\n  const renderShippingDetails = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Shipping Details</Text>\n      </View>\n      \n      <View style={styles.detailsGrid}>\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Name:</Text>\n          <Text style={styles.detailValue}>{userDetails?.name}</Text>\n        </View>\n        \n        {userDetails?.companyName && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Company:</Text>\n            <Text style={styles.detailValue}>{userDetails.companyName}</Text>\n          </View>\n        )}\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Address:</Text>\n          <Text style={styles.detailValue}>{userDetails?.address}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Suburb:</Text>\n          <Text style={styles.detailValue}>{userDetails?.suburb}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>State:</Text>\n          <Text style={styles.detailValue}>{userDetails?.state}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Postcode:</Text>\n          <Text style={styles.detailValue}>{userDetails?.postcode}</Text>\n        </View>\n\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Email:</Text>\n          <Text style={styles.detailValue}>{userDetails?.email}</Text>\n        </View>\n        \n        {userDetails?.contactNumber && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Contact:</Text>\n            <Text style={styles.detailValue}>{userDetails.contactNumber}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderOrderSummary = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Order Summary</Text>\n      </View>\n      \n      <View style={styles.orderDetailsContainer}>\n        {paymentId && (\n          <View style={styles.rowContainer}>\n            <LabelItem>ORDER ID</LabelItem>\n            <BorderedItem>{paymentId}</BorderedItem>\n          </View>\n        )}\n        \n        {selectedHose && (\n          <View style={styles.rowContainer}>\n            <LabelItem>HOSE SIZE</LabelItem>\n            <BorderedItem>\n              {typeof selectedHose === 'object' && selectedHose.size ? selectedHose.size : selectedHose}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {end1Shape && end1Size && (\n          <View style={styles.rowContainer}>\n            <LabelItem>END1</LabelItem>\n            <BorderedItem price={end1Price}>\n              {`${end1Shape} - ${end1Size}`}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {end2Shape && end2Size && (\n          <View style={styles.rowContainer}>\n            <LabelItem>END2</LabelItem>\n            <BorderedItem price={end2Price}>\n              {`${end2Shape} - ${end2Size}`}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {selectedAngle && (\n          <View style={styles.rowContainer}>\n            <LabelItem>ANGLE</LabelItem>\n            <BorderedItem>{selectedAngle}</BorderedItem>\n          </View>\n        )}\n        \n        {quantity && (\n          <View style={styles.rowContainer}>\n            <LabelItem>QUANTITY</LabelItem>\n            <BorderedItem>{quantity}</BorderedItem>\n          </View>\n        )}\n        \n        {cutLengths && cutLengths.length > 0 && (\n          <View style={styles.rowContainer}>\n            <LabelItem>CUT LENGTHS</LabelItem>\n            <BorderedItem \n              price={cutLengths.reduce((total, cut) => {\n                const lengthInMeters = parseFloat(cut.length) / 1000;\n                const basePrice = parseFloat(selectedHosePrice);\n                return total + (lengthInMeters * basePrice);\n              }, 0).toFixed(2)}\n              isCutLengths\n            >\n              {cutLengths.map((cut, index) => (\n                <View key={index} style={styles.cutLengthRow}>\n                  <View style={styles.numberedCircle}>\n                    <Text style={styles.numberedCircleText}>{index + 1}</Text>\n                  </View>\n                  <Text style={styles.cutLengthText}>\n                    {`${cut.length} ${cut.unit}`}\n                  </Text>\n                </View>\n              ))}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {selectedProtection && (\n          <View style={styles.rowContainer}>\n            <LabelItem>PROTECTION</LabelItem>\n            <BorderedItem price={selectedProtection === 'NOT REQUIRED' ? 'NOT REQUIRED' : protectionCost}>\n              {selectedProtection}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {selectedPressure && (\n          <View style={styles.rowContainer}>\n            <LabelItem>PRESSURE TEST</LabelItem>\n            <BorderedItem price={selectedPressure === 'Not Required' ? 'NOT REQUIRED' : pressureTestPrice}>\n              {selectedPressure}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {(selectedService || isOrderFittingMode) && (\n          <View style={styles.rowContainer}>\n            <LabelItem>SHIPPING COST</LabelItem>\n            <BorderedItem price={isOrderFittingMode ? 10 : (shippingCost || 'FREE')}>\n              {isOrderFittingMode ? 'Standard Shipping' : selectedService || 'Standard Shipping'}\n            </BorderedItem>\n          </View>\n        )}\n        \n        {/* Add this new price breakdown section \n          <View style={styles.rowContainer}>\n            <LabelItem>SUBTOTAL</LabelItem>\n            <BorderedItem price={priceBreakdown.subtotal}>\n              Items Total\n            </BorderedItem>\n          </View>\n\n          <View style={styles.rowContainer}>\n            <LabelItem>SHIPPING</LabelItem>\n            <BorderedItem price={priceBreakdown.shipping}>\n              {isOrderFittingMode ? 'Standard Shipping' : (selectedService || 'Standard Shipping')}\n            </BorderedItem>\n          </View>*/}\n\n          <View style={styles.rowContainer}>\n            <LabelItem>SUBTOTAL WITH SHIPPING</LabelItem>\n            <BorderedItem price={priceBreakdown.subtotalWithShipping}>\n            </BorderedItem>\n          </View>\n\n          <View style={styles.rowContainer}>\n            <LabelItem>GST (10%)</LabelItem>\n            <BorderedItem price={priceBreakdown.gst}>\n            </BorderedItem>\n          </View>\n\n          <View style={styles.totalContainer}>\n            <Text style={styles.totalLabel}>Total Amount (Inc. GST)</Text>\n            <Text style={styles.totalValue}>\n              A${priceBreakdown.total.toFixed(2)}\n            </Text>\n          </View>\n              </View>\n              </View>\n  );\n\n  if (!success) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.logoContainer}>\n          <Image\n            source={require('../assets/fluidpower_logo.gif')}\n            style={styles.logo}\n            resizeMode=\"contain\"\n          />\n        </View>\n        \n        <View style={styles.errorContainer}>\n          <View style={styles.titleWrapper}>\n            <Text style={styles.titleText}>❌ Payment Failed</Text>\n          </View>\n          <Text style={[styles.errorText, { marginTop: 20 }]}>\n            {error || 'Payment processing failed. Please try again.'}\n          </Text>\n          \n          <View style={styles.buttonContainer}>\n            <TouchableOpacity \n              style={[\n                styles.actionButton,\n                { backgroundColor: selectedButton === 'tryAgain' ? '#ffc100' : 'transparent' }\n              ]}\n              onPress={() => {\n                setSelectedButton('tryAgain');\n                setTimeout(() => {\n                  // Navigate to Payment screen with all the necessary values\n                  navigation.navigate('Payment', {\n                    selectedHose,\n                    selectedHosePrice,\n                    selectedFitting,\n                    end1Shape,\n                    end1Size,\n                    end1Price,\n                    selectedEnd2Fitting,\n                    end2Shape,\n                    end2Size,\n                    end2Price,\n                    selectedAngle,\n                    quantity,\n                    cutLengths,\n                    cutLengthPrice,\n                    isOrderFittingMode,\n                    selectedProtection,\n                    hoseProtectionPrice,\n                    selectedPressure,\n                    pressureTestPrice,\n                    selectedMethod,\n                    selectedService,\n                    shippingCost,\n                    totalBeforeShipping,\n                    totalPriceWithShipping,\n                    protectionCost,\n                    shippingDetails: orderDetails.userDetails // Pass the shipping details\n                  });\n                }, 100);\n              }}\n              activeOpacity={0.8}\n            >\n              <Text style={styles.buttonText}>Try Again</Text>\n            </TouchableOpacity>\n  \n            <TouchableOpacity \n              style={[\n                styles.actionButton,\n                { backgroundColor: selectedButton === 'newOrder' ? '#ffc100' : 'transparent' }\n              ]}\n              onPress={() => {\n                setSelectedButton('newOrder');\n                setTimeout(handlePlaceAnotherOrder, 100);\n              }}\n              activeOpacity={0.8}\n            >\n              <Text style={styles.buttonText}>Place New Order</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </SafeAreaView>\n    );\n  }\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Buttons */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={handlePlaceAnotherOrder}\n      >\n        <Text style={styles.backButtonText}>Place New Order</Text>\n      </TouchableOpacity>\n  \n      <TouchableOpacity \n        style={[\n          styles.floatingDownloadButton,\n          isGeneratingPDF && styles.disabledButton\n        ]}\n        onPress={handlePDFDownload}\n        disabled={isGeneratingPDF}\n      >\n        <Text style={styles.backButtonText}>\n          {isGeneratingPDF ? 'Generating PDF...' : 'Download PDF'}\n        </Text>\n      </TouchableOpacity>\n  \n      <ScrollableGradientWrapper>\n        {Platform.OS === 'web' ? (\n          <>\n            {/* Screen View - This won't be included in PDF */}\n            <SafeAreaView style={styles.container}>\n              <View style={styles.logoContainer}>\n                <Image\n                  source={require('../assets/fluidpower_logo.gif')}\n                  style={styles.logo}\n                  resizeMode=\"contain\"\n                />\n              </View>\n  \n              <Animated.View style={[styles.contentContainer, { opacity: fadeAnim }]}>\n                <View style={styles.titleContainer}>\n                  <View style={styles.titleWrapper}>\n                    <Text style={styles.titleText}>\n                      {success ? '✅ Payment Successful!' : '❌ Payment Failed'}\n                    </Text>\n                  </View>\n                </View>\n  \n                <Text style={styles.successTitle}>Thank You for Your Order!</Text>\n                <Text style={styles.emailTitle}>Don't forget to check Junk/Spam folder of your email for Confirmation</Text>\n  \n                <ScrollView \n                  style={styles.mainScrollView}\n                  contentContainerStyle={styles.mainScrollViewContent}\n                  showsVerticalScrollIndicator={true}\n                >\n                  {success ? (\n                    <>\n                      {renderOrderSummary()}\n                      {renderShippingDetails()}\n                    </>\n                  ) : (\n                    <View style={styles.errorContainer}>\n                      {/* Error content */}\n                    </View>\n                  )}\n                </ScrollView>\n\n                {/* Add this View container here */}\n                <View style={styles.copyrightContainer}>\n                  <Text style={styles.enquiryText}>\n                    For any and all enquires email: info@fluidpowergroup.com.au\n                  </Text>\n                  <Text style={styles.copyrightText}>\n                    FluidPower Group All Rights Reserved {new Date().getFullYear()}\n                  </Text>\n                </View>\n              </Animated.View>\n            </SafeAreaView>\n  \n            {/* PDF View - This div and its contents will be used for PDF generation */}\n            <div \n                ref={contentRef} \n                style={{ \n                  position: 'absolute',\n                  left: '-9999px',\n                  top: 0,\n                  width: '800px',  // Fixed width for PDF generation\n                  backgroundColor: 'white'\n                }}\n              >\n                <SafeAreaView style={[styles.container, { width: '100%' }]}>\n                  <View style={[styles.logoContainer, { width: '100%', height: 'auto' }]}>\n                    <img\n                      src={require('../assets/fluidpower_logo.gif')}\n                      style={{\n                        width: '400px',\n                        height: '200px',\n                        objectFit: 'contain'\n                      }}\n                      alt=\"FluidPower Logo\"\n                    />\n                  </View>\n\n                  <View style={styles.contentContainer}>\n                    <ScrollView \n                      style={styles.mainScrollView}\n                      contentContainerStyle={styles.mainScrollViewContent}\n                    >\n                      {success && (\n                        <>\n                          {renderOrderSummary()}\n                          {renderShippingDetails()}\n                        </>\n                      )}\n                    </ScrollView>\n                  </View>\n\n                  <View style={styles.copyrightContainer}>\n                    <Text style={styles.enquiryText}>\n                      For any and all enquires email: info@fluidpowergroup.com.au\n                    </Text>\n                    <Text style={styles.copyrightText}>\n                      FluidPower Group All Rights Reserved {new Date().getFullYear()}\n                    </Text>\n                  </View>\n                </SafeAreaView>\n              </div>\n          </>\n        ) : (\n          <ViewShot\n            ref={contentRef}\n            options={{\n              format: 'jpg',\n              quality: 0.9,\n            }}\n          >\n            <SafeAreaView style={styles.container}>\n              {/* Your existing content for non-web platforms */}\n            </SafeAreaView>\n          </ViewShot>\n        )}\n      </ScrollableGradientWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  mainScrollView: {\n    flex: 1,\n  },\n  mainScrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: 20,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: 400,\n    height: 200,\n    resizeMode: 'contain',\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  titleWrapper: {\n    alignItems: 'center',\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    marginTop: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 25,\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  successTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  emailTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n    maxWidth: 600,\n    width: '100%',\n    alignSelf: 'center',\n  },\n  boxHeader: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n  },\n  boxHeaderText: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  detailsGrid: {\n    padding: 15,\n    gap: 10,\n  },\n  detailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 5,\n  },\n  detailLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    flex: 2,\n    textAlign: 'right',\n  },\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n    width: '100%',\n    maxWidth: 600,\n  },\n  orderDetailsContainer: {\n    padding: 15,\n  },\n  totalContainer: {\n    backgroundColor: '#ffc100',\n    padding: 15,\n    alignItems: 'center',\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n  },\n  totalLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  totalValue: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  cutLengthsLayout: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n  },\n  cutLengthsContainer: {\n    flex: 1,\n  },\n  cutLengthsContent: {\n    flex: 1,\n  },\n  cutLengthsContentWrapper: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center', // This centers the content vertically\n    justifyContent: 'space-between',\n  },\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 5,\n    paddingRight: 10, \n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: '#4a4a4a',\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 8,\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  priceContainer: {\n    justifyContent: 'center', // Centers the price container vertically\n    alignItems: 'flex-end', // Keeps the price aligned to the right\n  },\n  buttonContainer: {\n    width: '100%',\n    gap: 15,\n    marginTop: 20,\n    paddingHorizontal: 20,\n    maxWidth: 400,\n  },\n  actionButton: {\n    marginTop: 30,\n    marginBottom: 20,\n    paddingVertical: 12,\n    paddingHorizontal: 20,\n    borderRadius: 25,\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    alignItems: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center',\n    minWidth: 200,\n    // iOS shadow properties\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    // Android shadow\n    elevation: 5,\n  },\n  buttonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    padding: 20,\n    marginTop: 40,\n    width: '100%',\n  },\n  errorText: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n    maxWidth: 300,\n  },\n  bulletPoints: {\n    alignSelf: 'stretch',\n    marginBottom: 20,\n  },\n  bulletPoint: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  tryAgainButton: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n    minWidth: 200,\n  },\n  tryAgainText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  copyrightContainer: {\n    paddingBottom: Platform.OS === 'web' ? 80 : 20, // Increased padding only for web\n    paddingTop: 10,\n    alignItems: 'center',\n    marginTop: 'auto', // This helps push it to the bottom\n},\n  copyrightText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    fontStyle: 'italic',\n    opacity: 0.8,\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingDownloadButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    right: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  disabledButton: {\n    opacity: 0.6,\n  },\n  enquiryText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 8,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    padding: 20,\n    marginTop: 40\n  },\n  errorText: {\n    fontSize: 18,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    marginBottom: 20,\n    maxWidth: 300\n  },\n  tryAgainButton: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n    minWidth: 200,\n  },\n  tryAgainText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  }\n});\n\nexport default OrderConfirmationScreen;","// ScrollTestScreen.js\nimport React from 'react';\n\nconst ScrollTestScreen = () => {\n  return (\n    <div style={styles.container}>\n      {[...Array(20)].map((_, i) => (\n        <div key={i} style={styles.section}>\n          <h2 style={styles.sectionText}>Section {i + 1}</h2>\n          <p style={styles.descriptionText}>\n            This is section {i + 1} content. You can add any content here.\n          </p>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst styles = {\n  container: {\n    height: '100vh',\n    overflowY: 'auto',\n    backgroundColor: '#fff',\n    padding: '20px',\n  },\n  section: {\n    height: 200,\n    margin: '10px 0',\n    padding: '20px',\n    backgroundColor: '#f0f0f0',\n    borderRadius: '8px',\n    boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sectionText: {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    color: '#333',\n    margin: '0 0 10px 0',\n  },\n  descriptionText: {\n    fontSize: '16px',\n    color: '#666',\n    textAlign: 'center',\n    margin: 0,\n  }\n};\n\nexport default ScrollTestScreen;","// screens/TrialScreen2.js\nimport React from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport PDFGenerator from '../components/PDFGenerator';\n\nconst TrialScreen2 = () => {\n  const testContent = `\n    Hydraulic Hose Builder\n    \n    Your Custom Hose Specifications:\n    - Size: 1/2 inch\n    - Length: 24 inches\n    - End Fittings: Standard\n    \n    Thank you for using our service!\n  `;\n  \n  return (\n    <View style={styles.container}>\n      <PDFGenerator content={testContent} />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n});\n\nexport default TrialScreen2;","import React from 'react';\nimport { \n  View, \n  Text, \n  StyleSheet, \n  SafeAreaView, \n  ScrollView,\n  TouchableOpacity,\n  Share\n} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\n\nconst OrderDetailsScreen = ({ route }) => {\n  const { orderDetails } = route.params;\n  const navigation = useNavigation();\n\n  // Extract order information\n  const {\n    userDetails,\n    paymentId,\n    amount,\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n  } = orderDetails;\n\n  // Function to share order details\n  const handleShareOrder = async () => {\n    try {\n      const shareMessage = `\nOrder Details\nOrder ID: ${paymentId}\nAmount: A$${amount}\nStatus: Confirmed\n\nProduct Details:\n- Hose: ${selectedHose}\n- Fittings: ${selectedFitting}\n- End 1: ${end1Shape} ${end1Size}\n- End 2: ${selectedEnd2Fitting} ${end2Shape} ${end2Size}\n- Quantity: ${quantity}\n`;\n\n      await Share.share({\n        message: shareMessage,\n        title: `Order #${paymentId}`,\n      });\n    } catch (error) {\n      console.error('Error sharing order:', error);\n    }\n  };\n\n  const renderSection = (title, content) => (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>{title}</Text>\n      <View style={styles.sectionContent}>\n        {content}\n      </View>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        {/* Order ID and Status */}\n        <View style={styles.headerSection}>\n          <Text style={styles.orderId}>Order #{paymentId}</Text>\n          <View style={styles.statusBadge}>\n            <Text style={styles.statusText}>Confirmed</Text>\n          </View>\n        </View>\n\n        {/* Product Details */}\n        {renderSection('Product Details', (\n          <>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Hose Type:</Text>\n              <Text style={styles.detailValue}>{selectedHose}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Fitting Type:</Text>\n              <Text style={styles.detailValue}>{selectedFitting}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>End 1:</Text>\n              <Text style={styles.detailValue}>{`${end1Shape} ${end1Size}`}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>End 2:</Text>\n              <Text style={styles.detailValue}>{`${end2Shape} ${end2Size}`}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Angle:</Text>\n              <Text style={styles.detailValue}>{selectedAngle}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Quantity:</Text>\n              <Text style={styles.detailValue}>{quantity}</Text>\n            </View>\n          </>\n        ))}\n\n        {/* Additional Services */}\n        {renderSection('Additional Services', (\n          <>\n            {selectedProtection && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Protection:</Text>\n                <Text style={styles.detailValue}>{selectedProtection}</Text>\n              </View>\n            )}\n            {selectedPressure && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Pressure Test:</Text>\n                <Text style={styles.detailValue}>{selectedPressure}</Text>\n              </View>\n            )}\n            {selectedMethod && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Delivery Method:</Text>\n                <Text style={styles.detailValue}>{selectedMethod}</Text>\n              </View>\n            )}\n          </>\n        ))}\n\n        {/* Price Breakdown */}\n        {renderSection('Price Breakdown', (\n          <>\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>Hose:</Text>\n              <Text style={styles.priceValue}>A${selectedHosePrice.toFixed(2)}</Text>\n            </View>\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>End 1:</Text>\n              <Text style={styles.priceValue}>A${end1Price.toFixed(2)}</Text>\n            </View>\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>End 2:</Text>\n              <Text style={styles.priceValue}>A${end2Price.toFixed(2)}</Text>\n            </View>\n            {hoseProtectionPrice > 0 && (\n              <View style={styles.priceRow}>\n                <Text style={styles.priceLabel}>Protection:</Text>\n                <Text style={styles.priceValue}>A${hoseProtectionPrice.toFixed(2)}</Text>\n              </View>\n            )}\n            {pressureTestPrice > 0 && (\n              <View style={styles.priceRow}>\n                <Text style={styles.priceLabel}>Pressure Test:</Text>\n                <Text style={styles.priceValue}>A${pressureTestPrice.toFixed(2)}</Text>\n              </View>\n            )}\n            <View style={styles.priceRow}>\n              <Text style={styles.priceLabel}>Shipping:</Text>\n              <Text style={styles.priceValue}>A${shippingCost.toFixed(2)}</Text>\n            </View>\n            <View style={[styles.priceRow, styles.totalRow]}>\n              <Text style={styles.totalLabel}>Total:</Text>\n              <Text style={styles.totalValue}>A${amount}</Text>\n            </View>\n          </>\n        ))}\n\n        {/* Shipping Details */}\n        {renderSection('Shipping Details', (\n          <>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Name:</Text>\n              <Text style={styles.detailValue}>{userDetails.name}</Text>\n            </View>\n            {userDetails.companyName && (\n              <View style={styles.detailRow}>\n                <Text style={styles.detailLabel}>Company:</Text>\n                <Text style={styles.detailValue}>{userDetails.companyName}</Text>\n              </View>\n            )}\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Address:</Text>\n              <Text style={styles.detailValue}>{userDetails.address}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Suburb:</Text>\n              <Text style={styles.detailValue}>{userDetails.suburb}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>State:</Text>\n              <Text style={styles.detailValue}>{userDetails.state}</Text>\n            </View>\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>Postcode:</Text>\n              <Text style={styles.detailValue}>{userDetails.postcode}</Text>\n            </View>\n          </>\n        ))}\n\n        {/* Action Buttons */}\n        <View style={styles.actionButtons}>\n          <TouchableOpacity \n            style={styles.shareButton}\n            onPress={handleShareOrder}\n          >\n            <Text style={styles.shareButtonText}>Share Order Details</Text>\n          </TouchableOpacity>\n          \n          <TouchableOpacity \n            style={styles.newOrderButton}\n            onPress={() => navigation.navigate('CreateOrder')}\n          >\n            <Text style={styles.newOrderButtonText}>Place New Order</Text>\n          </TouchableOpacity>\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  scrollContent: {\n    padding: 20,\n  },\n  headerSection: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  orderId: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  statusBadge: {\n    backgroundColor: '#4CAF50',\n    paddingHorizontal: 15,\n    paddingVertical: 5,\n    borderRadius: 15,\n  },\n  statusText: {\n    color: 'white',\n    fontWeight: 'bold',\n  },\n  section: {\n    marginBottom: 25,\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    padding: 15,\n    borderWidth: 1,\n    borderColor: '#e0e0e0',\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 15,\n  },\n  detailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  detailLabel: {\n    fontSize: 16,\n    color: '#666',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    fontWeight: '500',\n    flex: 2,\n    textAlign: 'right',\n  },\n  priceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  priceLabel: {\n    fontSize: 16,\n    color: '#666',\n  },\n  priceValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    fontWeight: '500',\n  },\n  totalRow: {\n    marginTop: 10,\n    borderBottomWidth: 0,\n    paddingTop: 15,\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n  },\n  totalLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  totalValue: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  actionButtons: {\n    marginTop: 20,\n    gap: 15,\n  },\n  shareButton: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n  },\n  shareButtonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  newOrderButton: {\n    backgroundColor: '#f5f5f5',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  newOrderButtonText: {\n    color: '#4a4a4a',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  sectionContent: {\n    backgroundColor: 'white',\n    borderRadius: 10,\n    padding: 15,\n  },\n});\n\nexport default OrderDetailsScreen;","// components/ScreenWrapper.js\nimport React from 'react';\nimport { Platform } from 'react-native';\n\nconst ScreenWrapper = ({ children }) => {\n  // Only apply web-specific styles on web platform\n  if (Platform.OS === 'web') {\n    return (\n      <div \n        style={{\n          minHeight: '100vh',\n          maxHeight: '100vh',\n          overflowY: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          backgroundColor: '#fff',\n        }}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  // Return children as-is for mobile platforms\n  return children;\n};\n\nexport default ScreenWrapper;","import React, { useCallback } from 'react';\nimport { \n  View, \n  Text, \n  StyleSheet, \n  SafeAreaView, \n  ScrollView, \n  Image,\n  Dimensions,\n  Platform,\n  TouchableOpacity,\n} from 'react-native';\nimport { useRoute, useNavigation } from '@react-navigation/native';\nimport ScreenWrapper from '../components/ScreenWrapper';\nimport { PDFDownloadLink } from '@react-pdf/renderer';\nimport { pdf } from '@react-pdf/renderer';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\n// Reuse the helper components from OrderConfirmationScreen1\nconst LabelItem = ({ children }) => (\n  <View style={styles.labelItem}>\n    <Text style={styles.labelText}>{children}</Text>\n  </View>\n);\n\nconst BorderedItem = ({ children, price, style, isCutLengths }) => (\n  <View style={[styles.borderedItem, style]}>\n    {isCutLengths ? (\n      <View style={styles.cutLengthsLayout}>\n        <View style={styles.cutLengthsContent}>\n          {children}\n        </View>\n        {price && (\n          <View style={styles.cutLengthsPriceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </View>\n    ) : (\n      <>\n        <Text style={styles.itemText}>{children}</Text>\n        {price && (\n          <View style={styles.priceBorder}>\n            <Text style={styles.priceText}>\n              {price === 'FREE' || price === 'NOT REQUIRED' \n                ? price \n                : typeof price === 'number' \n                  ? `A$${price.toFixed(2)}` \n                  : `A$${parseFloat(price).toFixed(2)}`}\n            </Text>\n          </View>\n        )}\n      </>\n    )}\n  </View>\n);\n\nconst NumberedCircle = ({ number }) => (\n  <View style={styles.numberedCircle}>\n    <Text style={styles.numberedCircleText}>{number}</Text>\n  </View>\n);\n\nconst OrderDetailsScreen1 = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const { orderDetails } = route.params;\n  \n  // Destructure the orderDetails\n  const {\n    selectedHose,\n    selectedHosePrice,\n    selectedFitting,\n    end1Shape,\n    end1Size,\n    end1Price,\n    selectedEnd2Fitting,\n    end2Shape,\n    end2Size,\n    end2Price,\n    selectedAngle,\n    quantity,\n    cutLengths,\n    cutLengthPrice, isOrderFittingMode,\n    selectedProtection,\n    hoseProtectionPrice,\n    selectedPressure,\n    pressureTestPrice,\n    selectedMethod,\n    selectedService,\n    shippingCost,\n    totalBeforeShipping,\n    totalPriceWithShipping,\n    protectionCost,\n    userDetails,\n    amount,\n    paymentId\n  } = orderDetails;\n\n  // For debugging\n  console.log('Order Details received:', orderDetails);\n\n  const handlePDFDownload = useCallback(async () => {\n    try {\n      console.log('Generating PDF...');\n      const blob = await pdf(<OrderPDF orderDetails={orderDetails} />).toBlob();\n      const url = URL.createObjectURL(blob);\n      \n      // Create a link element\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `Order_${paymentId}.pdf`;\n      \n      // Trigger download\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      \n      // Cleanup\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n    }\n  }, [orderDetails, paymentId]);\n\n  const renderShippingDetails = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Shipping Details</Text>\n      </View>\n      \n      <View style={styles.detailsGrid}>\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Name:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.name}</Text>\n        </View>\n        \n        {orderDetails.userDetails?.companyName && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Company:</Text>\n            <Text style={styles.detailValue}>{orderDetails.userDetails.companyName}</Text>\n          </View>\n        )}\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Address:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.address}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Suburb:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.suburb}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>State:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.state}</Text>\n        </View>\n        \n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Postcode:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.postcode}</Text>\n        </View>\n\n        <View style={styles.detailRow}>\n          <Text style={styles.detailLabel}>Email:</Text>\n          <Text style={styles.detailValue}>{orderDetails.userDetails?.email}</Text>\n        </View>\n        \n        {orderDetails.userDetails?.contactNumber && (\n          <View style={styles.detailRow}>\n            <Text style={styles.detailLabel}>Contact:</Text>\n            <Text style={styles.detailValue}>{orderDetails.userDetails.contactNumber}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderOrderSummary = () => (\n    <View style={styles.detailsBox}>\n      <View style={styles.boxHeader}>\n        <Text style={styles.boxHeaderText}>Order Summary</Text>\n      </View>\n  \n      <View style={styles.orderDetailsContainer}>\n        {/* Order ID - Always show if exists */}\n        {paymentId && (\n          <View style={styles.rowContainer}>\n            <LabelItem>ORDER ID</LabelItem>\n            <BorderedItem>{paymentId}</BorderedItem>\n          </View>\n        )}\n  \n        {/* Hose Details - Only show if selectedHose exists */}\n        {selectedHose && (\n          <View style={styles.rowContainer}>\n            <LabelItem>HOSE SIZE</LabelItem>\n            <BorderedItem>\n              {typeof selectedHose === 'object' && selectedHose.size ? selectedHose.size : selectedHose}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* End 1 Details - Only show if both shape and size exist */}\n        {end1Shape && end1Size && (\n          <View style={styles.rowContainer}>\n            <LabelItem>END1</LabelItem>\n            <BorderedItem price={end1Price}>\n              {`${end1Shape} - ${end1Size}`}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* End 2 Details - Only show if both shape and size exist */}\n        {end2Shape && end2Size && (\n          <View style={styles.rowContainer}>\n            <LabelItem>END2</LabelItem>\n            <BorderedItem price={end2Price}>\n              {`${end2Shape} - ${end2Size}`}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Angle - Only show if exists */}\n        {selectedAngle && (\n          <View style={styles.rowContainer}>\n            <LabelItem>ANGLE</LabelItem>\n            <BorderedItem>{selectedAngle}</BorderedItem>\n          </View>\n        )}\n  \n        {/* Quantity - Only show if exists */}\n        {quantity && (\n          <View style={styles.rowContainer}>\n            <LabelItem>QUANTITY</LabelItem>\n            <BorderedItem>{quantity}</BorderedItem>\n          </View>\n        )}\n  \n        {/* Cut Lengths - Only show if array exists and has items */}\n        {cutLengths && cutLengths.length > 0 && (\n          <View style={styles.rowContainer}>\n            <LabelItem>CUT LENGTHS</LabelItem>\n            <BorderedItem \n              price={cutLengths.reduce((total, cut) => {\n                const lengthInMeters = parseFloat(cut.length) / 1000; // Convert mm to meters\n                const basePrice = parseFloat(selectedHosePrice);\n                return total + (lengthInMeters * basePrice);\n              }, 0)}\n              isCutLengths={false}\n            >\n              <View>\n                {cutLengths.map((cut, index) => (\n                  <View key={index} style={styles.cutLengthRow}>\n                    <View style={styles.numberedCircle}>\n                      <Text style={styles.numberedCircleText}>{index + 1}</Text>\n                    </View>\n                    <Text style={styles.cutLengthText}>\n                      {`${cut.length} ${cut.unit}`}\n                    </Text>\n                  </View>\n                ))}\n              </View>\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Protection - Only show if exists */}\n        {selectedProtection && (\n          <View style={styles.rowContainer}>\n            <LabelItem>PROTECTION</LabelItem>\n            <BorderedItem \n              price={selectedProtection === 'NOT REQUIRED' ? 'NOT REQUIRED' : protectionCost}\n            >\n              {selectedProtection}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Pressure Test - Only show if exists */}\n        {selectedPressure && (\n          <View style={styles.rowContainer}>\n            <LabelItem>PRESSURE TEST</LabelItem>\n            <BorderedItem price={pressureTestPrice}>\n              {selectedPressure}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Shipping - Only show if service exists */}\n        {selectedService && (\n          <View style={styles.rowContainer}>\n            <LabelItem>SHIPPING</LabelItem>\n            <BorderedItem price={shippingCost || 'FREE'}>\n              {selectedService}\n            </BorderedItem>\n          </View>\n        )}\n  \n        {/* Subtotal - Always show */}\n        <View style={styles.rowContainer}>\n          <LabelItem>SUBTOTAL</LabelItem>\n          <BorderedItem price={totalBeforeShipping}>\n            Before GST\n          </BorderedItem>\n        </View>\n      </View>\n  \n      {/* Total Price Display */}\n      <View style={styles.totalContainer}>\n        <Text style={styles.totalLabel}>Total Amount (Inc. GST)</Text>\n        <Text style={styles.totalValue}>\n          A${(totalBeforeShipping * 1.1).toFixed(2)} {/* Add 10% GST */}\n        </Text>\n      </View>\n    </View>\n  );\n\n  // Add error handling\n  if (!orderDetails) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>Error: Order details not found</Text>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  return (\n    <View style={styles.mainContainer}>\n      {/* Floating Back Button - Moved outside of ScreenWrapper */}\n      <TouchableOpacity \n        style={styles.floatingBackButton}\n        onPress={() => navigation.navigate('Welcome')}\n      >\n        <Text style={styles.backButtonText}>Place New Order</Text>\n      </TouchableOpacity>\n\n      {/* New Download PDF Button */}\n        <TouchableOpacity \n          style={styles.floatingDownloadButton}\n          onPress={handlePDFDownload}\n        >\n          <Text style={styles.backButtonText}>Download PDF</Text>\n        </TouchableOpacity>\n  \n      <ScreenWrapper>\n        <SafeAreaView style={styles.container}>\n          <View style={styles.logoContainer}>\n            <Image\n              source={require('../assets/fluidpower_logo.gif')}\n              style={styles.logo}\n              resizeMode=\"contain\"\n            />\n          </View>\n  \n          <View style={styles.titleContainer}>\n            <Text style={styles.titleText}>Order Details</Text>\n          </View>\n  \n          <ScrollView \n            style={styles.scrollView}\n            contentContainerStyle={styles.scrollContent}\n          >\n            {renderOrderSummary()}\n            {renderShippingDetails()}\n          </ScrollView>\n          {/* Add copyright text */}\n          <View style={styles.copyrightContainer}>\n            <Text style={styles.copyrightText}>\n              FluidPower Group All Rights Reserved {new Date().getFullYear()}\n            </Text>\n          </View>\n        </SafeAreaView>\n      </ScreenWrapper>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 18,\n    color: 'red',\n    textAlign: 'center',\n  },\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  mainContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: 20,\n    width: '100%',\n  },\n  logo: {\n    width: '100%',\n    height: undefined,\n    aspectRatio: 2,\n    resizeMode: 'contain',\n    maxWidth: 400,\n  },\n  titleContainer: {\n    alignItems: 'center',\n    marginTop: 15,\n    marginBottom: 20,\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    alignSelf: 'center',\n  },\n  titleText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    padding: 20,\n    alignItems: 'center',\n    width: '100%',\n  },\n  cutLengthRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 5,  // Reduced from 10 to match the design\n  },\n  numberedCircle: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#4a4a4a',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 8,  // Add some space between circle and text\n  },\n  numberedCircleText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  cutLengthsContainer: {\n    flex: 1,\n  },\n  cutLengthText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n  },\n  boxHeader: {\n    backgroundColor: '#4a4a4a',\n    padding: 15,\n  },\n  boxHeaderText: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  detailsGrid: {\n    padding: 15,\n    gap: 10,\n  },\n  detailsBox: {\n    backgroundColor: '#f5f5f5',\n    borderRadius: 15,\n    marginBottom: 20,\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n    overflow: 'hidden',\n    maxWidth: 600,  // Add this line\n    alignSelf: 'center',  // Add this line\n    width: '100%',  // Add this line\n},\n  detailLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n  },\n  detailValue: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    flex: 2,\n    textAlign: 'right',\n  },\n  totalContainer: {\n    backgroundColor: '#ffc100',\n    padding: 15,\n    alignItems: 'center',\n    borderTopWidth: 2,\n    borderTopColor: '#4a4a4a',\n  },\n  totalLabel: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    marginBottom: 5,\n  },\n  totalValue: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  // Existing styles from OrderConfirmationScreen1\n  labelItem: {\n    backgroundColor: '#4a4a4a',\n    borderRadius: 25,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  labelText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n  },\n  borderedItem: {\n    borderWidth: 4,\n    borderColor: '#4a4a4a',\n    borderRadius: 25,\n    padding: 15,\n    flex: 2,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  itemText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    flex: 1,\n    marginRight: 10,\n  },\n  priceBorder: {\n    backgroundColor: '#ffc100',\n    borderRadius: 15,\n    padding: 10,\n    minWidth: 100,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#4a4a4a',\n  },\n  priceText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n    textAlign: 'center',\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n    width: '100%', \n    maxWidth: 600, \n  },\n  orderDetailsContainer: {\n    padding: 15,\n  },\n  floatingBackButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    left: 30,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  backButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#4a4a4a',\n  },\n  floatingDownloadButton: {\n    position: 'absolute',\n    top: Platform.OS === 'ios' ? 60 : 20,\n    right: 30,  // Changed from 'left' to 'right'\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 5,\n      height: 8,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  copyrightContainer: {\n    paddingBottom: 20,\n    paddingTop: 10,\n    alignItems: 'center',\n  },\n  copyrightText: {\n    fontSize: 16,\n    color: '#4a4a4a',\n    textAlign: 'center',\n    fontStyle: 'italic',\n    opacity: 0.8,\n  },\n});\n\nexport default OrderDetailsScreen1;","// Create a new component file: PaymentSuccessPage.js\nimport React, { useEffect } from 'react';\nimport { View, Image } from 'react-native';\n\nconst PaymentSuccessPage = () => {\n  useEffect(() => {\n    // Close the window after 2 seconds\n    const timer = setTimeout(() => {\n      if (window.opener) {\n        window.close();\n      }\n    }, 2000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    <View style={{\n      flex: 1,\n      backgroundColor: 'white',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }}>\n      <Image\n        source={require('../assets/fluidpower_logo.gif')}\n        style={{\n          width: 300,\n          height: 150,\n          resizeMode: 'contain'\n        }}\n      />\n    </View>\n  );\n};\n\nexport default PaymentSuccessPage;","import 'react-native-gesture-handler';\nimport React from 'react';\nimport { View } from 'react-native';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\nimport { PDFViewer } from '@react-pdf/renderer';\nimport { Font } from '@react-pdf/renderer';\n\nimport WelcomeScreen from './screens/WelcomeScreen';\nimport HoseSelectionScreen from './screens/HoseSelectionScreen';\nimport FittingSelectionScreen from './screens/FittingSelectionScreen';\nimport End1FittingScreen from './screens/End1FittingScreen';\nimport BSPFittingScreen1 from './screens/BSPFittingScreen1';\nimport JICFittingScreen1 from './screens/JICFittingScreen1';\nimport MetricFittingScreen1 from './screens/MetricFittingScreen1';\nimport OrfsScreen1 from './screens/OrfsScreen1';\nimport End2FittingScreen from './screens/End2FittingScreen';\nimport BSPFittingScreen2 from './screens/BSPFittingScreen2';\nimport JICFittingScreen2 from './screens/JICFittingScreen2';\nimport MetricFittingScreen2 from './screens/MetricFittingScreen2';\nimport OrfsScreen2 from './screens/OrfsScreen2';\nimport OrientationSelectionScreen from './screens/OrientationSelectionScreen';\nimport CutLengthsScreen from './screens/CutLengthsScreen';\nimport HoseProtectionScreen from './screens/HoseProtectionScreen';\nimport PressureTestingScreen from './screens/PressureTestingScreen';\nimport ShippingOptionsScreen from './screens/ShippingOptionsScreen';\nimport OrderConfirmationScreen1 from './screens/OrderConfirmationScreen1';\nimport ShippingDetailsScreen from './screens/ShippingDetailsScreen';\nimport PaymentScreen from './screens/PaymentScreen';\nimport OrderConfirmationScreen from './screens/OrderConfirmationScreen';\nimport ScrollTestScreen from './screens/ScrollTestScreen';\nimport TrialScreen2 from './screens/TrialScreen2';\nimport OrderDetailsScreen from './screens/OrderDetailsScreen';\nimport OrderDetailsScreen1 from './screens/OrderDetailsScreen1';\nimport PaymentSuccessPage from './components/PaymentSuccessPage';\n\nFont.register({\n  family: 'Roboto',\n  fonts: [\n    { src: 'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-light-webfont.ttf' },\n    { src: 'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-bold-webfont.ttf', fontWeight: 'bold' },\n  ],\n});\n\nconst Stack = createStackNavigator();\n\nconst App = () => {\n  return (\n    <SafeAreaProvider>\n    <NavigationContainer>\n      <Stack.Navigator initialRouteName=\"Welcome\">\n        <Stack.Screen \n          name=\"ScrollTest\" \n          component={ScrollTestScreen} \n          options={{ \n            headerShown: true,  // Changed to true to ensure proper layout\n            headerTransparent: false,  // Ensure header doesn't interfere with scroll\n            title: 'Scroll Test',\n            headerStyle: {\n              backgroundColor: '#fff',\n            },\n          }} \n        />\n        <Stack.Screen name=\"Welcome\" component={WelcomeScreen} options={{ headerShown: false }} />\n        <Stack.Screen name=\"HoseSelection\" component={HoseSelectionScreen} options={{ headerShown: false }} />\n        <Stack.Screen name=\"TrialScreen2\" component={TrialScreen2} options={{ headerTransparent: true, headerBackground: () => ( <View style={{ flex: 1, backgroundColor: 'white' }} /> ), title: 'Trial Screen2' }} />\n        <Stack.Screen name=\"FittingSelection\" component={FittingSelectionScreen} options={{ headerTransparent: true, headerBackground: () => ( <View style={{ flex: 1, backgroundColor: 'white' }} /> ),  title: 'Select Fitting' }} />\n        <Stack.Screen name=\"End1Fitting\" component={End1FittingScreen} options={{ headerShown: false }} />\n        <Stack.Screen name=\"BSPFittingScreen1\" component={BSPFittingScreen1} options={{ headerShown: false }} />\n        <Stack.Screen name=\"JICFittingScreen1\" component={JICFittingScreen1} options={{ headerShown: false }} />\n        <Stack.Screen name=\"MetricFittingScreen1\" component={MetricFittingScreen1} options={{ headerShown: false }} />\n        <Stack.Screen name=\"OrfsScreen1\" component={OrfsScreen1} options={{ headerShown: false }} />\n        <Stack.Screen name=\"End2Fitting\" component={End2FittingScreen} options={{ headerShown: false }} />\n        <Stack.Screen name=\"BSPFittingScreen2\" component={BSPFittingScreen2} options={{ headerShown: false }} />\n        <Stack.Screen name=\"JICFittingScreen2\" component={JICFittingScreen2} options={{ headerShown: false }} />\n        <Stack.Screen name=\"MetricFittingScreen2\" component={MetricFittingScreen2} options={{ headerShown: false }} />\n        <Stack.Screen name=\"OrfsScreen2\" component={OrfsScreen2} options={{ headerShown: false }} />\n        <Stack.Screen name=\"OrientationSelectionScreen\" component={OrientationSelectionScreen} options={{ headerShown: false }} />\n        <Stack.Screen name=\"CutLengths\" component={CutLengthsScreen} options={{ headerShown: false }} />\n        <Stack.Screen name=\"HoseProtection\" component={HoseProtectionScreen} options={{ headerShown: false }} />\n        <Stack.Screen name=\"PressureTesting\" component={PressureTestingScreen} options={{ headerShown: false }} />\n        <Stack.Screen name=\"ShippingOptions\" component={ShippingOptionsScreen} options={{ headerShown: false }} />\n        <Stack.Screen name=\"OrderConfirmation1\" component={OrderConfirmationScreen1} options={{ headerShown: false }} />\n        <Stack.Screen name=\"ShippingDetails\" component={ShippingDetailsScreen} options={{ headerShown: false }} />\n        <Stack.Screen name=\"Payment\" component={PaymentScreen} options={{ headerShown: false }} />\n        <Stack.Screen name=\"OrderConfirmation\" component={OrderConfirmationScreen} options={{ headerLeft: null }} />\n        <Stack.Screen name=\"OrderDetails\" component={OrderDetailsScreen} options={{ title: 'Order Details', headerBackTitle: 'Back' }}/>\n        <Stack.Screen name=\"OrderDetails1\" component={OrderDetailsScreen1} options={{ headerShown: false }}/>\n        <Stack.Screen name=\"payment_success\" component={PaymentSuccessPage} options={{ headerShown: false }}/>\n        \n      </Stack.Navigator>\n    </NavigationContainer>\n    </SafeAreaProvider>\n\n\n  );\n};\n\nexport default App;","// components/PDFGenerator/WebPDFGenerator.js\nimport React from 'react';\nimport html2canvas from 'html2canvas';\nimport { jsPDF } from 'jspdf';\n\nconst WebPDFGenerator = ({ contentRef, onGenerateStart, onGenerateComplete, onError, orderId }) => {\n  const generatePDF = async ({ silent = false } = {}) => {\n    try {\n      if (!contentRef.current) return;\n      \n      onGenerateStart?.();\n\n      const element = contentRef.current;\n      const canvas = await html2canvas(element, {\n        scale: 2,\n        useCORS: true,\n        logging: false\n      });\n\n      const imgData = canvas.toDataURL('image/jpeg', 1.0);\n      const pdf = new jsPDF({\n        orientation: 'portrait',\n        unit: 'px',\n        format: [canvas.width, canvas.height]\n      });\n\n      pdf.addImage(imgData, 'JPEG', 0, 0, canvas.width, canvas.height);\n      \n      // Get PDF as buffer for email\n      const pdfBuffer = pdf.output('arraybuffer');\n\n      // If not silent, trigger download\n      if (!silent) {\n        // Generate filename using Order ID\n        const filename = `Order_${orderId}.pdf`;\n        \n        // Create blob and URL for download\n        const pdfBlob = new Blob([pdfBuffer], { type: 'application/pdf' });\n        const pdfUrl = URL.createObjectURL(pdfBlob);\n        \n        // Create and trigger download link\n        const link = document.createElement('a');\n        link.href = pdfUrl;\n        link.download = filename;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        // Clean up\n        URL.revokeObjectURL(pdfUrl);\n      }\n      \n      // Call onGenerateComplete with the PDF buffer\n      onGenerateComplete?.(pdfBuffer);\n      \n      return pdfBuffer;\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n      onError?.(error);\n      return null;\n    }\n  };\n\n  return { generatePDF };\n};\n\nexport default WebPDFGenerator;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + {\"159\":\"9d6f7378\",\"331\":\"d16c3da6\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [234], () => (__webpack_require__(5819)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_ref","children","style","wrapperRef","useRef","gradientRef","useEffect","checkScroll","current","wrapper","scrollableDistance","scrollHeight","clientHeight","currentScroll","scrollTop","isScrollable","isAtBottom","Math","ceil","floor","opacity","console","log","resizeObserver","ResizeObserver","entries","initialChecks","setTimeout","observe","addEventListener","MutationObserver","childList","subtree","window","removeEventListener","disconnect","_jsxs","ref","_objectSpread","height","overflowY","position","backgroundColor","isolation","_jsx","minHeight","paddingBottom","zIndex","bottom","left","right","background","pointerEvents","transition","styles","StyleSheet","create","container","flex","mainContainer","contentContainer","alignItems","logoContainer","justifyContent","marginVertical","width","logo","resizeMode","titleContainer","alignSelf","marginBottom","borderRadius","paddingVertical","paddingHorizontal","title","fontSize","fontWeight","color","messageContainer","messageText","highlightText","imageContainer","hoseImage","instructionsContainer","instructionsText","lineHeight","textAlign","spacedText","marginTop","startButton","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","startButtonText","asteriskContainer","asteriskText","copyrightText","fontStyle","modalOverlay","overlayBackground","top","selectionContainer","padding","selectionTitle","selectionButton","minWidth","borderWidth","borderColor","selectedButton","selectionButtonText","enquiryText","navigation","fadeAnim","Animated","Value","_useState","useState","_useState2","_slicedToArray","showSelectionModal","setShowSelectionModal","modalFadeAnim","_useState3","_useState4","setSelectedButton","handleCloseModal","timing","toValue","duration","useNativeDriver","start","useFocusEffect","React","setValue","View","ScrollableGradientWrapper","SafeAreaView","Image","source","require","Text","TouchableOpacity","onPress","Date","getFullYear","Modal","transparent","visible","onRequestClose","activeOpacity","navigate","isHoseOnly","selectedHose","selectedHosePrice","isOrderFittingMode","button","flexDirection","paddingRight","text","arrow","marginLeft","borderTopWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderBottomColor","borderLeftColor","buttonActive","textActive","arrowActive","isActive","SCREEN_WIDTH","Dimensions","get","HoseSizeButton","min","size","insideDiameter","specs","hosePrice","isSelected","buttonContainer","sizeButton","selectedSizeButton","sizeContent","sizeButtonText","sizeDescription","hoseImageContainer","hoseCrossSection","priceBorder","selectedPriceBorder","priceText","selectedPriceText","specsContainer","map","spec","index","specText","mainScrollView","mainScrollViewContent","flexGrow","titleWrapper","titleText","scrollView","scrollViewContent","maxWidth","overflow","innerContainer","selectedInnerContainer","marginRight","floatingBackButton","backButtonText","footer","floatingFooter","viewportFooter","marginHorizontal","footerContent","footerLeft","footerCenter","footerRight","hoseOnlyButton","hoseOnlyButtonText","placeholderButton","_ref2","route","useNavigation","selectedSize","setSelectedSize","setSelectedHosePrice","params","goBack","ScrollView","contentContainerStyle","showsVerticalScrollIndicator","hose","cleanPrice","trim","split","handleSizeSelection","subtitle","fittingType","fittingOption","selectedOption","fittingShape","selectedFitting","setSelectedFitting","type","shapes","fitting","shape","handleSelection","BUTTON_WIDTH","FittingTypeButton","description","onHelpPress","fittingButton","selectedFittingButton","fittingContent","fittingButtonText","fittingDescription","helpIcon","helpIconText","circleWrapper","circleText","diagram","diagramSpacing","helpImageContainer","helpImage","closeButton","closeButtonText","_route$params","showHelpOverlay","setShowHelpOverlay","_useState5","_useState6","currentHelpImage","setCurrentHelpImage","helpFadeAnim","fittingTypes","closeHelpOverlay","_Fragment","baseParams","TouchableWithoutFeedback","adjustPrice","basePrice","price","parseFloat","toFixed","ShapeButton","imagePath","shapeButton","selectedShapeButton","shapeButtonContent","shapeButtonSubtitle","shapeButtonImageContainer","shapeButtonImage","SizeButton","adjustedPrice","toString","sizeButtonContent","sizeTextContainer","animatedContainer","column","sectionTitleContainer","sectionTitle","sectionTitleText","sectionSubtitle","placeholderColumn","flexShrink","bottomContainer","fittingTypeContainer","fittingTypeText","ferruleContainer","ferruleImage","ferruleTextContainer","ferruleText","_ref3","selectedShape","setSelectedShape","_route$params$selecte","_route$params$selecte2","_route$params$selecte3","name","image","allSizes","compatibilityMatrix","sizes","hoseSize","compatibleSizes","filter","sizeObj","includes","getFilteredSizes","useCallback","handleNavigation","end1Shape","end1Size","end1Price","selectedEnd2Fitting","end2Shape","end2Size","end2Price","selectedAngle","handleShapeSelection","selectedSizeObj","find","setSelectedEnd2Fitting","fkex","_ref4","isStraightFitting","priceNumeric","Number","useRoute","AngleButton","angle","angleButton","selectedAngleButton","angleImage","angleText","hitSlop","helpIconVisual","subtitleContainer","subtitleText","undefined","aspectRatio","angleButtonsContainer","flexWrap","angleButtonWrapper","setSelectedAngle","angles","centerContent","angleData","scrollContent","selectedHoseContainer","selectedHoseHeader","selectedHoseSize","selectedHosePriceContainer","quantityRow","quantityContainer","quantityInput","errorContainer","errorText","inputError","cutLengthsContainer","cutLengthRow","cutLengthText","rowLabelContainer","rowNumberContainer","rowNumber","cutLengthInputContainer","cutLengthInput","unitText","pricingContainer","quantity","setQuantity","error","setError","cutLengths","setCutLengths","_useState7","_useState8","showCutLengths","setShowCutLengths","_useState9","_useState10","allLengthsFilled","setAllLengthsFilled","_useState11","_useState12","lastInputIndex","setLastInputIndex","_useState13","_useState14","cutLengthErrors","setCutLengthErrors","quantityInputRef","inputRefs","_useState15","_useState16","totalPrice","setTotalPrice","_useState17","_useState18","cutLengthPrice","setCutLengthPrice","_useState19","_useState20","hasSubmitted","setHasSubmitted","DynamicPriceDisplay","timer","focus","clearTimeout","num","parseInt","isNaN","Array","fill","length","unit","slice","allFilled","every","cut","emptyFields","newErrors","_toConsumableArray","forEach","test","calculatePrice","lengths","fittingPrice","qty","reduce","sum","parsedEnd1Price","parsedEnd2Price","calculatedPrice","handleInputSubmit","currentValue","TextInput","value","onChangeText","onSubmitEditing","maxQuantity","keyboardType","maxLength","returnKeyType","el","placeholder","placeholderTextColor","updatedLengths","updatedErrors","updateCutLength","onKeyPress","e","nativeEvent","key","preventDefault","handleKeyPress","blurOnSubmit","NextArrowButton","ProtectionTypeButton","protectionButton","selectedProtectionButton","protectionContent","protectionButtonText","contentRow","protectionImage","priceContainer","noImageContentCentered","PriceDisplay","hasProtection","titleFade","priceFade","pricingCard","pricingHeader","pricingValueContainer","pricingValue","subtitleContainer2","subtitleText2","noImageButton","paddingTop","noImageContent","paddingLeft","noImagePlaceholder","noImageSubtext","leftColumn","rightColumn","priceSummaryContainer","priceRow","priceLabel","priceValue","protectionCost","pricingSection","marginBottom20","selectedProtection","setSelectedProtection","initialPrice","setInitialPrice","protectionPrice","setProtectionPrice","protectionTypes","PROTECTION_PRICE_MULTIPLIERS","navigateToNext","nextScreen","hoseProtectionPrice","protection","sequence","parallel","newPrice","hasTestingSelected","PressureButton","pressureButton","selectedPressureButton","pressureButtonText","selectedPressure","setSelectedPressure","pressureTestPrice","setPressureTestPrice","pressure","buttonsContainer","handlePressureSelection","ShippingButton","shippingButton","selectedShippingButton","shippingContent","shippingButtonText","selectedPricingValueContainer","withShipping","selectedService","setSelectedService","setBasePrice","shippingPrice","setShippingPrice","receivedBasePrice","totalBeforeShipping","handleServiceSelection","service","finalPrice","shippingCost","totalPriceWithShipping","LabelItem","labelItem","labelText","BorderedItem","isCutLengths","borderedItem","cutLengthsLayout","cutLengthsContent","cutLengthsPriceBorder","itemText","NumberedCircle","number","numberedCircle","numberedCircleText","TotalPriceDisplay","total","totalPriceContainer","totalPriceLabelItem","totalPriceLabelText","totalPriceValueContainer","totalPriceValueText","cleanPriceString","priceStr","replace","mainContentContainer","orderDetailsContainer","rowContainer","itemContent","itemImage","totalPriceBorder","confirmButton","confirmButtonText","_React$useState","_React$useState2","setIsSelected","_ref5","selectedMethod","getTotalLength","orderDetails","end1","end2","hoseProtection","pressureTest","shippingMethod","shippingService","calculatePrices","baseHosePrice","protectionAmount","finalShippingCost","displayTotalPrice","Object","_ref6","_ref7","_ref8","label","content","_ref9","i","toUpperCase","STATES","requiredFieldsText","asterisk","formContainer","inputRow","labelContainer","inputContainer","input","pickerContainer","picker","proceedButton","proceedButtonText","formSubmitAttempted","setFormSubmitAttempted","companyName","address","suburb","state","postcode","email","contactNumber","formFields","setFormFields","setTouchedFields","errors","setErrors","validateField","updateField","prev","_defineProperty","renderInputField","arguments","isOptional","additionalProps","currentFieldName","keys","onBlur","handleInputBlur","Picker","selectedValue","onValueChange","itemValue","itemStyle","Item","hasErrors","fieldName","shippingDetails","paypalUrl","onNavigationStateChange","paypalWindowRef","checkIntervalRef","hasOpenedWindow","open","setInterval","_paypalWindowRef$curr","_paypalWindowRef$curr2","_paypalWindowRef$curr3","closed","cleanupAndClose","location","href","currentUrl","handleSuccess","handleCancel","clearInterval","close","url","webView","totalContainer","totalText","paypalContainer","paypalButton","paypalButtonDisabled","paypalButtonText","securePaymentText","shippingDetailsContainer","detailsGrid","gap","detailRow","detailLabel","detailValue","priceBreakdownContainer","priceDetailsGrid","loadingOverlay","loadingContainer","loadingLogo","loadingText","showPayPalModal","setShowPayPalModal","setPaypalUrl","isProcessing","setIsProcessing","subtotal","shippingAmount","gst","finalTotal","animation","stop","successUrl","origin","cancelUrl","URLSearchParams","cmd","business","amount","currency_code","item_name","return","cancel_return","rm","PayPalWebView","navState","userDetails","paymentId","now","reset","routes","success","ActivityIndicator","BREVO_API_KEY","BREVO_API_URL","sendOrderEmail","_asyncToGenerator","_orderDetails$userDet","_orderDetails$userDet2","_orderDetails$userDet3","_orderDetails$userDet4","_orderDetails$userDet5","_orderDetails$userDet6","_orderDetails$userDet7","attachments","pdfAttachment","binaryString","Uint8Array","acc","byte","String","fromCharCode","pdfBase64","btoa","push","orderNumber","priceBreakdown","details","subtotalWithShipping","shipping","calculatePriceBreakdown","formatPrice","priceBreakdownHTML","businessEmailPayload","sender","to","subject","attachment","htmlContent","_orderDetails$userDet8","businessResponse","fetch","method","headers","body","JSON","stringify","ok","data","json","Error","status","customerEmailPayload","customerResponse","message","stack","_x","apply","successTitle","emailTitle","detailsBox","boxHeader","boxHeaderText","totalLabel","totalValue","cutLengthsContentWrapper","actionButton","buttonText","bulletPoints","bulletPoint","tryAgainButton","tryAgainText","copyrightContainer","floatingDownloadButton","disabledButton","contentRef","isGeneratingPDF","setIsGeneratingPDF","emailSent","setEmailSent","backHandler","BackHandler","handlePlaceAnotherOrder","remove","autoGeneratePDF","generatePDF","silent","_PDFGenerator","PDFGenerator","orderId","onGenerateStart","onGenerateComplete","_onGenerateComplete","pdfBuffer","emailData","userEmail","totalAmount","onError","handlePDFDownload","renderShippingDetails","renderOrderSummary","disabled","src","objectFit","alt","section","margin","boxShadow","display","sectionText","descriptionText","_","headerSection","statusBadge","statusText","totalRow","actionButtons","shareButton","shareButtonText","newOrderButton","newOrderButtonText","sectionContent","handleShareOrder","shareMessage","Share","share","renderSection","maxHeight","WebkitOverflowScrolling","blob","pdf","OrderPDF","toBlob","URL","createObjectURL","link","document","createElement","download","appendChild","click","removeChild","revokeObjectURL","ScreenWrapper","opener","Font","register","family","fonts","Stack","createStackNavigator","SafeAreaProvider","NavigationContainer","Navigator","initialRouteName","Screen","component","ScrollTestScreen","options","headerShown","headerTransparent","headerStyle","WelcomeScreen","HoseSelectionScreen","TrialScreen2","headerBackground","FittingSelectionScreen","End1FittingScreen","BSPFittingScreen1","JICFittingScreen1","MetricFittingScreen1","OrfsScreen1","End2FittingScreen","BSPFittingScreen2","JICFittingScreen2","MetricFittingScreen2","OrfsScreen2","OrientationSelectionScreen","CutLengthsScreen","HoseProtectionScreen","PressureTestingScreen","ShippingOptionsScreen","OrderConfirmationScreen1","ShippingDetailsScreen","PaymentScreen","OrderConfirmationScreen","headerLeft","OrderDetailsScreen","headerBackTitle","OrderDetailsScreen1","PaymentSuccessPage","_ref3$silent","element","canvas","html2canvas","scale","useCORS","logging","imgData","toDataURL","jsPDF","orientation","format","addImage","output","filename","pdfBlob","Blob","pdfUrl","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","splice","r","n","getter","__esModule","d","a","leafPrototypes","getProto","getPrototypeOf","obj","t","mode","this","then","ns","def","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","f","chunkId","Promise","all","promises","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","event","onerror","onload","doneFns","parentNode","bind","target","head","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","resolve","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}